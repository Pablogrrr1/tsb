!function(a,b,c){"use strict";function d(a,b,c){if(!a)throw qa("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function e(a,b){return a||b?a?b?(R(a)&&(a=a.join(" ")),R(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function f(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function g(a,b,c){var d="";return a=R(a)?a:a&&S(a)&&a.length?a.split(/\s+/):[],Q(a,function(a,e){a&&a.length>0&&(d+=e>0?" ":"",d+=c?b+a:a+b)}),d}function h(a,b){var c=a.indexOf(b);b>=0&&a.splice(c,1)}function i(a){if(a instanceof P)switch(a.length){case 0:return[];case 1:if(a[0].nodeType===Y)return a;break;default:return P(j(a))}return a.nodeType===Y?P(a):void 0}function j(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==Y)return c}}function k(a,b,c){Q(b,function(b){a.addClass(b,c)})}function l(a,b,c){Q(b,function(b){a.removeClass(b,c)})}function m(a){return function(b,c){c.addClass&&(k(a,b,c.addClass),c.addClass=null),c.removeClass&&(l(a,b,c.removeClass),c.removeClass=null)}}function n(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||M;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=M},a.$$prepared=!0}return a}function o(a,b){p(a,b),q(a,b)}function p(a,b){b.from&&(a.css(b.from),b.from=null)}function q(a,b){b.to&&(a.css(b.to),b.to=null)}function r(a,b,c){var d=b.options||{},e=c.options||{},f=(d.addClass||"")+" "+(e.addClass||""),g=(d.removeClass||"")+" "+(e.removeClass||""),h=s(a.attr("class"),f,g);e.preparationClasses&&(d.preparationClasses=z(e.preparationClasses,d.preparationClasses),delete e.preparationClasses);var i=d.domOperation!==M?d.domOperation:null;return O(d,e),i&&(d.domOperation=i),h.addClass?d.addClass=h.addClass:d.addClass=null,h.removeClass?d.removeClass=h.removeClass:d.removeClass=null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function s(a,b,c){function d(a){S(a)&&(a=a.split(" "));var b={};return Q(a,function(a){a.length&&(b[a]=!0)}),b}var e=1,f=-1,g={};a=d(a),b=d(b),Q(b,function(a,b){g[b]=e}),c=d(c),Q(c,function(a,b){g[b]=g[b]===e?null:f});var h={addClass:"",removeClass:""};return Q(g,function(b,c){var d,g;b===e?(d="addClass",g=!a[c]):b===f&&(d="removeClass",g=a[c]),g&&(h[d].length&&(h[d]+=" "),h[d]+=c)}),h}function t(a){return a instanceof b.element?a[0]:a}function u(a,b,c){var d="";b&&(d=g(b,_,!0)),c.addClass&&(d=z(d,g(c.addClass,Z))),c.removeClass&&(d=z(d,g(c.removeClass,$))),d.length&&(c.preparationClasses=d,a.addClass(d))}function v(a,b){b.preparationClasses&&(a.removeClass(b.preparationClasses),b.preparationClasses=null),b.activeClasses&&(a.removeClass(b.activeClasses),b.activeClasses=null)}function w(a,b){var c=b?"-"+b+"s":"";return y(a,[oa,c]),[oa,c]}function x(a,b){var c=b?"paused":"",d=K+ka;return y(a,[d,c]),[d,c]}function y(a,b){var c=b[0],d=b[1];a.style[c]=d}function z(a,b){return a?b?a+" "+b:a:b}function A(a){return[na,a+"s"]}function B(a,b){var c=b?ma:oa;return[c,a+"s"]}function C(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return Q(c,function(a,b){var c=e[a];if(c){var f=c.charAt(0);("-"===f||"+"===f||f>=0)&&(c=D(c)),0===c&&(c=null),d[b]=c}}),d}function D(a){var b=0,c=a.split(/\s*,\s*/);return Q(c,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function E(a){return 0===a||null!=a}function F(a,b){var c=I,d=a+"s";return b?c+=fa:d+=" linear all",[c,d]}function G(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){var c=a[b];return c?c.total:0},get:function(b){var c=a[b];return c&&c.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function H(a,b,c){Q(c,function(c){a[c]=V(a[c])?a[c]:b.style.getPropertyValue(c)})}var I,J,K,L,M=b.noop,N=b.copy,O=b.extend,P=b.element,Q=b.forEach,R=b.isArray,S=b.isString,T=b.isObject,U=b.isUndefined,V=b.isDefined,W=b.isFunction,X=b.isElement,Y=1,Z="-add",$="-remove",_="ng-",aa="-active",ba="-prepare",ca="ng-animate",da="$$ngAnimateChildren",ea="";U(a.ontransitionend)&&V(a.onwebkittransitionend)?(ea="-webkit-",I="WebkitTransition",J="webkitTransitionEnd transitionend"):(I="transition",J="transitionend"),U(a.onanimationend)&&V(a.onwebkitanimationend)?(ea="-webkit-",K="WebkitAnimation",L="webkitAnimationEnd animationend"):(K="animation",L="animationend");var fa="Duration",ga="Property",ha="Delay",ia="TimingFunction",ja="IterationCount",ka="PlayState",la=9999,ma=K+ha,na=K+fa,oa=I+ha,pa=I+fa,qa=b.$$minErr("ng"),ra=["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),f=0;f<b.length;f++)b[f]();e||a(function(){e||c()})}}var d,e;return d=b.queue=[],b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}],sa=["$interpolate",function(a){return{link:function(c,d,e){function f(a){a="on"===a||"true"===a,d.data(da,a)}var g=e.ngAnimateChildren;b.isString(g)&&0===g.length?d.data(da,!0):(f(a(g)(c)),e.$observe("ngAnimateChildren",f))}}}],ta="$$animateCss",ua=1e3,va=3,wa=1.5,xa={transitionDuration:pa,transitionDelay:oa,transitionProperty:I+ga,animationDuration:na,animationDelay:ma,animationIterationCount:K+ja},ya={transitionDuration:pa,transitionDelay:oa,animationDuration:na,animationDelay:ma},za=["$animateProvider",function(a){var b=G(),c=G();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,d,e,i,j,k,l,r){function s(a,b){var c="$$ngAnimateParentKey",d=a.parentNode,e=d[c]||(d[c]=++O);return e+"-"+a.getAttribute("class")+"-"+b}function u(c,d,e,f){var g=b.get(e);return g||(g=C(a,c,f),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1)),b.put(e,g),g}function v(e,f,h,i){var j;if(b.count(h)>0&&(j=c.get(h),!j)){var k=g(f,"-stagger");d.addClass(e,k),j=C(a,e,i),j.animationDuration=Math.max(j.animationDuration,0),j.transitionDuration=Math.max(j.transitionDuration,0),d.removeClass(e,k),c.put(h,j)}return j||{}}function z(a){P.push(a),l.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=j(),d=0;d<P.length;d++)P[d](a);P.length=0})}function D(a,b,c){var d=u(a,b,c,xa),e=d.animationDelay,f=d.transitionDelay;return d.maxDelay=e&&f?Math.max(e,f):e||f,d.maxDuration=Math.max(d.animationDuration*d.animationIterationCount,d.transitionDuration),d}var G=m(d),O=0,P=[];return function(a,c){function j(){m()}function l(){m(!0)}function m(b){if(!(V||X&&W)){V=!0,W=!1,S.$$skipPreparationClasses||d.removeClass(a,sa),d.removeClass(a,za),x(U,!1),w(U,!1),Q(ja,function(a){U.style[a[0]]=""}),G(a,S),o(a,S),Object.keys(T).length&&Q(T,function(a,b){a?U.style.setProperty(b,a):U.style.removeProperty(b)}),S.onDone&&S.onDone(),na&&na.length&&a.off(na.join(" "),O);var c=a.data(ta);c&&(i.cancel(c[0].timer),a.removeData(ta)),Y&&Y.complete(!b)}}function u(a){Na.blockTransition&&w(U,a),Na.blockKeyframeAnimation&&x(U,!!a)}function C(){return Y=new e({end:j,cancel:l}),z(M),m(),{$$willAnimate:!1,start:function(){return Y},end:j}}function O(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||Date.now(),d=parseFloat(b.elapsedTime.toFixed(va));Math.max(c-ha,0)>=da&&d>=ea&&(X=!0,m())}function P(){function b(){if(!V){if(u(!1),Q(ja,function(a){var b=a[0],c=a[1];U.style[b]=c}),G(a,S),d.addClass(a,za),Na.recalculateTimingStyles){if(xa=U.className+" "+sa,Ca=s(U,xa),La=D(U,xa,Ca),Ma=La.maxDelay,ca=Math.max(Ma,0),ea=La.maxDuration,0===ea)return void m();Na.hasTransitions=La.transitionDuration>0,Na.hasAnimations=La.animationDuration>0}if(Na.applyAnimationDelay&&(Ma="boolean"!=typeof S.delay&&E(S.delay)?parseFloat(S.delay):Ma,ca=Math.max(Ma,0),La.animationDelay=Ma,Oa=B(Ma,!0),ja.push(Oa),U.style[Oa[0]]=Oa[1]),da=ca*ua,fa=ea*ua,S.easing){var b,e=S.easing;Na.hasTransitions&&(b=I+ia,ja.push([b,e]),U.style[b]=e),Na.hasAnimations&&(b=K+ia,ja.push([b,e]),U.style[b]=e)}La.transitionDuration&&na.push(J),La.animationDuration&&na.push(L),ha=Date.now();var f=da+wa*fa,g=ha+f,h=a.data(ta)||[],j=!0;if(h.length){var k=h[0];j=g>k.expectedEndTime,j?i.cancel(k.timer):h.push(m)}if(j){var l=i(c,f,!1);h[0]={timer:l,expectedEndTime:g},h.push(m),a.data(ta,h)}na.length&&a.on(na.join(" "),O),S.to&&(S.cleanupStyles&&H(T,U,Object.keys(S.to)),q(a,S))}}function c(){var b=a.data(ta);if(b){for(var c=1;c<b.length;c++)b[c]();a.removeData(ta)}}if(!V){if(!U.parentNode)return void m();var e=function(a){if(X)W&&a&&(W=!1,m());else if(W=!a,La.animationDuration){var b=x(U,W);W?ja.push(b):h(ja,b)}},f=Ja>0&&(La.transitionDuration&&0===Da.transitionDuration||La.animationDuration&&0===Da.animationDuration)&&Math.max(Da.animationDelay,Da.transitionDelay);f?i(b,Math.floor(f*Ja*ua),!1):b(),ba.resume=function(){e(!0)},ba.pause=function(){e(!1)}}}var S=c||{};S.$$prepared||(S=n(N(S)));var T={},U=t(a);if(!U||!U.parentNode||!r.enabled())return C();var V,W,X,Y,ba,ca,da,ea,fa,ha,ja=[],ka=a.attr("class"),ma=f(S),na=[];if(0===S.duration||!k.animations&&!k.transitions)return C();var oa=S.event&&R(S.event)?S.event.join(" "):S.event,pa=oa&&S.structural,qa="",ra="";pa?qa=g(oa,_,!0):oa&&(qa=oa),S.addClass&&(ra+=g(S.addClass,Z)),S.removeClass&&(ra.length&&(ra+=" "),ra+=g(S.removeClass,$)),S.applyClassesEarly&&ra.length&&G(a,S);var sa=[qa,ra].join(" ").trim(),xa=ka+" "+sa,za=g(sa,aa),Aa=ma.to&&Object.keys(ma.to).length>0,Ba=(S.keyframeStyle||"").length>0;if(!Ba&&!Aa&&!sa)return C();var Ca,Da;if(S.stagger>0){var Ea=parseFloat(S.stagger);Da={transitionDelay:Ea,animationDelay:Ea,transitionDuration:0,animationDuration:0}}else Ca=s(U,xa),Da=v(U,sa,Ca,ya);S.$$skipPreparationClasses||d.addClass(a,sa);var Fa;if(S.transitionStyle){var Ga=[I,S.transitionStyle];y(U,Ga),ja.push(Ga)}if(S.duration>=0){Fa=U.style[I].length>0;var Ha=F(S.duration,Fa);y(U,Ha),ja.push(Ha)}if(S.keyframeStyle){var Ia=[K,S.keyframeStyle];y(U,Ia),ja.push(Ia)}var Ja=Da?S.staggerIndex>=0?S.staggerIndex:b.count(Ca):0,Ka=0===Ja;Ka&&!S.skipBlocking&&w(U,la);var La=D(U,xa,Ca),Ma=La.maxDelay;ca=Math.max(Ma,0),ea=La.maxDuration;var Na={};if(Na.hasTransitions=La.transitionDuration>0,Na.hasAnimations=La.animationDuration>0,Na.hasTransitionAll=Na.hasTransitions&&"all"==La.transitionProperty,Na.applyTransitionDuration=Aa&&(Na.hasTransitions&&!Na.hasTransitionAll||Na.hasAnimations&&!Na.hasTransitions),Na.applyAnimationDuration=S.duration&&Na.hasAnimations,Na.applyTransitionDelay=E(S.delay)&&(Na.applyTransitionDuration||Na.hasTransitions),Na.applyAnimationDelay=E(S.delay)&&Na.hasAnimations,Na.recalculateTimingStyles=ra.length>0,(Na.applyTransitionDuration||Na.applyAnimationDuration)&&(ea=S.duration?parseFloat(S.duration):ea,Na.applyTransitionDuration&&(Na.hasTransitions=!0,La.transitionDuration=ea,Fa=U.style[I+ga].length>0,ja.push(F(ea,Fa))),Na.applyAnimationDuration&&(Na.hasAnimations=!0,La.animationDuration=ea,ja.push(A(ea)))),0===ea&&!Na.recalculateTimingStyles)return C();if(null!=S.delay){var Oa;"boolean"!=typeof S.delay&&(Oa=parseFloat(S.delay),ca=Math.max(Oa,0)),Na.applyTransitionDelay&&ja.push(B(Oa)),Na.applyAnimationDelay&&ja.push(B(Oa,!0))}return null==S.duration&&La.transitionDuration>0&&(Na.recalculateTimingStyles=Na.recalculateTimingStyles||Ka),da=ca*ua,fa=ea*ua,S.skipBlocking||(Na.blockTransition=La.transitionDuration>0,Na.blockKeyframeAnimation=La.animationDuration>0&&Da.animationDelay>0&&0===Da.animationDuration),S.from&&(S.cleanupStyles&&H(T,U,Object.keys(S.from)),p(a,S)),Na.blockTransition||Na.blockKeyframeAnimation?u(ea):S.skipBlocking||w(U,!1),{$$willAnimate:!0,end:j,start:function(){return V?void 0:(ba={end:j,cancel:l,resume:null,pause:null},Y=new e(ba),z(P),Y)}}}}]}],Aa=["$$animationProvider",function(a){function b(a){return a.parentNode&&11===a.parentNode.nodeType}a.drivers.push("$$animateCssDriver");var c="ng-animate-shim",d="ng-anchor",e="ng-anchor-out",f="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,g,h,i,j,k,l){function n(a){return a.replace(/\bng-\S+\b/g,"")}function o(a,b){return S(a)&&(a=a.split(" ")),S(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function p(b,g,i){function j(a){var b={},c=t(a).getBoundingClientRect();return Q(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=s.scrollTop;break;case"left":d+=s.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function k(){var b=a(q,{addClass:e,delay:!0,from:j(g)});return b.$$willAnimate?b:null}function l(a){return a.attr("class")||""}function m(){var b=n(l(i)),c=o(b,r),d=o(r,b),g=a(q,{to:j(i),addClass:f+" "+c,removeClass:e+" "+d,delay:!0});return g.$$willAnimate?g:null}function p(){q.remove(),g.removeClass(c),i.removeClass(c)}var q=P(t(g).cloneNode(!0)),r=n(l(q));g.addClass(c),i.addClass(c),q.addClass(d),v.append(q);var u,w=k();if(!w&&(u=m(),!u))return p();var x=w||u;return{start:function(){function a(){c&&c.end()}var b,c=x.start();return c.done(function(){return c=null,!u&&(u=m())?(c=u.start(),c.done(function(){c=null,p(),b.complete()}),c):(p(),void b.complete())}),b=new h({end:a,cancel:a})}}}function q(a,b,c,d){var e=r(a,M),f=r(b,M),g=[];return Q(d,function(a){var b=a.out,d=a["in"],e=p(c,b,d);e&&g.push(e)}),e||f||0!==g.length?{start:function(){function a(){Q(b,function(a){a.end()})}var b=[];e&&b.push(e.start()),f&&b.push(f.start()),Q(g,function(a){b.push(a.start())});var c=new h({end:a,cancel:a});return h.all(b,function(a){c.complete(a)}),c}}:void 0}function r(b){var c=b.element,d=b.options||{};b.structural&&(d.event=b.event,d.structural=!0,d.applyClassesEarly=!0,"leave"===b.event&&(d.onDone=d.domOperation)),d.preparationClasses&&(d.event=z(d.event,d.preparationClasses));var e=a(c,d);return e.$$willAnimate?e:null}if(!j.animations&&!j.transitions)return M;var s=l[0].body,u=t(i),v=P(b(u)||s.contains(u)?u:s);m(k);return function(a){return a.from&&a.to?q(a.from,a.to,a.classes,a.anchors):r(a)}}]}],Ba=["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=R(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var g=c[f],h=a.$$registeredAnimations[g];h&&!e[g]&&(d.push(b.get(h)),e[g]=!0)}return d}var f=m(d);return function(a,b,d,g){function h(){g.domOperation(),f(a,g)}function i(){m=!0,h(),o(a,g)}function j(a,b,d,e,f){var g;switch(d){case"animate":g=[b,e.from,e.to,f];break;case"setClass":g=[b,r,s,f];break;case"addClass":g=[b,r,f];break;case"removeClass":g=[b,s,f];break;default:g=[b,f]}g.push(e);var h=a.apply(a,g);if(h)if(W(h.start)&&(h=h.start()),h instanceof c)h.done(f);else if(W(h))return h;return M}function k(a,b,d,e,f){var g=[];return Q(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,i=function(a){g||(g=!0,(f||M)(a),e.complete(!a))};return e=new c({end:function(){i()},cancel:function(){i(!0)}}),f=j(h,a,b,d,function(a){var b=a===!1;i(b)}),e})}),g}function l(a,b,d,e,f){var g=k(a,b,d,e,f);if(0===g.length){var h,i;"beforeSetClass"===f?(h=k(a,"removeClass",d,e,"beforeRemoveClass"),i=k(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=k(a,"removeClass",d,e,"removeClass"),i=k(a,"addClass",d,e,"addClass")),h&&(g=g.concat(h)),i&&(g=g.concat(i))}if(0!==g.length)return function(a){var b=[];return g.length&&Q(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){Q(b,function(b){a?b.cancel():b.end()})}}}var m=!1;3===arguments.length&&T(d)&&(g=d,d=null),g=n(g),d||(d=a.attr("class")||"",g.addClass&&(d+=" "+g.addClass),g.removeClass&&(d+=" "+g.removeClass));var p,q,r=g.addClass,s=g.removeClass,t=e(d);if(t.length){var u,v;"leave"==b?(v="leave",u="afterLeave"):(v="before"+b.charAt(0).toUpperCase()+b.substr(1),u=b),"enter"!==b&&"move"!==b&&(p=l(a,b,g,t,v)),q=l(a,b,g,t,u)}if(p||q){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(i(),w=new c,w.complete(!0)),w},start:function(){function a(a){i(a),w.complete(a)}function b(b){m||((d||M)(b),a(b))}if(w)return w;w=new c;var d,e=[];return p&&e.push(function(a){d=p(a)}),e.length?e.push(function(a){h(),a(!0)}):h(),q&&e.push(function(a){d=q(a)}),w.setHost({end:function(){b()},cancel:function(){b(!0)}}),c.chain(e,a),w}}}}}]}],Ca=["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,b){function c(b){var c=b.element,d=b.event,e=b.options,f=b.classes;return a(c,d,f,e)}return function(a){if(a.from&&a.to){var d=c(a.from),e=c(a.to);if(!d&&!e)return;return{start:function(){function a(){return function(){Q(f,function(a){a.end()})}}function c(a){g.complete(a)}var f=[];d&&f.push(d.start()),e&&f.push(e.start()),b.all(f,c);var g=new b({end:a(),cancel:a()});return g}}}return c(a)}}]}],Da="data-ng-animate",Ea="$ngAnimatePin",Fa=["$animateProvider",function(a){function b(a){if(!a)return null;var b=a.split(k),c=Object.create(null);return Q(b,function(a){c[a]=!0}),c}function c(a,c){if(a&&c){var d=b(c);return a.split(k).some(function(a){return d[a]})}}function e(a,b,c,d){return l[a].some(function(a){return a(b,c,d)})}function f(a,b){var c=(a.addClass||"").length>0,d=(a.removeClass||"").length>0;return b?c&&d:c||d}var g=1,h=2,k=" ",l=this.rules={skip:[],cancel:[],join:[]};l.join.push(function(a,b,c){return!b.structural&&f(b)}),l.skip.push(function(a,b,c){return!b.structural&&!f(b)}),l.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),l.skip.push(function(a,b,c){return c.structural&&c.state===h&&!b.structural}),l.cancel.push(function(a,b,c){return c.structural&&b.structural}),l.cancel.push(function(a,b,c){return c.state===h&&b.structural}),l.cancel.push(function(a,b,d){if(d.structural)return!1;var e=b.addClass,f=b.removeClass,g=d.addClass,h=d.removeClass;return U(e)&&U(f)||U(g)&&U(h)?!1:c(e,h)||c(f,g)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(b,c,k,l,p,q,s,w,x,y){function z(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0,b()})}}function A(a,b){return r(a,b,{})}function B(a,b,c){var d=t(b),e=t(a),f=[],g=M[c];return g&&Q(g,function(a){_.call(a.node,d)?f.push(a.callback):"leave"===c&&_.call(a.node,e)&&f.push(a.callback)}),f}function C(a,d,j){function k(c,d,e,f){C(function(){var c=B(w,a,d);c.length&&b(function(){Q(c,function(b){b(a,e,f)})})}),c.progress(d,e,f)}function m(b){v(a,x),$(a,x),o(a,x),x.domOperation(),y.complete(!b)}var p,w,x=N(j);a=i(a),a&&(p=t(a),w=a.parent()),x=n(x);var y=new s,C=z();if(R(x.addClass)&&(x.addClass=x.addClass.join(" ")),x.addClass&&!S(x.addClass)&&(x.addClass=null),R(x.removeClass)&&(x.removeClass=x.removeClass.join(" ")),x.removeClass&&!S(x.removeClass)&&(x.removeClass=null),x.from&&!T(x.from)&&(x.from=null),x.to&&!T(x.to)&&(x.to=null),!p)return m(),y;var F=[p.className,x.addClass,x.removeClass].join(" ");if(!Z(F))return m(),y;var L=["enter","move","leave"].indexOf(d)>=0,M=!K||l[0].hidden||J.get(p),O=!M&&I.get(p)||{},P=!!O.state;if(M||P&&O.state==g||(M=!G(a,w,d)),M)return m(),y;L&&D(a);var U={structural:L,element:a,event:d,addClass:x.addClass,removeClass:x.removeClass,close:m,options:x,runner:y};if(P){var V=e("skip",a,U,O);if(V)return O.state===h?(m(),y):(r(a,O,U),O.runner);var W=e("cancel",a,U,O);if(W)if(O.state===h)O.runner.end();else{if(!O.structural)return r(a,O,U),O.runner;O.close()}else{var X=e("join",a,U,O);if(X){if(O.state!==h)return u(a,L?d:null,x),d=U.event=O.event,x=r(a,O,U),O.runner;A(a,U)}}}else A(a,U);var Y=U.structural;if(Y||(Y="animate"===U.event&&Object.keys(U.options.to||{}).length>0||f(U)),!Y)return m(),E(a),y;var _=(O.counter||0)+1;return U.counter=_,H(a,g,U),c.$$postDigest(function(){var b=I.get(p),c=!b;b=b||{};var e=a.parent()||[],g=e.length>0&&("animate"===b.event||b.structural||f(b));if(c||b.counter!==_||!g)return c&&($(a,x),o(a,x)),(c||L&&b.event!==d)&&(x.domOperation(),y.end()),void(g||E(a));d=!b.structural&&f(b,!0)?"setClass":b.event,H(a,h);var i=q(a,d,b.options);i.done(function(b){m(!b);var c=I.get(p);c&&c.counter===_&&E(t(a)),k(y,d,"close",{})}),y.setHost(i),k(y,d,"start",{})}),y}function D(a){var b=t(a),c=b.querySelectorAll("["+Da+"]");Q(c,function(a){var b=parseInt(a.getAttribute(Da)),c=I.get(a);if(c)switch(b){case h:c.runner.end();case g:I.remove(a)}})}function E(a){var b=t(a);b.removeAttribute(Da),I.remove(b)}function F(a,b){return t(a)===t(b)}function G(a,b,c){var d,e=P(l[0].body),f=F(a,e)||"HTML"===a[0].nodeName,g=F(a,k),h=!1,i=J.get(t(a)),j=P.data(a[0],Ea);for(j&&(b=j),b=t(b);b&&(g||(g=F(b,k)),b.nodeType===Y);){var m=I.get(b)||{};if(!h){var n=J.get(b);if(n===!0&&i!==!1){i=!0;break}n===!1&&(i=!1),h=m.structural}if(U(d)||d===!0){var o=P.data(b,da);V(o)&&(d=o)}if(h&&d===!1)break;if(f||(f=F(b,e)),f&&g)break;b=g||!(j=P.data(b,Ea))?b.parentNode:t(j)}var p=(!h||d)&&i!==!0;return p&&g&&f}function H(a,b,c){c=c||{},c.state=b;var d=t(a);d.setAttribute(Da,b);var e=I.get(d),f=e?O(e,c):c;I.put(d,f)}var I=new p,J=new p,K=null,L=c.$watch(function(){return 0===w.totalPendingRequests},function(a){a&&(L(),c.$$postDigest(function(){c.$$postDigest(function(){null===K&&(K=!0)})}))}),M={},W=a.classNameFilter(),Z=W?function(a){return W.test(a)}:function(){return!0},$=m(x),_=Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))},aa={on:function(a,b,c){var d=j(b);M[a]=M[a]||[],M[a].push({node:d,callback:c}),P(b).on("$destroy",function(){aa.off(a,b,c)})},off:function(a,b,c){function d(a,b,c){var d=j(b);return a.filter(function(a){var b=a.node===d&&(!c||a.callback===c);return!b})}var e=M[a];e&&(M[a]=1===arguments.length?null:d(e,b,c))},pin:function(a,b){d(X(a),"element","not an element"),d(X(b),"parentElement","not an element"),a.data(Ea,b)},push:function(a,b,c,d){return c=c||{},c.domOperation=d,C(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!K;else{var d=X(a);if(d){var e=t(a),f=J.get(e);1===c?b=!f:J.put(e,!b)}else b=K=!!a}return b}};return aa}]}],Ga=["$animateProvider",function(a){function b(a,b){a.data(h,b)}function c(a){a.removeData(h)}function d(a){return a.data(h)}var f="ng-animate-ref",g=this.drivers=[],h="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,h,i,j,k,l){function p(a){function b(a){if(a.processed)return a;a.processed=!0;var c=a.domNode,d=c.parentNode;f.put(c,a);for(var g;d;){if(g=f.get(d)){g.processed||(g=b(g));break}d=d.parentNode}return(g||e).children.push(a),a}function c(a){var b,c=[],d=[];for(b=0;b<a.children.length;b++)d.push(a.children[b]);var e=d.length,f=0,g=[];for(b=0;b<d.length;b++){var h=d[b];0>=e&&(e=f,f=0,c.push(g),g=[]),g.push(h.fn),h.children.forEach(function(a){f++,d.push(a)}),e--}return g.length&&c.push(g),c}var d,e={children:[]},f=new k;for(d=0;d<a.length;d++){var g=a[d];f.put(g.domNode,a[d]={domNode:g.domNode,fn:g.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return c(e)}var q=[],r=m(a);return function(k,m,s){function u(a){var b="["+f+"]",c=a.hasAttribute(f)?[a]:a.querySelectorAll(b),d=[];return Q(c,function(a){var b=a.getAttribute(f);b&&b.length&&d.push(a)}),d}function v(a){var b=[],c={};Q(a,function(a,d){var e=a.element,g=t(e),h=a.event,i=["enter","move"].indexOf(h)>=0,j=a.structural?u(g):[];if(j.length){var k=i?"to":"from";Q(j,function(a){var b=a.getAttribute(f);c[b]=c[b]||{},c[b][k]={animationID:d,element:P(a)}})}else b.push(a)});var d={},e={};return Q(c,function(c,f){var g=c.from,h=c.to;if(!g||!h){var i=g?g.animationID:h.animationID,j=i.toString();return void(d[j]||(d[j]=!0,b.push(a[i])))}var k=a[g.animationID],l=a[h.animationID],m=g.animationID.toString();if(!e[m]){var n=e[m]={structural:!0,beforeStart:function(){k.beforeStart(),l.beforeStart()},close:function(){k.close(),l.close()},classes:w(k.classes,l.classes),from:k,to:l,anchors:[]};n.classes.length?b.push(n):(b.push(k),b.push(l))}e[m].anchors.push({out:g.element,"in":h.element})}),b}function w(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var e=a[d];if("ng-"!==e.substring(0,3))for(var f=0;f<b.length;f++)if(e===b[f]){c.push(e);break}}return c.join(" ")}function x(a){for(var b=g.length-1;b>=0;b--){var c=g[b];if(i.has(c)){var d=i.get(c),e=d(a);if(e)return e}}}function y(){k.addClass(ca),F&&a.addClass(k,F),G&&(a.removeClass(k,G),G=null)}function z(a,b){function c(a){d(a).setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function A(){var a=d(k);!a||"leave"===m&&s.$$domOperationFired||a.end()}function B(b){k.off("$destroy",A),c(k),r(k,s),o(k,s),s.domOperation(),F&&a.removeClass(k,F),k.removeClass(ca),D.complete(!b)}s=n(s);var C=["enter","move","leave"].indexOf(m)>=0,D=new j({end:function(){B()},cancel:function(){B(!0)}});if(!g.length)return B(),D;b(k,D);var E=e(k.attr("class"),e(s.addClass,s.removeClass)),F=s.tempClasses;F&&(E+=" "+F,s.tempClasses=null);var G;return C&&(G="ng-"+m+ba,a.addClass(k,G)),q.push({element:k,classes:E,event:m,structural:C,options:s,beforeStart:y,close:B}),k.on("$destroy",A),q.length>1?D:(h.$$postDigest(function(){var a=[];Q(q,function(b){d(b.element)?a.push(b):b.close()}),q.length=0;var b=v(a),c=[];Q(b,function(a){c.push({domNode:t(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close,e=a.anchors?a.from.element||a.to.element:a.element;if(d(e)){var f=x(a);f&&(b=f.start)}if(b){var g=b();g.done(function(a){c(!a)}),z(a,g)}else c()}})}),l(p(c))}),D)}}]}],Ha=["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,c,d,e,f){var g,h;b.$watchCollection(d.ngAnimateSwap||d["for"],function(d){g&&a.leave(g),h&&(h.$destroy(),h=null),(d||0===d)&&(h=b.$new(),f(h,function(b){g=b,a.enter(b,null,c)}))})}}}];b.module("ngAnimate",[]).directive("ngAnimateSwap",Ha).directive("ngAnimateChildren",sa).factory("$$rAFScheduler",ra).provider("$$animateQueue",Fa).provider("$$animation",Ga).provider("$animateCss",za).provider("$$animateCssDriver",Aa).provider("$$animateJs",Ba).provider("$$animateJsDriver",Ca)}(window,window.angular),!function(){"use strict";angular.module("appverse.configuration.default",[])}(),function(){"use strict";angular.module("appverse.configuration.loader",["appverse.utils"])}(),function(){"use strict";function a(a){a.info("appverse.configuration run")}a.$inject=["a"],a.$inject=["$log"],angular.module("appverse.configuration",["appverse.configuration.loader"]).run(a)}(),function(){"use strict";function a(a,b,c){if(a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|itms-services):/),b.exists("appverse.detection")){var d=c.get("DetectionProvider");c.get("ConfigLoaderProvider").setDetection(d),b.exists("appverse.logging")&&c.get("FormattedLoggerProvider").setDetection(d)}}a.$inject=["a","b","c"],a.$inject=["$compileProvider","ModuleSeekerProvider","$injector"],angular.module("appverse",["appverse.utils","appverse.configuration"]).config(a)}(),function(){"use strict";function a(){var a=new b,c={};this.$get=function(){return this},this.load=function(a){this.loadDefaultConfig().loadCustomConfig(a).overrideDefaultConfig()},this.setDetection=function(b){a=b},this.loadDefaultConfig=function(){return angular.forEach(angular.module("appverse.configuration.default")._invokeQueue,function(a){c[a[2][0]]=a[2][1]}),this},this.loadCustomConfig=function(a){return a&&(this.settings=a),this.loadMobileConfigIfRequired(),this.loadEnvironmentConfig(),this},this.overrideDefaultConfig=function(){angular.forEach(c,function(a,b){angular.module("appverse.configuration").constant(b,a)})},this.loadMobileConfigIfRequired=function(){a.hasAppverseMobile()?this.loadAppverseMobileConfig():a.isMobileBrowser()&&this.loadMobileBrowserConfig()},this.loadEnvironmentConfig=function(){return this.settings&&this.settings.environment?this.addConfig(this.settings.environment):this.addConfigFromJSON("/spasR50/credentialsPublic/resources/configuration/1f2d9dac.environment-conf.json"),this},this.loadAppverseMobileConfig=function(){return this.settings&&this.settings.appverseMobile?this.addConfig(this.settings.appverseMobile):this.addConfigFromJSON("/spasR50/credentialsPublic/resources/configuration/appversemobile-conf.json"),this},this.loadMobileBrowserConfig=function(){return this.settings&&this.settings.mobileBrowser?this.addConfig(this.settings.mobileBrowser):this.addConfigFromJSON("/spasR50/credentialsPublic/resources/configuration/mobilebrowser-conf.json"),this},this.addConfig=function(a){angular.forEach(a,function(a,b){var d=c[b];d?(angular.forEach(a,function(a,b){d[b]=a}),c[b]=d):c[b]=a})},this.addConfigFromJSON=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1),b.send(null);var c=JSON.parse(b.responseText);this.addConfig(c)}}function b(){this.hasAppverseMobile=function(){return!1},this.isMobileBrowser=function(){return!1}}function c(a){a.load({environment:{},appverseMobile:{},mobileBrowser:{}})}c.$inject=["a"],c.$inject=["ConfigLoaderProvider"],angular.module("appverse.configuration.loader").provider("ConfigLoader",a).config(c)}(),function(){"use strict";angular.module("appverse.configuration.default").constant("PROJECT_DATA",{ApplicationName:"Appverse HTML5",Version:"0.1",Company:"GFT",Year:"2015",Team:"GFT Appverse Web",URL:"",LoginViewPath:"/login",myUrl:"",VendorLibrariesBaseUrl:"bower_components"}).constant("IONIC_CONFIG",{suffix:"-mobile",modalPrompt:!1,redirectionPath:"home"}).constant("LOGGING_CONFIG",{ServerEnabled:!1,LogServerEndpoint:"http://localhost:9000/log",CustomLogPreffix:"APPLOG",EnabledLogLevel:!0,EnabledErrorLevel:!0,EnabledDebugLevel:!0,EnabledWarnLevel:!0,EnabledInfoLevel:!0,LogDateTimeFormat:"%Y-%M-%d %h:%m:%s:%z",LogTextFormat:""}).constant("CACHE_CONFIG",{ScopeCache_Enabled:!0,DefaultScopeCacheName:"appverseScopeDataCache",ScopeCache_duration:1e4,ScopeCache_capacity:10,BrowserStorageCache_Enabled:!0,BrowserStorage_type:"2",DefaultBrowserCacheName:"appverseBrowserCache",MaxAge:9e5,CacheFlushInterval:36e5,DeleteOnExpire:"aggressive",SessionBrowserStorage:"sessionStorage",LocalBrowserStorage:"localStorage",NoBrowserStorage:"none",browserDirectCacheType:"1",VerifyIntegrity:!0,HttpCache_Enabled:!0,HttpCache_duration:2e4,HttpCache_capacity:10,IndexedDBCache_Enabled:!1,IndexedDB_name:"DefaultIDBCache",IndexedDB_version:1,IndexedDB_options:[{storeName:"structure-of-items",keyPath:"id",indexes:[{name:"name",unique:!1}]}]}).constant("SERVERPUSH_CONFIG",{BaseUrl:"http://localhost:3000",ListenedPort:"3000",Resource:"socket.io",ConnectTimeout:"10000",TryMultipleTransports:!0,Reconnect:!0,ReconnectionDelay:1e3,ReconnectionLimit:"Infinity",MaxReconnectionAttempts:5,SyncDisconnectOnUnload:!1,AutoConnect:!0,FlashPolicyPort:"",ForceNewConnection:!1}).constant("REST_CONFIG",{BaseUrl:"/api/v1",Timeout:1e3,ExtraFields:[],ParentLess:!1,NoCacheHttpMethods:{get:!1,post:!0,put:!1,"delete":!0,option:!1},RestangularFields:{id:"id",route:"route"},MethodOverriders:[],DefaultRequestParams:{},FullResponse:!1,DefaultHeaders:null,RequestSuffix:".json",UseCannonicalId:!1,EncodeIds:!0,HATEOAS:!1}).constant("I18N_CONFIG",{PreferredLocale:"en-US",localeLocationPattern:"bower_components/angular-i18n/angular-locale_{{locale}}.js"}).constant("SECURITY_GENERAL",{securityEnabled:!1,XSRFCSRFRequestHeaderName:"X-XSRF-TOKEN",XSRFCSRFResponseCookieName:"XSRF-TOKEN",BearerTokenResponseHeader:"access_token",BearerTokenRequestHeader:"Authorization",RefreshTokenResponseHeader:"refresh_token",BearerTokenExpiringResponseHeader:"expires_in",TokenTypeResponseHeader:"token_type",XSRFPolicyType:1,XSRFSecret:"",Headers_ContentType:"application/json",loginHTTPMethod:"POST",loginURL:"http://localhost:8080/html5-incubator-server/rest/sec/login",username:"admin",password:"admin",connected:"connected",disconnected:"disconnected",notEnabled:"Security not enabled"}).constant("SECURITY_OAUTH",{oauth2_endpoint:"appverse",clientID:"",profile:"http://localhost:8080/html5-incubator-server",scope:"resources",scopeURL:"http://localhost:8080/html5-incubator-server",scope_authorizePath:"/oauth/authorize",scope_tokenPath:"/oauth/token",scope_flow:"implicit",scope_view:"standard",scope_storage:"none",scope_template:"views/demo/security/oauth_default.html",redirectURL:"http://localhost:9000",storage:"cookies",storage_cookies:"cookies",storage_header:"header",tokenResponseHeaderName:"Authorization"}).constant("AUTHORIZATION_DATA",{roles:["user","admin","editor"],adminRoles:["ROLE_EXAMPLE","ROLE_EXAMPLE_2","ROLE_REMOTE_LOGGING_WRITER","ROLE_USER"],users:["Jesus de Diego"],userRoleMatrix:[{user:"Jesus de Diego",
roles:["ROLE_EXAMPLE","ROLE_EXAMPLE_2","ROLE_REMOTE_LOGGING_WRITER","ROLE_USER"]},{user:"Antoine Charnoz",roles:["ROLE_EXAMPLE","ROLE_EXAMPLE_2","ROLE_REMOTE_LOGGING_WRITER","ROLE_USER"]}],routesThatDontRequireAuth:["/home"],routesThatRequireAdmin:["/about"]}).constant("WEBSOCKETS_CONFIG",{WS_URL:"https://appverse.gftlabs.com/websockets/services/websocket/stats",WS_TYPE:"auto",WS_PROTOCOL_TYPE:"auto",HEARTBEAT_OUTGOING:2e4,HEARTBEAT_INCOMING:0,WS_CONNECTED:"Websocket connected",WS_DISCONNECTED:"Websocket disconnected",WS_CONNECTING:"Connecting Websocket...",WS_CLOSED:"Websocket connection closed",WS_CLOSING:"Websocket connection closing...",WS_OPEN:"Websocket connection is open",WS_UNKNOWN:"Websocket status is unknown",WS_PROTOCOL_CONNECTED:"Websocket protocol connected",WS_PROTOCOL_DISCONNECTED:"Websocket protocol disconnected",WS_FAILED_CONNECTION:"Failed to open a Websocket connection",WS_NOT_SUPPORTED:"HTML5 Websockets specification is not supported in this browser.",WS_SUPPORTED:"HTML5 Websockets specification is supported in this browser."}).constant("PERFORMANCE_CONFIG",{webworker_pooled_threads:4,webworker_authorized_workers_only:!0,webworker_directory:"/spasR50/credentialsPublic/resources/webworkers/",webworker_authorized_workers:[{id:"w1",type:"dedicated",poolSize:4,file:"RenderImage.js"},{id:"w2",type:"dedicated",poolSize:4,file:"RestMultiRequest.js"}],webworker_dedicated_literal:"dedicated",webworker_shared_literal:"shared",webworker_Message_template:"scripts/api/directives/webworkerMessage.html"}).constant("ROUTER_CONFIG",{loadStatesEnabled:!1,autoLoadStates:!0,statesUrl:"/states",prependBaseUrl:!0,appendRequestSuffix:!0})}();var AppInit=AppInit||function(a){"use strict";function b(b){g=b;var c=a.module("appverse.configuration.loader");return c._invokeQueue.some(function(a,b){return"$injector"===a[0]&&"invoke"===a[1]?(c._invokeQueue.splice(b),!0):void 0}),c.config(f),AppInit}function c(b){var c=b||h;a.element(document).ready(function(){a.bootstrap(document,[c])})}function d(a){h=a}function e(){return a.module(h)}function f(a){a.load(g)}f.$inject=["ConfigLoaderProvider"];var g,h;return{setMainModuleName:d,setConfig:b,bootstrap:c,getMainModule:e}}(angular);!function(){"use strict";function a(a,b,d,e){var f={prefix:"/spasR50/credentialsPublic/resources/i18n/",suffix:".json"};a.useStaticFilesLoader(f),a.preferredLanguage(b.PreferredLocale),d.localeLocationPattern(b.localeLocationPattern),e.decorator("translateDirective",c)}function b(a){a.info("appverse.translate run")}function c(a,b){var c=a[0],d=c.compile;return c.compile=function(a,c,e){var f=d(a,c);return function(a,c,d,e){if(c.children().length){var g=c.text(),h=c.html(),i=h.replace(g,"%%text%%");a.$watch(function(){var a=c[b.acceptHtml?"html":"text"](),d=i.replace("%%text%%",a);c.html(d)})}f(a,c,d,e)}},a}c.$inject=["a","b"],a.$inject=["a","b","d","e"],b.$inject=["a"],a.$inject=["$translateProvider","I18N_CONFIG","tmhDynamicLocaleProvider","$provide"],b.$inject=["$log"],angular.module("appverse.translate",["pascalprecht.translate","appverse.configuration","tmh.dynamicLocale"]).config(a).run(b),c.$inject=["$delegate","I18N_CONFIG"]}(),function(){"use strict";function a(a,b){a.factory("myHttpInterceptor",["$q","$rootScope","Notification","APP_CONFIG","SERVICE_INVOCATION_CONFIG","TSB_LOGGING_CONFIG","AUDIT_CONFIG",function(a,b,c,d,e,f,g){function h(a){var b=Object.keys(e),c=b.indexOf(a.toString());return parseInt(b[c],10)}return{responseError:function(i){if(401===i.status)return b.auxFullResponse||(i.data=i.headers()),b.auxFullResponse=!1,a.resolve(i);if(i.status===h(i.status)&&i.config.url.indexOf(g.AuditEndPoint)<0&&i.config.url.indexOf(f.LogServerEndpoint)<0){b.auxFullResponse||(i.data=i.headers()),b.auxFullResponse=!1;var j=404===i.status||500===i.status?e[i.status].status_message:"ERROR_SERVICE_CALL";return d.SHOW_NOTIFICATIONS&&c.show({type:"error",text:j}),e[i.status].resolve_promise?a.resolve(i):a.reject(i)}return d.SHOW_NOTIFICATIONS&&i.config.url.indexOf(g.AuditEndPoint)<0&&i.config.url.indexOf(f.LogServerEndpoint)<0&&c.show({type:"error",text:"Error in service call"}),a.reject(i)}}}]),b.interceptors.push("myHttpInterceptor")}function b(a){a.debug("Using proteo.invocation-service.")}angular.module("proteo.invocation-service",["appverse.logging","appverse.cache","appverse.detection","appverse","appverse.notifications","proteo.tracking-id","ui.router"]).config(a).run(b),a.$inject=["$provide","$httpProvider"],b.$inject=["$log"]}(),function(){"use strict";angular.module("proteo.invocation-service").factory("serviceInvocation",["$rootScope","$filter","$log","$http","$httpParamSerializerJQLike","$q","REST_CONFIG","APP_CONFIG","CACHE_CONFIG","CacheFactory","serviceTrackingId","$state",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b,i,m,o,p,q,r,s){c.debug("Calling service with url:"+b);var t=f.defer();0!==b.indexOf("/")&&(b="/"+b),o===!0&&p.length>0?b=b+"?fieldsExcluded="+p.join():o===!1&&p.length>0&&(b=b+"?fields="+p.join()),h.ProcedenceForced?n.procedenceDefinition=h.Procedence?h.Procedence:l.current.name:n.procedenceDefinition=l.current.name?l.current.name:h.Procedence;var u={"HEADER.APPLICATIONID":h.APP_ID,"HEADER.TRACKING_ID":r||k.createUuid(),"HEADER.SERVICE_LANGUAGE":a.language.lang,"HEADER.SERVICE_COUNTRY":a.language.country,"HEADER.SERVICE_CHANNEL":h.Channel,"HEADER.SERVICE_PROCEDENCE":n.procedenceDefinition};i&&i.headers&&(angular.extend(u,i.headers),delete i.headers,0===Object.keys(i).length&&(i=null));var v=!1;if(i&&i.fullResponse&&(v=!0,delete i.fullResponse,0===Object.keys(i).length&&(i=null)),i&&"GET"===m&&Object.keys(i).length>0){var w=b.indexOf("?")>0?"&":"?";b=b+w+e(i),i=null}var x;if("string"==typeof g.BaseUrl)q&&c.warn("When only one endpoint (BaseUrl) is specified in the configuration, the endpoint parameter should not be passed"),x=g.BaseUrl;else{if(!Array.isArray(g.BaseUrl))return t.reject(new Error("BaseUrl is not an array or a string, unknown type: "+typeof g.BaseUrl)),t.promise;angular.forEach(g.BaseUrl,function(a){(!q&&a["default"]||a.endpoint===q)&&(x=a.url)})}return x?(c.debug("[proteo-invocation-service] Using base url ",x),c.debug("[proteo-invocation-service] CacheFactory ",j.get(b)),d({method:m,url:x+b,data:i,timeout:s,transformResponse:function(b,c,d){if(g.FullResponse||v){var e;a.auxFullResponse=!0;try{e=angular.fromJson(b)}catch(f){e=b}return{data:e,headers:c(),status:d}}return b},headers:u}).success(function(a){!a.data&&a.length>0&&"string"==typeof a&&(a=angular.fromJson(a)),t.resolve(a)}).error(function(a,b){a&&"object"==typeof a&&"undefined"==typeof a.constructor&&(a=angular.extend({},a)),-1===b&&(a={exception:"Timeout. The request was aborted",headers:{"header.status":-1},status:408}),c.error(a),t.reject(a)}),t.promise):(c.warn("Could not identify endpoint from given arguments",{baseURL:g.BaseUrl,endpoint:q}),t.reject(new Error("Could not identify endpoint from given arguments")),t.promise)}c.debug("serviceInvocationServices loading");var n={};return n.defaultLanguage={lang:"EN",country:"GB"},n.procedenceDefinition=void 0,n.checkCacheConfiguration=function(a){var b=0;return angular.forEach(i.operations,function(c,d){if(d===a&&0===b)b=c;else if(d.indexOf(a.substr(1).split("/")[0])>=0&&d.split("/").length===a.split("/").length){var e=d.replace(/{param}/gi,"[A-Za-z0-9_]*"),f=new RegExp(e);f.test(a)&&(b=c)}}),b},n.callService=function(c,e,f,g,h,i,j,k){if(f){if("boolean"==typeof f){var l=f;f="POST","object"==typeof g&&(h=g,g=l)}}else f="POST";return a.language?m(c,e,f,g,h,i,k,j):d.get("/spasR50/credentialsPublic/resources/static-data/5ff21354.ISOcodes.json").then(function(d){d=d.data;var l,o=window.navigator.languages?window.navigator.languages[0]:null;o=o||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,-1!==o.indexOf("-")&&(l=o.split("-")[1],o=o.split("-")[0]),-1!==o.indexOf("_")&&(l=o.split("_")[1],o=o.split("_")[0]),l||(l=o);try{var p=b("filter")(d,{"ISO3166-1-Alpha-2":l.toUpperCase()})[0]["ISO3166-1-Alpha-3"]}catch(q){l=n.defaultLanguage.country,o=n.defaultLanguage.lang;var p=b("filter")(d,{"ISO3166-1-Alpha-2":l.toUpperCase()})[0]["ISO3166-1-Alpha-3"]}return a.language={lang:o.toUpperCase(),country:p},m(c,e,f,g,h,i,k,j)})},n}])}(),function(a,b,c){"use strict";function d(a){return E(a)?a:Object.keys(a).map(function(b){return a[b]})}function e(a){return null===a}function f(a,b){var d=Object.keys(a);return-1==d.map(function(d){return b[d]!==c&&b[d]==a[d]}).indexOf(!1)}function g(a,b){function c(a,b,c){for(var d=0;b+d<=a.length;){if(a.charAt(b+d)==c)return d;d++}return-1}for(var d=0,e=0;e<=b.length;e++){var f=c(a,d,b.charAt(e));if(-1==f)return!1;d+=f+1}return!0}function h(a,b,c){var d=0;return a.filter(function(a){var e=y(c)?b>d&&c(a):b>d;return d=e?d+1:d,e})}function i(a,b){return Math.round(a*Math.pow(10,b))/Math.pow(10,b)}function j(a,b,c){b=b||[];var d=Object.keys(a);return d.forEach(function(d){if(D(a[d])&&!E(a[d])){var e=c?c+"."+d:c;j(a[d],b,e||d)}else{var f=c?c+"."+d:d;b.push(f)}}),b}function k(a){return a&&a.$evalAsync&&a.$watch}function l(){return function(a,b){return a>b}}function m(){return function(a,b){return a>=b}}function n(){return function(a,b){return b>a}}function o(){return function(a,b){return b>=a}}function p(){return function(a,b){return a==b}}function q(){return function(a,b){return a!=b}}function r(){return function(a,b){return a===b}}function s(){return function(a,b){return a!==b}}function t(a){return function(b,c){return b=D(b)?d(b):b,!E(b)||z(c)?!1:b.some(function(b){return B(c)&&D(b)||A(c)?a(c)(b):b===c})}}function u(a,b){return b=b||0,b>=a.length?a:E(a[b])?u(a.slice(0,b).concat(a[b],a.slice(b+1)),b):u(a,b+1)}function v(a){return function(b,c){function e(a,b){return z(b)?!1:a.some(function(a){return I(a,b)})}if(b=D(b)?d(b):b,!E(b))return b;var f=[],g=a(c);return z(c)?b.filter(function(a,b,c){return c.indexOf(a)===b}):b.filter(function(a){var b=g(a);return e(f,b)?!1:(f.push(b),!0)})}}function w(a,b,c){return b?a+c+w(a,--b,c):a}function x(){return function(a){return B(a)?a.split(" ").map(function(a){return a.charAt(0).toUpperCase()+a.substring(1)}).join(" "):a}}var y=b.isDefined,z=b.isUndefined,A=b.isFunction,B=b.isString,C=b.isNumber,D=b.isObject,E=b.isArray,F=b.forEach,G=b.extend,H=b.copy,I=b.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),b.module("a8m.angular",[]).filter("isUndefined",function(){return function(a){return b.isUndefined(a)}}).filter("isDefined",function(){return function(a){return b.isDefined(a)}}).filter("isFunction",function(){return function(a){return b.isFunction(a)}}).filter("isString",function(){return function(a){return b.isString(a)}}).filter("isNumber",function(){return function(a){return b.isNumber(a)}}).filter("isArray",function(){return function(a){return b.isArray(a)}}).filter("isObject",function(){return function(a){return b.isObject(a)}}).filter("isEqual",function(){return function(a,c){return b.equals(a,c)}}),b.module("a8m.conditions",[]).filter({isGreaterThan:l,">":l,isGreaterThanOrEqualTo:m,">=":m,isLessThan:n,"<":n,isLessThanOrEqualTo:o,"<=":o,isEqualTo:p,"==":p,isNotEqualTo:q,"!=":q,isIdenticalTo:r,"===":r,isNotIdenticalTo:s,"!==":s}),b.module("a8m.is-null",[]).filter("isNull",function(){return function(a){return e(a)}}),b.module("a8m.after-where",[]).filter("afterWhere",function(){return function(a,b){if(a=D(a)?d(a):a,!E(a)||z(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(-1===c?0:c)}}),b.module("a8m.after",[]).filter("after",function(){return function(a,b){return a=D(a)?d(a):a,E(a)?a.slice(b):a}}),b.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(a,b){if(a=D(a)?d(a):a,!E(a)||z(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(0,-1===c?a.length:++c)}}),b.module("a8m.before",[]).filter("before",function(){return function(a,b){return a=D(a)?d(a):a,E(a)?a.slice(0,b?--b:b):a}}),b.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(a){return function(b,c,d){function e(a,b){for(var c=[];a--;)c[a]=b;return c}function f(a,b,c){return E(a)?a.map(function(a,d,f){return d*=b,a=f.slice(d,d+b),!z(c)&&a.length<b?a.concat(e(b-a.length,c)):a}).slice(0,Math.ceil(a.length/b)):a}return a.isMemoized("chunkBy",arguments)||a.memoize("chunkBy",arguments,this,f(b,c,d))}}]),b.module("a8m.concat",[]).filter("concat",[function(){return function(a,b){if(z(b))return a;if(E(a))return D(b)?a.concat(d(b)):a.concat(b);if(D(a)){var c=d(a);return D(b)?c.concat(d(b)):c.concat(b)}return a}}]),b.module("a8m.contains",[]).filter({contains:["$parse",t],some:["$parse",t]}),b.module("a8m.count-by",[]).filter("countBy",["$parse",function(a){return function(b,c){var e,f={},g=a(c);return b=D(b)?d(b):b,!E(b)||z(c)?b:(b.forEach(function(a){e=g(a),f[e]||(f[e]=0),f[e]++}),f)}}]),b.module("a8m.defaults",[]).filter("defaults",["$parse",function(a){return function(b,c){if(b=D(b)?d(b):b,!E(b)||!D(c))return b;var e=j(c);return b.forEach(function(b){e.forEach(function(d){var e=a(d),f=e.assign;z(e(b))&&f(b,e(c))})}),b}}]),b.module("a8m.every",[]).filter("every",["$parse",function(a){return function(b,c){return b=D(b)?d(b):b,!E(b)||z(c)?!0:b.every(function(b){return D(b)||A(c)?a(c)(b):b===c})}}]),b.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(a){return function(b,e,f,g){var h;return f=B(f)||C(f)?String(f).toLowerCase():c,b=D(b)?d(b):b,!E(b)||z(f)?b:b.filter(function(b){return e.some(function(c){if(~c.indexOf("+")){var d=c.replace(/\s+/g,"").split("+");h=d.map(function(c){return a(c)(b)}).join(" ")}else h=a(c)(b);return B(h)||C(h)?(h=String(h).toLowerCase(),g?h===f:h.contains(f)):!1})})}}]),b.module("a8m.first",[]).filter("first",["$parse",function(a){return function(b){var e,f,g;return b=D(b)?d(b):b,E(b)?(g=Array.prototype.slice.call(arguments,1),e=C(g[0])?g[0]:1,f=C(g[0])?C(g[1])?c:g[1]:g[0],g.length?h(b,e,f?a(f):f):b[0]):b}}]),b.module("a8m.flatten",[]).filter("flatten",function(){return function(a,b){return b=b||!1,a=D(a)?d(a):a,E(a)?b?[].concat.apply([],a):u(a,0):a}}),b.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(a){return function(b,c,e,f){var h,i,j=f||!1;return b=D(b)?d(b):b,!E(b)||z(c)||z(e)?b:(i=a(c),b.filter(function(a){return h=i(a),B(h)?(h=j?h:h.toLowerCase(),e=j?e:e.toLowerCase(),g(h,e)!==!1):!1}))}}]),b.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(a,b,c){function e(a,b){var c,d,e=Object.keys(a);return 0<e.filter(function(e){return c=a[e],d?!0:B(c)?(c=f?c:c.toLowerCase(),d=g(c,b)!==!1):!1}).length}var f=c||!1;return a=D(a)?d(a):a,!E(a)||z(b)?a:(b=f?b:b.toLowerCase(),a.filter(function(a){return B(a)?(a=f?a:a.toLowerCase(),g(a,b)!==!1):D(a)?e(a,b):!1}))}}),b.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(a,b){return function(c,d){function e(a,b){var c,d={};return F(a,function(a){c=b(a),d[c]||(d[c]=[]),d[c].push(a)}),d}return!D(c)||z(d)?c:b.isMemoized("groupBy",arguments)||b.memoize("groupBy",arguments,this,e(c,a(d)))}}]),b.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(a){return D(a)?!d(a).length:!a.length}}),b.module("a8m.join",[]).filter("join",function(){return function(a,b){return z(a)||!E(a)?a:(z(b)&&(b=" "),a.join(b))}}),b.module("a8m.last",[]).filter("last",["$parse",function(a){return function(b){var e,f,g,i=H(b);return i=D(i)?d(i):i,E(i)?(g=Array.prototype.slice.call(arguments,1),e=C(g[0])?g[0]:1,f=C(g[0])?C(g[1])?c:g[1]:g[0],g.length?h(i.reverse(),e,f?a(f):f).reverse():i[i.length-1]):i}}]),b.module("a8m.map",[]).filter("map",["$parse",function(a){return function(b,c){return b=D(b)?d(b):b,!E(b)||z(c)?b:b.map(function(b){return a(c)(b)})}}]),b.module("a8m.omit",[]).filter("omit",["$parse",function(a){return function(b,c){return b=D(b)?d(b):b,!E(b)||z(c)?b:b.filter(function(b){return!a(c)(b)})}}]),b.module("a8m.pick",[]).filter("pick",["$parse",function(a){return function(b,c){return b=D(b)?d(b):b,!E(b)||z(c)?b:b.filter(function(b){return a(c)(b)})}}]),b.module("a8m.range",[]).filter("range",function(){return function(a,b,c,d,e){c=c||0,d=d||1;for(var f=0;f<parseInt(b);f++){var g=c+f*d;a.push(A(e)?e(g):g)}return a}}),b.module("a8m.remove-with",[]).filter("removeWith",function(){return function(a,b){return z(b)?a:(a=D(a)?d(a):a,a.filter(function(a){return!f(b,a)}))}}),b.module("a8m.remove",[]).filter("remove",function(){return function(a){a=D(a)?d(a):a;var b=Array.prototype.slice.call(arguments,1);return E(a)?a.filter(function(a){return!b.some(function(b){return I(b,a)})}):a}}),b.module("a8m.reverse",[]).filter("reverse",[function(){return function(a){return a=D(a)?d(a):a,B(a)?a.split("").reverse().join(""):E(a)?a.slice().reverse():a}}]),b.module("a8m.search-field",[]).filter("searchField",["$parse",function(a){return function(b){var c,e;b=D(b)?d(b):b;var f=Array.prototype.slice.call(arguments,1);return E(b)&&f.length?b.map(function(b){return e=f.map(function(d){return(c=a(d))(b)}).join(" "),G(b,{searchField:e})}):b}}]),b.module("a8m.to-array",[]).filter("toArray",function(){return function(a,b){return D(a)?b?Object.keys(a).map(function(b){return G(a[b],{$key:b})}):d(a):a}}),b.module("a8m.unique",[]).filter({unique:["$parse",v],uniq:["$parse",v]}),b.module("a8m.where",[]).filter("where",function(){return function(a,b){return z(b)?a:(a=D(a)?d(a):a,a.filter(function(a){return f(b,a)}))}}),b.module("a8m.xor",[]).filter("xor",["$parse",function(a){return function(b,c,e){function f(b,c){var d=a(e);return c.some(function(a){return e?I(d(a),d(b)):I(a,b)})}return e=e||!1,b=D(b)?d(b):b,c=D(c)?d(c):c,E(b)&&E(c)?b.concat(c).filter(function(a){return!(f(a,b)&&f(a,c))}):b}}]),b.module("a8m.math.abs",[]).filter("abs",function(){return function(a){return Math.abs(a)}}),b.module("a8m.math.byteFmt",[]).filter("byteFmt",function(){var a=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach(function(b,c){a.push({str:b,val:1024*a[c].val})}),function(b,c){if(C(c)&&isFinite(c)&&c%1===0&&c>=0&&C(b)&&isFinite(b)){for(var d=0;d<a.length-1&&b>=a[d].val;)d++;return b/=d>0?a[d-1].val:1,i(b,c)+" "+a[d].str}return"NaN"}}),b.module("a8m.math.degrees",[]).filter("degrees",function(){return function(a,b){if(C(b)&&isFinite(b)&&b%1===0&&b>=0&&C(a)&&isFinite(a)){var c=180*a/Math.PI;return Math.round(c*Math.pow(10,b))/Math.pow(10,b)}return"NaN"}}),b.module("a8m.math.kbFmt",[]).filter("kbFmt",function(){var a=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach(function(b,c){a.push({str:b,val:1024*a[c].val})}),function(b,c){if(C(c)&&isFinite(c)&&c%1===0&&c>=0&&C(b)&&isFinite(b)){for(var d=0;d<a.length-1&&b>=a[d].val;)d++;return b/=d>0?a[d-1].val:1,i(b,c)+" "+a[d].str}return"NaN"}}),b.module("a8m.math.max",[]).filter("max",["$parse",function(a){function b(b,c){var d=b.map(function(b){return a(c)(b)});return d.indexOf(Math.max.apply(Math,d))}return function(a,c){return E(a)?z(c)?Math.max.apply(Math,a):a[b(a,c)]:a}}]),b.module("a8m.math.min",[]).filter("min",["$parse",function(a){function b(b,c){var d=b.map(function(b){return a(c)(b)});return d.indexOf(Math.min.apply(Math,d))}return function(a,c){return E(a)?z(c)?Math.min.apply(Math,a):a[b(a,c)]:a}}]),b.module("a8m.math.percent",[]).filter("percent",function(){return function(a,b,c){var d=B(a)?Number(a):a;return b=b||100,c=c||!1,!C(d)||isNaN(d)?a:c?Math.round(d/b*100):d/b*100}}),b.module("a8m.math.radians",[]).filter("radians",function(){return function(a,b){if(C(b)&&isFinite(b)&&b%1===0&&b>=0&&C(a)&&isFinite(a)){var c=3.14159265359*a/180;return Math.round(c*Math.pow(10,b))/Math.pow(10,b)}return"NaN"}}),b.module("a8m.math.radix",[]).filter("radix",function(){return function(a,b){var c=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return C(a)&&c.test(b)?a.toString(b).toUpperCase():a}}),b.module("a8m.math.shortFmt",[]).filter("shortFmt",function(){return function(a,b){return C(b)&&isFinite(b)&&b%1===0&&b>=0&&C(a)&&isFinite(a)?1e3>a?""+a:1e6>a?i(a/1e3,b)+" K":1e9>a?i(a/1e6,b)+" M":i(a/1e9,b)+" B":"NaN"}}),b.module("a8m.math.sum",[]).filter("sum",function(){return function(a,b){return E(a)?a.reduce(function(a,b){return a+b},b||0):a}}),b.module("a8m.ends-with",[]).filter("endsWith",function(){return function(a,b,c){var d,e=c||!1;return!B(a)||z(b)?a:(a=e?a:a.toLowerCase(),d=a.length-b.length,-1!==a.indexOf(e?b:b.toLowerCase(),d))}}),b.module("a8m.latinize",[]).filter("latinize",[function(){function a(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return c[a]||a})}for(var b=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],c={},d=0;d<b.length;d++)for(var e=b[d].letters.split(""),f=0;f<e.length;f++)c[e[f]]=b[d].base;return function(b){return B(b)?a(b):b}}]),b.module("a8m.ltrim",[]).filter("ltrim",function(){return function(a,b){var c=b||"\\s";return B(a)?a.replace(new RegExp("^"+c+"+"),""):a}}),b.module("a8m.match",[]).filter("match",function(){return function(a,b,c){var d=new RegExp(b,c);return B(a)?a.match(d):null}}),b.module("a8m.phoneUS",[]).filter("phoneUS",function(){return function(a){return a+="","("+a.slice(0,3)+") "+a.slice(3,6)+"-"+a.slice(6)}}),b.module("a8m.repeat",[]).filter("repeat",[function(){return function(a,b,c){var d=~~b;return B(a)&&d?w(a,--b,c||""):a}}]),b.module("a8m.rtrim",[]).filter("rtrim",function(){return function(a,b){var c=b||"\\s";return B(a)?a.replace(new RegExp(c+"+$"),""):a}}),b.module("a8m.slugify",[]).filter("slugify",[function(){return function(a,b){var c=z(b)?"-":b;return B(a)?a.toLowerCase().replace(/\s+/g,c):a}}]),b.module("a8m.split",[]).filter("split",function(){function a(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}return function(b,c,d){var f,g,h,i;return z(b)||!B(b)?null:(z(c)&&(c=""),isNaN(d)&&(d=0),f=new RegExp(a(c),"g"),g=b.match(f),e(g)||d>=g.length?[b]:0===d?b.split(c):(h=b.split(c),i=h.splice(0,d+1),h.unshift(i.join(c)),h))}}),b.module("a8m.starts-with",[]).filter("startsWith",function(){return function(a,b,c){var d=c||!1;return!B(a)||z(b)?a:(a=d?a:a.toLowerCase(),!a.indexOf(d?b:b.toLowerCase()))}}),b.module("a8m.stringular",[]).filter("stringular",function(){return function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return z(b[c])?a:b[c]})}}),b.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(a){return B(a)?a.replace(/<\S[^><]*>/g,""):a}}),b.module("a8m.test",[]).filter("test",function(){return function(a,b,c){var d=new RegExp(b,c);return B(a)?d.test(a):a}}),b.module("a8m.trim",[]).filter("trim",function(){return function(a,b){var c=b||"\\s";return B(a)?a.replace(new RegExp("^"+c+"+|"+c+"+$","g"),""):a}}),b.module("a8m.truncate",[]).filter("truncate",function(){return function(a,b,c,d){return b=z(b)?a.length:b,d=d||!1,c=c||"",!B(a)||a.length<=b?a:a.substring(0,d?-1===a.indexOf(" ",b)?a.length:a.indexOf(" ",b):b)+c}}),b.module("a8m.ucfirst",[]).filter({ucfirst:x,titleize:x}),b.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(a){return function(b){return B(b)?a.encodeURIComponent(b):b}}]),b.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(a){return function(b){return B(b)?a.encodeURI(b):b}}]),b.module("a8m.wrap",[]).filter("wrap",function(){return function(a,b,c){return B(a)&&y(b)?[b,a,c||b].join(""):a}}),b.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(a,b){function c(b,c){function d(){var b=[];return function(c,d){if(D(d)&&!e(d)){if(~b.indexOf(d))return"[Circular]";b.push(d)}return a==d?"$WINDOW":a.document==d?"$DOCUMENT":k(d)?"$SCOPE":d}}return[b,JSON.stringify(c,d())].join("#").replace(/"/g,"")}function d(a){var b=a.targetScope.$id;F(l[b],function(a){delete j[a]}),delete l[b]}function f(){m(function(){b.$$phase||(j={})},2e3)}function g(a,b){var c=a.$id;return z(l[c])&&(a.$on("$destroy",d),l[c]=[]),l[c].push(b)}function h(a,b){var d=c(a,b);return j[d]}function i(a,b,d,e){var h=c(a,b);return j[h]=e,k(d)?g(d,h):f(),e}var j={},l={},m=a.setTimeout;return{isMemoized:h,memoize:i}}]}),b.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.split","a8m.phoneUS","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),!function(){"use strict";angular.module("App.log",["appverse.detection","appverse.logging","appverse"]).config(["$provide",function(a){a.decorator("$log",["$delegate","TSBFormattedLogger",function(a,b){return b(a)}])}])}(),function(){"use strict";function a(){function a(){return b?b.isOnline:!0}var b,c,d,e,f,g;this.$get=["$injector","$window","TSB_LOGGING_CONFIG","APP_CONFIG",function(b,h,i,j){function k(a,b){function c(a){return a.toString().length<2?"0"+a:a}return a=a||new Date,b=b||i.LogDateTimeFormat,b.replace(/%([a-zA-Z])/g,function(b,d){switch(d){case"Y":return a.getFullYear();case"M":return c(a.getMonth()+1);case"d":return c(a.getDate());case"h":return c(a.getHours());case"m":return c(a.getMinutes());case"s":return c(a.getSeconds());case"z":return c(a.getMilliseconds());default:throw new Error("Unsupported format code: "+d)}})}function l(a){d.get("/spasR50/credentialsPublic/resources/static-data/5ff21354.ISOcodes.json").then(function(b){b=b.data;var d=h.navigator.languages?h.navigator.languages[0]:null;d=d||h.navigator.language||h.navigator.browserLanguage||h.navigator.userLanguage,-1!==d.indexOf("-")&&(d=d.split("-")[0]),-1!==d.indexOf("_")&&(d=d.split("_")[0]);var f=e("filter")(b,{"ISO3166-1-Alpha-2":d.toUpperCase()})[0]["ISO3166-1-Alpha-3"];c.language={lang:d.toUpperCase(),country:f},m(a)})}function m(a){var b={"HEADER.APPLICATIONID":j.APP_ID,"HEADER.TRACKING_ID":f.v4(),"HEADER.SERVICE_LANGUAGE":c.language.lang,"HEADER.SERVICE_COUNTRY":c.language.country,"HEADER.SERVICE_CHANNEL":j.Channel,"HEADER.SERVICE_PROCEDENCE":j.Procedence};d({method:"POST",url:i.LogServerEndpoint,data:a,headers:b}).error(function(){"ERROR"!==a.level||a.error&&a.error.code&&a.error.description&&a.error.severity&&a.error.type||console.log('Error log expects next format: $log.error("log message","code","type","severity","description");')})}function n(h,j,n){try{if(!h)return function(){};var o=j+" | "+i.CustomLogPreffix+" | ",p=function(){var h=Array.prototype.slice.call(arguments),p="";if("[object String]"===Object.prototype.toString.call(h[0])?(p=h[0],h[0]=o+k()+" | "+h[0]):("[object Object]"===Object.prototype.toString.call(h[0])?(h.push(JSON.stringify(h[0])),p=JSON.stringify(h[0])):h.push(h[0]),h[0]=o+k()+" | "),n.apply(null,h),i.ServerEnabled){var q={level:j,messageBody:p};"ERROR"===j&&(q.error={code:arguments[1],type:arguments[2],severity:arguments[3],description:arguments[4]}),a()&&(f=b.get("uuid"),c=b.get("$rootScope"),d=b.get("$http"),e=b.get("$filter"),g=b.get("$state"),"ERROR"!==j||p||(q.messageBody=JSON.stringify({state:g.current,http:{response:{headers:arguments[0]}}})),c.language?m(q):l(q))}};return p.logs=[],p}catch(q){throw q}}return function(a){return a.log=n(i.EnabledLogLevel,"LOG",a.log),a.info=n(i.EnabledInfoLevel,"INFO",a.info),a.error=n(i.EnabledErrorLevel,"ERROR",a.error),a.warn=n(i.EnabledWarnLevel,"WARN",a.warn),a.debug=n(i.EnabledDebugLevel,"DEBUG",a.debug),a}}],this.setDetection=function(a){b=a}}angular.module("App.log").provider("TSBFormattedLogger",a)}(),!function(){"use strict";angular.module("App.audit",["proteo.invocation-service","appverse.router","appverse"]).config(["$provide",function(a){a.decorator("serviceInvocation",["$delegate","auditServices","AUDIT_CONFIG","$state",function(a,b,c,d){var e=a.callService;return a.callService=function(){var a=Array.prototype.slice.call(arguments),f={};return("undefined"==typeof c.AuditServiceStart||c.AuditServiceStart)&&(f=b.auditAction("FRONT","SEND_REQUEST",b.stateObject(a[0],null,null,d.$current.self))),function(){return a[7]=f.trackingId,e.apply(null,a).then(function(e){return-1!==parseInt(e["header.status"],10)||"undefined"!=typeof c.AuditServiceError&&!c.AuditServiceError?("undefined"==typeof c.AuditServiceEnd||c.AuditServiceEnd)&&b.auditAction("FRONT","RESPONSE_RECEIVED",b.stateObject(a[0],null,null,d.$current.self,null),f):b.auditAction("FRONT","ERROR",b.stateObject(a[0],null,null,d.$current.self,null,{code:"002",type:"ARQ",severity:"1",description:"Microservice error",detail:JSON.stringify({"header.status":e["header.status"],exception:e.exception})}),f),e},function(e){return("undefined"==typeof c.AuditServiceError||c.AuditServiceError)&&b.auditAction("FRONT","ERROR",b.stateObject(a[0],null,null,d.$current.self,null,{code:"002",type:"ARQ",severity:"1",description:"Microservice error",
detail:JSON.stringify({"header.status":e["header.status"],exception:e.exception})}),f),e})}()},a}])}]).run(["$rootScope","auditServices","AUDIT_CONFIG",function(a,b,c){var d;a.$on("$stateChangeStart",function(a,e,f,g,h){("undefined"==typeof c.AuditNavigationStart||c.AuditNavigationStart)&&(d=b.auditAction("FRONT","START",b.stateObject(e.url,e,f,g,h,null,!0)))}),a.$on("$stateChangeError",function(a,e,f,g,h,i){("undefined"==typeof c.AuditNavigationError||c.AuditNavigationError)&&b.auditAction("FRONT","ERROR",b.stateObject(e.url,e,f,g,h,{code:"004",type:"ARQ",severity:"1",description:"Navigation error",detail:JSON.stringify(i)},null,a),d)}),a.$on("$stateChangeSuccess",function(a,e,f,g,h){("undefined"==typeof c.AuditNavigationEnd||c.AuditNavigationEnd)&&b.auditAction("FRONT","END_OK",b.stateObject(e.url,e,f,g,h),d)})}])}(),function(){"use strict";angular.module("App.audit").controller("auditController",["$log","$scope",function(a,b){a.debug("auditController loading"),b.audit="audit",b.model={}}])}(),function(){"use strict";angular.module("App.audit").factory("auditServices",["$http","$window","AUDIT_CONFIG","APP_CONFIG","VERSION_CONFIG","serviceTrackingId","$rootScope","$filter","$location",function(a,b,c,d,e,f,g,h,i){function j(){var a=new Date;return a.toISOString()}function k(b,d,f,g,h){var k=l.getDefaultHeaders(g);f=f||{};var m=j();("START"===d||"SEND_REQUEST"===d)&&(m=h);var n={Common:{EventTimestamp:m,EventType:"AUD",EventCode:"AUDIT-"+b+"-"+d,HostName:i.host(),TrackingId:g,SourceApplication:"",StartLayerTimestamp:h,ArchitectureVersion:e.proteo4,Error:f.error,Version:e.application},FrontLayer:f.FrontLayer,MessageBody:""};a({method:"POST",url:c.AuditEndPoint,data:n,headers:k})}var l={};return l.getDefaultHeaders=function(a){return{"HEADER.APPLICATIONID":d.APP_ID,"HEADER.TRACKING_ID":a,"HEADER.SERVICE_LANGUAGE":g.language.lang,"HEADER.SERVICE_COUNTRY":g.language.country,"HEADER.SERVICE_CHANNEL":d.Channel,"HEADER.SERVICE_PROCEDENCE":d.Procedence,"Content-Type":"application/json"}},l.stateObject=function(a,b,c,d,f,g,h){d=d||{},b=b||{};var i={FrontLayer:{Components:h===!0?e.Components:[],RequestUrl:a,Navigation:{From:{Controller:d.controller?d.controller:"",Name:d.name?d.name:"",Parameters:f?f:{},TemplateUrl:d.templateUrl?d.templateUrl:"",Url:d.url?d.url:""},To:{Controller:b.controller?b.controller:"",Name:b.name?b.name:"",Parameters:c?c:{},TemplateUrl:b.templateUrl?b.templateUrl:"",Url:b.url?b.url:""}}}};return i.error=g||void 0,i},l.auditAction=function(c,d,e,i){i=i||{};var l=i.trackingId||f.createUuid(),m=i.startLayerTimestamp||j();return g.language?k(c,d,e,l,m):a.get("/spasR50/credentialsPublic/resources/static-data/5ff21354.ISOcodes.json").then(function(a){a=a.data;var f=b.navigator.languages?b.navigator.languages[0]:null;f=f||b.navigator.language||b.navigator.browserLanguage||b.navigator.userLanguage,-1!==f.indexOf("-")&&(f=f.split("-")[0]),-1!==f.indexOf("_")&&(f=f.split("_")[0]);var i=h("filter")(a,{"ISO3166-1-Alpha-2":f.toUpperCase()})[0]["ISO3166-1-Alpha-3"];g.language={lang:f.toUpperCase(),country:i},k(c,d,e,l,m)}),{trackingId:l,startLayerTimestamp:m}},l}])}(),function(a,b){"use strict";function c(a,c,d){function e(a,d,e){var g,h;e=e||{},h=e.expires,g=b.isDefined(e.path)?e.path:f,b.isUndefined(d)&&(h="Thu, 01 Jan 1970 00:00:00 GMT",d=""),b.isString(h)&&(h=new Date(h));var i=encodeURIComponent(a)+"="+encodeURIComponent(d);i+=g?";path="+g:"",i+=e.domain?";domain="+e.domain:"",i+=h?";expires="+h.toUTCString():"",i+=e.secure?";secure":"";var j=i.length+1;return j>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+j+" > 4096 bytes)!"),i}var f=d.baseHref(),g=a[0];return function(a,b,c){g.cookie=e(a,b,c)}}b.module("ngCookies",["ng"]).provider("$cookies",[function(){function a(a){return a?b.extend({},c,a):c}var c=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(c,d){return{get:function(a){return c()[a]},getObject:function(a){var c=this.get(a);return c?b.fromJson(c):c},getAll:function(){return c()},put:function(b,c,e){d(b,c,a(e))},putObject:function(a,c,d){this.put(a,b.toJson(c),d)},remove:function(b,c){d(b,void 0,a(c))}}}]}]),b.module("ngCookies").factory("$cookieStore",["$cookies",function(a){return{get:function(b){return a.getObject(b)},put:function(b,c){a.putObject(b,c)},remove:function(b){a.remove(b)}}}]),c.$inject=["$document","$log","$browser"],b.module("ngCookies").provider("$$cookieWriter",function(){this.$get=c})}(window,window.angular),!function(){"use strict";angular.module("proteo.consultive",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.consultive").factory("consultiveFactory",function(){var a={},b=null;return a.setOperationID=function(a){b=a},a.getOperationID=function(){return b},a})}(),angular.module("proteo.consultive.templates",[]).run(["$templateCache",function(a){"use strict"}]),!function(){"use strict";angular.module("tsb.journal-util",["appverse.cache","angular.filter","appverse.router","appverse.translate","proteo.tracking-id"])}(),function(){"use strict";var a=angular.module("tsb.journal-util");a.factory("tsbJournalService",["serviceTrackingId","$cookies",function(a,b){function c(a,c){var d=b.get(c);angular.isDefined(d)&&null!==d&&(a[c]=d)}function d(a,c){angular.isDefined(a.data.headers[c])&&null!==a.data.headers[c]&&b.put(c,a.data.headers[c],{path:"/"})}function e(a,c,d){angular.isDefined(a.headers[c])&&null!==a.headers[c]&&b.put(d,a.headers[c],{path:"/"})}function f(){var b=a.createUuid()+"~#~"+i();return b}function g(){var a=i()+"~#~001";return a}function h(){var a=b.get("HEADER.JOURNAL.OPER_NUMBER").split("~#~"),c=a[1];(null===c||void 0===c)&&(c="0");var d=parseInt(c);d+=1,d=d.toString(),1===d.length?d="00"+d:2===d.length&&(d="0"+d),b.put("HEADER.JOURNAL.OPER_NUMBER",i()+"~#~"+d,{path:"/"})}function i(){return(new Date).getTime().toString()}var j={};return j.newSession=function(){b.put("HEADER.JOURNAL.SESSION_NUMBER",f(),{path:"/"}),b.put("HEADER.JOURNAL.OPER_NUMBER",g(),{path:"/"}),b.put("HEADER.JOURNAL.EVENT_NUMBER","000",{path:"/"}),b.put("HEADER.JOURNAL.OPERATIONID",null,{path:"/"}),b.put("HEADER.JOURNAL.SUBOPERATIONID",null,{path:"/"}),b.put("HEADER.JOURNAL.TRANSACTIONID",null,{path:"/"})},j.newOperation=function(){this.newOperationWithTriplet()},j.newOperationWithTriplet=function(a,c,d){var e=b.get("HEADER.JOURNAL.SESSION_NUMBER");angular.isDefined(e)&&null!==e?h():(b.put("HEADER.JOURNAL.SESSION_NUMBER",f(),{path:"/"}),b.put("HEADER.JOURNAL.OPER_NUMBER",g(),{path:"/"})),b.put("HEADER.JOURNAL.EVENT_NUMBER","000",{path:"/"}),angular.isDefined(a)&&null!==a?b.put("HEADER.JOURNAL.OPERATIONID",a,{path:"/"}):b.put("HEADER.JOURNAL.OPERATIONID",null,{path:"/"}),angular.isDefined(c)&&null!==c?b.put("HEADER.JOURNAL.SUBOPERATIONID",c,{path:"/"}):b.put("HEADER.JOURNAL.SUBOPERATIONID",null,{path:"/"}),angular.isDefined(d)&&null!==d?b.put("HEADER.JOURNAL.TRANSACTIONID",d,{path:"/"}):b.put("HEADER.JOURNAL.TRANSACTIONID",null,{path:"/"})},j.updateJournalHeaders=function(a){angular.isDefined(a)&&200===a.status&&angular.isDefined(a.data)&&angular.isDefined(a.data.headers)&&"0"===a.data.headers["HEADER.STATUS"]?(d(a,"HEADER.JOURNAL.SESSION_NUMBER"),d(a,"HEADER.JOURNAL.OPER_NUMBER"),d(a,"HEADER.JOURNAL.EVENT_NUMBER"),d(a,"HEADER.JOURNAL.OPERATIONID"),d(a,"HEADER.JOURNAL.SUBOPERATIONID"),d(a,"HEADER.JOURNAL.TRANSACTIONID")):angular.isDefined(a)&&angular.isDefined(a.headers)&&(e(a,"header.journal.session_number","HEADER.JOURNAL.SESSION_NUMBER"),e(a,"header.journal.oper_number","HEADER.JOURNAL.OPER_NUMBER"),e(a,"header.journal.event_number","HEADER.JOURNAL.EVENT_NUMBER"),e(a,"header.journal.operationid","HEADER.JOURNAL.OPERATIONID"),e(a,"header.journal.suboperationid","HEADER.JOURNAL.SUBOPERATIONID"),e(a,"header.journal.transactionid","HEADER.JOURNAL.TRANSACTIONID"))},j.getJournalHeaders=function(){var a={};return c(a,"HEADER.JOURNAL.SESSION_NUMBER"),c(a,"HEADER.JOURNAL.OPER_NUMBER"),c(a,"HEADER.JOURNAL.EVENT_NUMBER"),c(a,"HEADER.JOURNAL.OPERATIONID"),c(a,"HEADER.JOURNAL.SUBOPERATIONID"),c(a,"HEADER.JOURNAL.TRANSACTIONID"),a},j}])}(),!function(){"use strict";angular.module("proteo.canal-invoker",["appverse.cache","proteo.invocation-service","ngCookies","angular.filter","appverse.router","proteo.consultive","appverse.translate","appverse","tsb.journal-util"])}(),function(){"use strict";var a=angular.module("proteo.canal-invoker");a.factory("journalServiceEndpoints",function(){var a,b={},c=null;return b.getJsonData=function(){var a=new XMLHttpRequest,b="/spasR50/credentialsPublic/resources/configuration/1f2d9dac.environment-conf.json";return a.open("GET",b,!1),a.send(null),a.responseText?JSON.parse(a.responseText):null},b.loadEndpoints=function(){c=c||this.getJsonData();var b=c?c.JOURNALSERVICE:null;a=b||[]},b.checkJournalEndpoint=function(b){a||this.loadEndpoints();var c=0,d="";"/"===b[0]&&(c=1,d="/");var e=d+b.split("/")[c];return a&&-1!==a.indexOf(e)},b}),a.factory("consultive",["proteocanalinvokerServices","$q","consultiveFactory","$filter","$cookies",function(a,b,c,d,e){function f(d,f){function g(a){a&&a.operationID&&c.setOperationID(a.operationID),j.resolve()}function i(a){var b=e.get("wobo"),c={description:h("COMMON_SERVICE_UNAVAILABLE"),code:0};a.exception?(b&&angular.extend(a.exception,{trackingId:a["header.tracking_id"]}),j.reject(a.exception)):(b&&angular.extend(c,{trackingId:a["header.tracking_id"]}),j.reject(c))}var j=b.defer();return a.invoke({service:"/consultiveadapter-v1"+d,callback:g,fail:i,data:f}),j.promise}var g={},h=d("translate");return g.validateOperation=function(a){var b={transactionCode:a};return f("/validateOperation",b,a)},g.validateDestinationProduct=function(a,b){var c={destinationProduct:b,transactionCode:a};return f("/validateDestinationProduct",c,a)},g.validateLimits=function(a,b){var c={amount:b,transactionCode:a};return f("/validateLimits",c,a)},g.validateSourceProduct=function(a,b){var c={sourceProduct:b,transactionCode:a};return f("/validateSourceProduct",c,a)},g.validateMultipleLimits=function(a,b){var c={transactions:b};return f("/validateMultipleLimits",c,a)},g}]),a.service("errorManager",["$log","$state","APP_CONFIG","$cookies",function(a,b,c,d){var e=null;this.set=function(b){var c=!1;return!angular.isUndefined(b)&&angular.isFunction(b)?e=b:a.error("Wrong parameters"),c},this.error=function(b){angular.isFunction(e)?e(b):a.error(b)},this.errorControl=function(b){if(!angular.isDefined(b)||null===b)return!1;var c=angular.copy(b);if(angular.isDefined(b.exception)&&b.exception.indexOf("[")>-1){var e=JSON.parse(b.exception);b.exception.length>1?angular.forEach(e,function(a){angular.isDefined(a.code)&&(a.code.indexOf("CH0")>-1||a.code.indexOf("ERR1022")>-1)&&(c.exception=a)}):c.exception=e[0]}return!angular.isDefined(c.exception)||"CH08"!==c.exception.code&&"CH09"!==c.exception.code&&"ERR1022"!==c.exception.code?!1:(JSM._updateDataLayer({error_message:c.exception.description}),d.remove("ssotoken",{path:"/"}),d.remove("BzWCQCsViVVZnq91L03",{path:"/"}),d.remove("moreThan18",{path:"/"}),a.error("Session removed"),!0)}}]),a.service("proteocanalinvokerServices",["$cookies","$document","$log","serviceInvocation","errorManager","consultiveFactory","tsbJournalService","journalServiceEndpoints","REST_CONFIG",function(a,b,c,d,e,f,g,h,i){function j(){var a=null;return JSM.getBCI(function(b,c){b&&(a={"HEADER.FD_SESSION_ID2A":b,"HEADER.FD_SESSION_ID2B":c})}),a}function k(a,b){var c=angular.copy(a);return!e.errorControl(a.data)&&angular.isFunction(b.fail)&&(a.data&&a.data.headers&&(a.data.headers.exception=a.data.headers.exception[0]||a.data.headers.exception,c=a.data.headers),b.fail(c)),c}function l(a,b){return!e.errorControl(a)&&angular.isFunction(b.fail)&&(angular.isDefined(a.exception)&&a.exception.indexOf("[")>-1&&(a.exception=JSON.parse(a.exception)[0],JSM._updateDataLayer({error_message:a.exception.description})),b.fail(a)),a}function m(b){var c=angular.copy(b);try{if(angular.isString(c.service)&&c.service.length>0){r=c.service;var i=c.notAssured?"api":null,m={"HEADER.USER_AGENT":"userAgent","HEADER.STARTDATETIME":"1234","HEADER.ALIAS":"alias","HEADER.INSCRIPTION_KEY":"inscriptionKey"};s=c.method&&angular.isString(c.method)&&c.method.length>0?c.method:null;try{JSM.getTROD(function(a){a.c&&angular.extend(m,{"HEADER.FD_SESSION_ID3":a.c})})}catch(n){}try{JSM.getTSID(function(a){a&&angular.extend(m,{"HEADER.FD_SESSION_ID1":a})})}catch(n){}if(a.get("BzWCQCsViVVZnq91L03")?(c.headers?angular.extend(c.headers,{"HEADER.SSOTOKENID":a.get("BzWCQCsViVVZnq91L03")}):c.headers={"HEADER.SSOTOKENID":a.get("BzWCQCsViVVZnq91L03")},f.getOperationID()&&angular.extend(c.headers,{"HEADER.operationID":f.getOperationID()}),angular.extend(c.headers,m),angular.extend(c.headers,j())):(c.headers?angular.extend(c.headers,j()):c.headers=j(),angular.extend(c.headers,m)),h.checkJournalEndpoint(c.service)&&g.getJournalHeaders()&&angular.extend(c.headers,g.getJournalHeaders()),c.headers&&(q={headers:angular.copy(c.headers)}),angular.isObject(c.data)){var o={body:angular.copy(c.data)};angular.extend(q,o)}angular.isDefined(c.idLoader)?(v++,1===v&&(u=!0,z(c.idLoader,c.bigLoader,c.strMessageSpinner))):x(!0),angular.isFunction(c.before)&&c.before(),d.callService(r,angular.copy(q),s,null,null,i).then(function(b){var d=w?b.data:b;a.get("wobo")&&angular.extend(d.body,{trackingId:d.headers["HEADER.TRACKING_ID"]}),angular.isFunction(c.callback)&&(h.checkJournalEndpoint(c.service)&&g.updateJournalHeaders(b),c.callback(d.body))},function(a){var b=w?k(a,c):l(a,c);h.checkJournalEndpoint(c.service)&&g.updateJournalHeaders(a),e.error(b)})["finally"](function(){u=!1,angular.isDefined(c.idLoader)?(v--,0===v&&z(c.idLoader,c.bigLoader,c.strMessageSpinner)):x(!1)})}else e.error("Undefined service")}catch(p){throw"canal invoker service invocation excepcion ("+p+")"}finally{}}var n='<div id="backdrop" class="backdrop-invoker-loader"></div>',o=angular.element(n),p=!1,q={},r="",s=null,t=null,u=!0,v=0,w=i.FullResponse,x=function(a){a&&!p?(angular.element(b[0].body).append(o),p=!0):p&&(o.detach(),p=!1)},y=function(a,b){var c=void 0!==b?'<proteo-ui-text class="text-bold text-center text-spinner">'+b+"</proteo-ui-text>":"",d='<div id="invokerLoader-'+a+'" class="loading-spinner"><span class="icon-spinner"><span class="blockG" id="rotateG_1"></span><span class="blockG" id="rotateG_2"></span><span class="blockG" id="rotateG_3"></span><span class="blockG" id="rotateG_4"></span><span class="blockG" id="rotateG_5"></span><span class="blockG" id="rotateG_6"></span><span class="blockG" id="rotateG_7"></span><span class="blockG" id="rotateG_8"></span><span class="blockG" id="rotateG_9"></span><span class="blockG" id="rotateG_10"></span><span class="blockG" id="rotateG_11"></span><span class="blockG" id="rotateG_12"></span></span>'+c+"</div>";return angular.element(d)},z=function(a,c,d){var e="";if(c&&(e="big"),angular.isDefined(a)&&u)t=y(a,d),angular.element(b[0].getElementById(a)).addClass("wrap-invoker-loader "+e).append(t);else{var f=b[0].getElementById("invokerLoader-"+a);angular.element(f).parent().removeClass("wrap-invoker-loader "+e),angular.element(f).remove()}};this.error=function(a){var b=!1;try{angular.isFunction(a)&&(e.set(a),b=!0)}catch(c){throw"errorManager.error overloading exception"}finally{return b}},this.invoke=function(a){JSM.heartBeat(function(b,d){console.log("hBStatus--",b,"message--",d),200===parseInt(b)?m(a):c.error(d)})}}])}(),!function(){"use strict";angular.module("proteo.generic-functions",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse","proteo.consultive","proteo.canal-invoker"])}(),function(){"use strict";function a(a,b,c,d){return b.validateOperation(c.TRANSACTION_CODE).then(function(a){return a})["catch"](function(a){return d.permissionsError(),a})}a.$inject=["a","b","c","d"],a.$inject=["$state","consultive","APP_CONFIG","errorFactory"],angular.module("proteo.generic-functions").factory("consultiveProvider",a)}(),function(){"use strict";function a(a,b){return function(c,d,e){return e||0===e||(e=2),a("currency")(c,b.convert(d),e)}}a.$inject=["a","b"],a.$inject=["$filter","currencyParserFactory"],angular.module("proteo.generic-functions").filter("toCurrencyFilter",a)}(),function(){"use strict";function a(){function a(a){var c=b[a];return void 0===c&&(c=a),c}var b={USD:"$",EUR:"€",CRC:"₡",GBP:"£",ILS:"₪",INR:"₹",JPY:"¥",KRW:"₩",NGN:"₦",PHP:"₱",PLN:"zł",PYG:"₲",THB:"฿",UAH:"₴",VND:"₫"},c={convert:a};return c}angular.module("proteo.generic-functions").factory("currencyParserFactory",a)}(),function(){"use strict";function a(a){var b=angular.isDefined(a)&&angular.isDefined(a.exception)&&angular.isDefined(a.exception.code),c=b&&angular.isDefined(a.exception.description)&&""!==a.exception.description;return c&&a.exception.code.indexOf("ERR")>-1?a.exception.description:""}function b(a){var b="";return angular.isDefined(a)&&angular.isDefined(a.exception)&&angular.isDefined(a.exception.code)&&(b=a.exception.code),this.errorCode=b,b}function c(){this.errorCode=""}function d(a){console.log("Authetication error: ",a)}function e(e){var f={linkState:"holdingList.holdingList",data:{},errorCode:"",getErrorMessage:a,getExceptionCode:b,deleteError:c,invalidAuthentication:d};return f}e.$inject=["e"],e.$inject=["$state"],angular.module("proteo.generic-functions").factory("errorFactory",e)}(),function(){"use strict";function a(a,b,c,d,e){if(angular.isDefined(a)&&angular.isDefined(b)&&a.indexOf("statements")>-1){var f={accountNumber:b.accountNumber,sortCode:b.sortCode,typeName:b.type.name,statusName:b.status.name};angular.isDefined(d)&&angular.extend(f,d),c.go(e.links.statements,f)}else c.go(e.links.holdingList)}function b(b){function c(a){return f.data[a]||void 0}function d(a,b){f.data[a]=angular.copy(b)}function e(c,d,e){a(c,d,b,e,f)}var f={links:{holdingList:"holdingList.holdingList",statements:"statements.statements"},data:{},getData:c,setData:d,cancel:e};return f}b.$inject=["b"],b.$inject=["$state"],angular.module("proteo.generic-functions").factory("generalFactory",b)}(),function(){"use strict";var a=angular.module("proteo.generic-functions");a.filter("sortCodeHypen",function(){return function(a){if(!a)return"";var b=a.toString().trim().replace(/^\+/,"");if(!b.match(/^[0-9]{6}$/))return a;var c;return c=b.slice(0,2)+"-"+b.slice(2,4)+"-"+b.slice(4,6),c.trim()}}),a.filter("currencyTSB",["CURRENCY","$filter",function(a,b){return function(c,d,e){return e||0===e||(e=2),b("currency")(c,a[d],e)}}]),a.filter("reverseTable",function(){return function(a,b){return angular.isUndefined(b)&&(b=!1),a?b?a.slice().reverse():a:void 0}})}(),function(){"use strict";function a(a,b,c){var d={bigLoader:!0},e={services:[],idLoader:""};return e.serviceCall=function(f,g){if(null!==c.getOperationID()){var h,i;return i=a.defer(),h=angular.copy(d),h.idLoader=e.idLoader,h.data=g||{},h.service=e.services[f],h.callback=function(a){i.resolve(a)},h.fail=function(a){i.reject(a)},b.error(h.fail),b.invoke(h),i.promise}return null},e}a.$inject=["a","b","c"],a.$inject=["$q","proteocanalinvokerServices","consultiveFactory"],angular.module("proteo.generic-functions").factory("genericService",a)}(),function(){"use strict";function a(a){return function(b){return a("NameAccountFilter")(b)+" "+a("ShortAccountFilter")(b,!0)}}a.$inject=["a"],a.$inject=["$filter"],angular.module("proteo.generic-functions").filter("longAccountFilter",a)}(),function(){"use strict";function a(){return function(a){return a?a.alias?a.alias:a.name?a.name:"-":null}}angular.module("proteo.generic-functions").filter("nameAccountFilter",a)}(),function(){"use strict";angular.module("proteo.generic-functions").factory("genericFunctions",["$log","$location",function(a,b){var c={},d=null;return c.isUsableObject=function(a){var b=!1;if(this.isUsable(a)&&a!=={})if(a.length>1)for(var c=0;c>a.length;c++)this.isUsable(a[c])||(b=!1);else b=!0;return b},c.isUsable=function(a){return angular.isDefined(a)&&null!==a?!0:!1},c.getAccountParams=function(a){var b={};return b=a.referenceNumber||a.creditCardNumber?{productNumber:a.productNumber}:{accountNumber:a.accountNumber,sortCode:a.sortCode||a.accountSortCode}},c.getAccountParamsByType=function(b,c){var d={};if(c&&b&&angular.isString(b)){var e=b.toLowerCase();switch(e){case"cc":case"pl":case"mg":d={productNumber:c.productNumber};break;default:d={accountNumber:c.accountNumber,sortCode:c.sortCode||c.accountSortCode}}angular.extend(d,{typeName:b})}else a.debug("getAccountParamsByType called without accountType.");return d},c.getEnv=function(a){var c=angular.isDefined(a)&&a.length>0?a:"public",e=!0;if("https://www.tsb.co.uk"===d)e=!1;else if(!d)switch(b.host()){case"dev.uk.tsb":d="https://dev.uk.tsb/",e=!0;break;case"int.uk.tsb":d="https://int.uk.tsb/",e=!0;break;case"acc.uk.tsb":d="https://acc.uk.tsb/",e=!0;break;default:d="https://www.tsb.co.uk",e=!1}return e?d+c:d},c.goToInternalURL=function(a,b,d,e,f){window.open(c.getEnv(f)+a,b,d,e)},c}])}(),function(){"use strict";function a(a,b,c,d,e){var f="",g=a.accountNumber||a.AccountNumber;if(b=b===!1?!1:!0,b&&(f="("),d.length>0&&g.length>0){var h=d.replace(/-/g,"");c=h.substr(0,2)+"-"+h.substr(2,2)+"-"+h.substr(4,2),f+=c+", "+g}else e.length>0?f+=e:f="";return b&&f.length>0&&(f+=")"),f}function b(){return function(b,c){var d="";if(angular.isDefined(b)){var e="",f=angular.isDefined(b.sortCode)?b.sortCode:angular.isDefined(b.accountSortCode)?b.accountSortCode:"",g=angular.isDefined(b.referenceNumber)?b.referenceNumber:"";d=a(b,c,e,f,g)}return d}}angular.module("proteo.generic-functions").filter("shortAccountFilter",b)}(),function(){"use strict";function a(){return function(a){var b="";if(a.length>0){var c=a.replace(/-/g,"");b=c.substr(0,2)+"-"+c.substr(2,2)+"-"+c.substr(4,2)}return b}}angular.module("proteo.generic-functions").filter("shortCodeFilter",a)}(),function(){"use strict";function a(){return function(a){return angular.isString(a)&&(a=a.replace(/,/g,"")),parseFloat(parseFloat(a).toFixed(2))}}angular.module("proteo.generic-functions").filter("toNumberFilter",a)}(),function(a,b,c){"use strict";function d(a){function b(a,b){return a?e(a)?a.indexOf(b)>=0:a.hasOwnProperty(b):void 0}return["$animate",function(a){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(c,d,f,g,h){var i,j=d[0],k=f.ngMessage||f.when,l=f.ngMessageExp||f.whenExp,m=function(a){i=a?e(a)?a:a.split(/[\s,]+/):null,g.reRender()};l?(m(c.$eval(l)),c.$watchCollection(l,m)):m(k);var n,o;g.register(j,o={test:function(a){return b(i,a)},attach:function(){n||h(c,function(b){a.enter(b,null,d),n=b;var c=n.$$attachId=g.getAttachId();n.on("$destroy",function(){n&&n.$$attachId===c&&(g.deregister(j),o.detach())})})},detach:function(){if(n){var b=n;n=null,a.leave(b)}}})}}}]}var e=b.isArray,f=b.forEach,g=b.isString,h=b.element;b.module("ngMessages",[]).directive("ngMessages",["$animate",function(a){function b(a,b){return g(b)&&0===b.length||c(a.$eval(b))}function c(a){return g(a)?a.length:!!a}var d="ng-active",e="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(g,h,i){function j(a,b){for(var c=b,d=[];c&&c!==a;){var e=c.$$ngMessageNode;if(e&&e.length)return r[e];c.childNodes.length&&-1==d.indexOf(c)?(d.push(c),c=c.childNodes[c.childNodes.length-1]):c=c.previousSibling||c.parentNode}}function k(a,b,c){var d=r[c];if(m.head){var e=j(a,b);e?(d.next=e.next,e.next=d):(d.next=m.head,m.head=d)}else m.head=d}function l(a,b,c){var d=r[c],e=j(a,b);e?e.next=d.next:m.head=d.next}var m=this,n=0,o=0;this.getAttachId=function(){return o++};var p,q,r=this.messages={};this.render=function(j){j=j||{},p=!1,q=j;for(var k=b(h,i.ngMessagesMultiple)||b(h,i.multiple),l=[],n={},o=m.head,r=!1,s=0;null!=o;){s++;var t=o.message,u=!1;r||f(j,function(a,b){if(!u&&c(a)&&t.test(b)){if(n[b])return;n[b]=!0,u=!0,t.attach()}}),u?r=!k:l.push(t),o=o.next}f(l,function(a){a.detach()}),l.length!==s?a.setClass(g,d,e):a.setClass(g,e,d)},h.$watchCollection(i.ngMessages||i["for"],m.render),this.reRender=function(){p||(p=!0,h.$evalAsync(function(){p&&q&&m.render(q)}))},this.register=function(a,b){var c=n.toString();r[c]={message:b},k(g[0],a,c),a.$$ngMessageNode=c,n++,m.reRender()},this.deregister=function(a){var b=a.$$ngMessageNode;delete a.$$ngMessageNode,l(g[0],a,b),delete r[b],m.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(a,b,c){return{restrict:"AE",require:"^^ngMessages",link:function(d,e,f){var g=f.ngMessagesInclude||f.src;a(g).then(function(a){c(a)(d,function(a){e.after(a);var c=h(b[0].createComment(" ngMessagesInclude: "+g+" "));e.after(c),e.remove()})})}}}]).directive("ngMessage",d("AE")).directive("ngMessageExp",d("A"))}(window,window.angular),!function(){"use strict";angular.module("proteo.ui.autofocus",[])}(),function(){angular.module("proteo.ui.back-button",["proteo.ui.icon","proteo.ui.text","proteo.ui.link"])}(),function(){"use strict";angular.module("proteo.ui.basics",["appverse.cache","ngMessages","ui.bootstrap","appverse.logging","appverse.detection","angularRipple","ui.select","angular.filter","appverse.router","appverse.translate","appverse","proteo.ui.input","proteo.ui.tool-tip","proteo.ui.thematic-break","proteo.ui.check-box","proteo.ui.radio-button","proteo.ui.link","proteo.ui.autofocus","proteo.ui.button","proteo.ui.text","proteo.ui.icon","proteo.ui.panel","proteo.ui.simple-collapse","proteo.ui.fix-ie","proteo.ui.data-layer","proteo.generic-functions","proteo.ui.cards-image","proteo.ui.form-group","proteo.ui.back-button"])}(),function(){"use strict";angular.module("proteo.ui.button",[])}(),function(){"use strict";angular.module("proteo.ui.cards-image",[])}(),function(){"use strict";angular.module("proteo.ui.check-box",["appverse.translate"])}(),function(){"use strict";angular.module("proteo.ui.data-layer",[])}(),function(){"use strict";angular.module("proteo.ui.fix-ie",[]).directive("ngFixIe",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){a(function(){c[0].parentNode.insertBefore(c[0],c[0])},2e4)}}}])}(),function(){"use strict";angular.module("proteo.ui.form-group",["proteo.ui.form-control","proteo.ui.form-error"])}(),function(){"use strict";angular.module("proteo.ui.form-control",[])}(),function(){"use strict";angular.module("proteo.ui.form-error",[])}(),function(){"use strict";angular.module("proteo.ui.icon",["appverse.translate"])}(),function(){"use strict";angular.module("proteo.ui.input",[])}(),function(){"use strict";angular.module("proteo.ui.link",[])}(),function(){"use strict";angular.module("proteo.ui.panel",["appverse.translate"])}(),function(){"use strict";angular.module("proteo.ui.radio-button",["appverse.translate"])}(),function(){"use strict";angular.module("proteo.ui.simple-collapse",[])}(),function(){"use strict";angular.module("proteo.ui.text",["appverse.translate"])}(),function(){"use strict";angular.module("proteo.ui.thematic-break",["appverse.translate"])}(),function(){"use strict";angular.module("proteo.ui.tool-tip",["appverse.translate"])}(),function(){"use strict";angular.module("proteo.ui.autofocus").directive("autofocus",["$timeout",function(a){return{restrict:"A",link:function(b,c){a(function(){c[0].focus()})}}}])}(),function(){angular.module("proteo.ui.back-button").directive("proteoUiBackButton",function(){return{restrict:"E",replace:!0,templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-back-button/back-button-tpl.html",controller:"backBtnController"}}).controller("backBtnController",["$scope","$attrs",function(a,b){a.toShow="undefined"!=typeof isUserLoggedIn?"true"===isUserLoggedIn:!1,a.isBusiness=angular.isDefined(b.biz)&&b.biz?!0:!1}])}(),function(){"use strict";angular.module("proteo.ui.basics").controller("proteoUiBasicsController",["$scope",function(a){a.model={output:!1}}])}(),function(){"use strict";angular.module("proteo.ui.button").directive("proteoUiButton",["$document",function(a){return{restrict:"E",replace:!0,transclude:!0,scope:{icon:"@",action:"@",label:"@"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-button/button-tpl.html",link:function(b,c,d){c.bind("click",function(c){(b.action||b.label)&&JSM._updateDataLayer({event_name:"button click; "+a[0].title,event_action:b.action,event_label:b.label})})}}}])}(),function(){"use strict";angular.module("proteo.ui.cards-image").directive("proteoUiCardsImage",function(){return{restrict:"E",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-cards-image/cards-image-tpl.html",transclude:!0,scope:{subTypeProduct:"=?",codPro:"=?",height:"=?",typeCard:"=?"},controller:"cardsImageController"}}).controller("cardsImageController",["$scope",function(a){a.tamy=a.height||"169",a.card={style:{width:"106px",height:a.tamy+"px"}},a.type="cc"===a.typeCard||"C"===a.typeCard?"CC":"DC"}])}(),function(){"use strict";angular.module("proteo.ui.check-box").directive("proteoUiCheckBox",["$document","uuid",function(a,b){return{restrict:"E",replace:!0,transclude:!0,scope:{checkBoxId:"@",value:"@",labelPosition:"@",name:"@",checkBoxDisabled:"@",layout:"@",output:"=",validationRequired:"@",onChange:"&",label:"@"},link:function(c,d,e){e.checkBoxId||(e.checkBoxId=b.v4()),d.bind("change",function(b){JSM._updateDataLayer({event_name:"check box; "+a[0].title,event_action:c.output||!1,event_label:c.value})})},templateUrl:function(a,b){var c="-inline";return angular.isDefined(b.layout)&&(c="-"+b.layout),"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-check-box/check-box"+c+"-tpl.html"}}}])}(),function(){"use strict";angular.module("proteo.ui.data-layer").directive("jsmLabel",["$document",function(a){return{restrict:"A",link:function(b,c,d){var e={INPUT:"open text box; ","check box":"check box; ",checkbox:"check box; ",radio:"radio button; ",SELECT:"drop down menu; "},f=e[c[0].tagName];(angular.isDefined(d.type)&&"check box"===d.type||"checkbox"===d.type||"radio"===d.type)&&(f=e[d.type]);var g="change";c.bind(g,function(b){var e={event_name:f+a[0].title,event_action:d.action||c[0].value};""!==d.jsmLabel&&(e.event_label=d.jsmLabel),JSM._updateDataLayer(e)})}}}])}(),function(){"use strict";angular.module("proteo.ui.form-group").directive("proteoUiFormGroup",["$timeout",function(a){return{require:"^form",restrict:"E",transclude:!0,templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-form-group/form-group-tpl.html",scope:{formControlName:"@",hideElement:"="},link:{post:function(b,c,d,e){a(function(){var a=c.find("input"),d=c.find("select");b.formController=e,b.parentForm=e,b.name=b.formControlName||a.attr("name")||d.attr("name"),b.input=b.formController[b.name]},100)}}}}])}(),function(){"use strict";angular.module("proteo.ui.form-control").directive("proteoUiFormControl",function(){return{require:"^form",restrict:"E",transclude:!0,scope:{hideElement:"="},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-form-group/proteo-ui-form-control/form-control-tpl.html",link:function(a,b,c,d){a.$watch("hideElement",function(){var e=b.find("input"),f=b.find("select");angular.isUndefined(c.hideElement)&&(a.hideElement=!0),a.formController=d,a.parentForm=d,a.name=e.attr("name")||f.attr("name"),a.input=a.formController[a.name]})}}})}(),function(){"use strict";angular.module("proteo.ui.form-error").directive("proteoUiFormError",function(){return{restrict:"E",transclude:!0,templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-form-group/proteo-ui-form-error/form-error-tpl.html"}})}(),function(){"use strict";angular.module("proteo.ui.icon").directive("proteoUiIcon",function(){return{restrict:"E",translcude:!0,replace:!0,scope:{icon:"@",iconSize:"@",iconColor:"@",iconBg:"@"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-icon/icon-tpl.html"}})}(),function(){"use strict";angular.module("proteo.ui.input").directive("proteoUiInput",["$document",function(a){return{restrict:"E",replace:!0,scope:{label:"@"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-input/input-tpl.html",link:function(b,c,d){c.bind("blur",function(d){
b.label&&JSM._updateDataLayer({event_name:"open textbox; "+a[0].title,event_action:c[0].value,event_label:b.label})})}}}])}(),function(){"use strict";angular.module("proteo.ui.link").directive("proteoUiLink",["$document",function(a){return{restrict:"E",replace:!0,transclude:!0,scope:{url:"@",state:"@",action:"@",label:"@"},link:function(b,c){var d=angular.element(c);d.bind("click",function(c){if(b.url||b.state){var e=b.state?"State change":"URL",f=b.state?b.state:b.url;JSM._updateDataLayer({event_name:"link click; "+a[0].title,event_action:e+" to "+f,event_label:b.label?b.label:"Page change to "+f})}else(b.action||b.label)&&JSM._updateDataLayer({event_name:"link click; "+a[0].title,event_action:b.action,event_label:b.label});d.attr("disabled")&&c.stopImmediatePropagation()})},templateUrl:function(a,b){var c="";return angular.isDefined(b.state)&&(c="-state"),"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-link/link"+c+"-tpl.html"}}}])}(),function(){angular.module("proteo.ui.panel").directive("proteoUiPanel",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-panel/panel-tpl.html"}}).directive("proteoUiPanelHeader",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-panel/panel-header-tpl.html"}}).directive("proteoUiPanelBody",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-panel/panel-body-tpl.html"}}).directive("proteoUiPanelFooter",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-panel/panel-footer-tpl.html"}})}(),function(){"use strict";angular.module("proteo.ui.radio-button").directive("proteoUiRadioButton",["$document","uuid",function(a,b){return{restrict:"E",replace:!0,transclude:!0,scope:{radioId:"@",radioValue:"=?",value:"@",groupName:"@",radioDisabled:"@",layout:"@",output:"=",validationRequired:"@",onChange:"&",label:"@"},templateUrl:function(a,b){var c="-inline";return angular.isDefined(b.layout)&&(c="-"+b.layout),"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-radio-button/radio"+c+"-tpl.html"},link:function(c,d,e){e.radioId||(e.radioId=b.v4()),d.bind("change",function(b){JSM._updateDataLayer({event_name:"radio select; "+a[0].title,event_action:c.output,event_label:c.label})})}}}])}(),function(){"use strict";angular.module("proteo.ui.simple-collapse").directive("proteoUiSimpleCollapse",[function(){return{restrict:"E",replace:!0,transclude:!0,scope:{isCollapsed:"="},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-simple-collapse/simple-collapse-tpl.html"}}]).directive("proteoUiSimpleCollapseTitle",["$document",function(a){return{restrict:"E",replace:!0,transclude:!0,scope:{isCollapsed:"=",label:"@"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-simple-collapse/simple-collapse-title-tpl.html",link:function(b,c,d){c.bind("click",function(c){b.label&&JSM._updateDataLayer({event_name:"collapse open; "+a[0].title,event_action:b.isCollapsed,event_label:b.label})})}}}])}(),function(){"use strict";angular.module("proteo.ui.text").directive("proteoUiText",function(){return{restrict:"E",transclude:!0,replace:!0,scope:!0,templateUrl:function(a,b){var c="";return angular.isDefined(b.paragraph)&&(c="-paragraph"),"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-text/text"+c+"-tpl.html"}}})}(),function(){"use strict";angular.module("proteo.ui.thematic-break").directive("proteoUiThematicBreak",function(){return{restrict:"E",replace:!0,scope:{},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-thematic-break/thematic-break-tpl.html"}})}(),function(){"use strict";angular.module("proteo.ui.tool-tip").directive("proteoUiToolTip",[function(){return{restrict:"E",replace:!0,transclude:!0,scope:{text:"@",position:"@"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-tool-tip/tool-tip-tpl.html"}}])}(),angular.module("proteo.ui.basics.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-back-button/back-button-tpl.html",'<div ng-if="toShow" class="row md-margin-top back-btn-container"><div class="col-xs-12" ng-if="!isBusiness"><proteo-ui-link state="holdingList.holdingList"><proteo-ui-icon icon="back"></proteo-ui-icon><proteo-ui-text class="txt-std" translate="BTA_TITLE"></proteo-ui-text></proteo-ui-link></div><div class="col-xs-12" ng-if="isBusiness"><proteo-ui-link state="holdingListBiz.holdingListBiz"><proteo-ui-icon icon="back"></proteo-ui-icon><proteo-ui-text class="txt-std" translate="BTA_TITLE"></proteo-ui-text></proteo-ui-link></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-button-tpl.html",'<!DOCTYPE html><div class="panel panel-default"><div class="panel-heading">proteo.ui.button</div><div class="panel-body"><div class="row"><div class="col-xs-12"><proteo-ui-button action="AQUI PROBANDO" id="button0">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button class="btn-warn" id="button1">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button class="three-line-button" id="button2">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button class="btn-white" id="button3">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="back" id="button4">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="up" id="button5">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="down" id="button6">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="cancel" id="button7">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="plus" id="button8">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="minus" id="button9">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="plus-lg" id="button10">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="minus-lg" id="button11">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="alert" id="button12">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="alert icon-red" id="button13">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="aler icon-magenta" id="button14">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="alert icon-orange" id="button15">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="check" id="button115">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="message" id="button16">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="readed-message" id="button17">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="unreaded-message" id="button18">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="arrow" id="button20">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="arrow-reverse" id="button21">BUTTON</proteo-ui-button></div><div class="col-xs-12"><proteo-ui-button icon="arrow-lo" id="button22">BUTTON</proteo-ui-button></div><div class="col-xs-12"></div></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-check-box-tpl.html",'<!DOCTYPE html><div class="panel panel-default"><div class="panel-heading">proteo-ui-check-boxes <span>[ <strong ng-repeat="value in model.checkboxes.checkbox">{{value.output}}</strong> ]</span><div class="pull-right"><button ng-click="model.checkboxes.disabled = !model.checkboxes.disabled" ng-class="{\'btn-danger\' : model.checkboxes.disabled , \'btn-success\' : !model.checkboxes.disabled}">Toggle disabled</button></div></div><div class="panel-body"><div class="row"><div class="col-lg-12"><span class="label label-default">LEFT LABELED &amp; STACKED</span></div><div class="col-lg-12"><proteo-ui-check-box label-position="left" ng-repeat="checkbox in model.checkboxes.checkbox" check-box-id="cb00{{$index}}" name="cb00{{$index}}" value="{{checkbox.inputLabel}}" check-box-disabled="{{model.checkboxes.disabled}}" layout="stacked" output="checkbox.output[\'cb00\'+$index]" validation-required="true"><proteo-ui-text>{{checkbox.inputLabel}}</proteo-ui-text></proteo-ui-check-box></div></div><div class="row"><div class="col-lg-12"><span class="label label-default">RIGHT LABELED &amp; STACKED</span></div><div class="col-lg-12"><proteo-ui-check-box label-position="right" ng-repeat="checkbox in model.checkboxes.checkbox" check-box-id="cb01{{$index}}" name="cb01{{$index}}" value="{{checkbox.inputLabel}}" check-box-disabled="{{model.checkboxes.disabled}}" layout="stacked" output="checkbox.output[\'cb01\'+$index]"><proteo-ui-text>{{checkbox.inputLabel}}</proteo-ui-text></proteo-ui-check-box></div></div><div class="row"><div class="col-lg-12"><span class="label label-default">LEFT LABELED &amp; INLINE</span></div><div class="col-lg-12"><proteo-ui-check-box label-position="left" ng-repeat="checkbox in model.checkboxes.checkbox" check-box-id="cb02{{$index}}" name="cb02{{$index}}" value="{{checkbox.inputLabel}}" check-box-disabled="{{model.checkboxes.disabled}}" layout="inline" output="checkbox.output[\'cb02\'+$index]"><proteo-ui-text>{{checkbox.inputLabel}}</proteo-ui-text></proteo-ui-check-box></div></div><div class="row"><div class="col-lg-12"><span class="label label-default">RIGHT LABELED &amp; INLINE</span></div><div class="col-lg-12"><proteo-ui-check-box label-position="right" ng-repeat="checkbox in model.checkboxes.checkbox" check-box-id="cb03{{$index}}" name="cb03{{$index}}" value="{{checkbox.inputLabel}}" check-box-disabled="{{model.checkboxes.disabled}}" layout="inline" output="checkbox.output[\'cb03\'+$index]"><proteo-ui-text>{{checkbox.inputLabel}}</proteo-ui-text></proteo-ui-check-box></div></div><div class="row"><div class="col-lg-12"><span class="label label-default">RIGHT LABELED &amp; DEFAULT LAYOUT</span></div><div class="col-lg-12"><proteo-ui-check-box label-position="right" ng-repeat="checkbox in model.checkboxes.checkbox" check-box-id="cb04{{$index}}" name="cb04{{$index}}" value="{{checkbox.inputLabel}}" check-box-disabled="{{model.checkboxes.disabled}}" output="checkbox.output[\'cb04\'+$index]"><proteo-ui-text>{{checkbox.inputLabel}}</proteo-ui-text></proteo-ui-check-box></div></div><div class="row"><div class="col-lg-12"><span class="label label-default">ON CHANGE EVENT</span></div><div class="col-lg-12"><proteo-ui-check-box label-position="right" ng-repeat="checkbox in model.checkboxes.checkbox" check-box-id="cb05{{$index}}" name="cb05{{$index}}" value="{{checkbox.inputLabel}}" check-box-disabled="{{model.checkboxes.disabled}}" output="checkbox.output[\'cb05\'+$index]" on-change="model.checkboxes.change()"><proteo-ui-text>{{checkbox.inputLabel}}</proteo-ui-text></proteo-ui-check-box></div></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-fix-ie-tpl.html",'<!DOCTYPE html><div class="panel panel-default"><div class="panel-heading"><label for="notFixIe">Select with NO FIX IE</label><select id="notFixIe" ng-model="model.output"><option translate="HOME_ACC_FILTER_PLACEHOLDER" value=""><option ng-repeat="option in model.select.options" value="{{option.id}}">{{option.value}}</select><label for="fixIe">Select with FIX IE</label><select id="fixIe" ng-fix-ie ng-model="model.output"><option translate="HOME_ACC_FILTER_PLACEHOLDER" value=""><option ng-repeat="option in model.select.options" value="{{option.id}}">{{option.value}}</select></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-icon-tpl.html",'<!DOCTYPE html><div class="panel panel-default" ng-controller="proteoUiBasicsController as ctrl"><div class="panel-heading">proteo-ui-icon</div><div class="panel-body"><div class="row"><a ng-click="setLocale()">CHANGE LANGUAGE</a><div class="col-xs-12"><div class="row"><proteo-ui-button ng-click="big = \'big\'" ng-init="big = null">BIGETIZAME</proteo-ui-button><div class="col-xs-12"><proteo-ui-icon id="t1" icon="next" icon-bg="orange" icon-size="{{big}}"></proteo-ui-icon><proteo-ui-icon id="t2" icon="next" icon-bg="orange"></proteo-ui-icon><proteo-ui-icon id="t3" icon="next" icon-bg="orange" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t4" icon="next" icon-bg="orange" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t5" icon="next" icon-bg="magenta"></proteo-ui-icon><proteo-ui-icon id="t6" icon="next" icon-bg="magenta" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t7" icon="next" icon-bg="magenta" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t8" icon="next" icon-bg="magenta" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t9" icon="next" icon-bg="red"></proteo-ui-icon><proteo-ui-icon id="t10" icon="next" icon-bg="red" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t11" icon="next" icon-bg="red" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t12" icon="next" icon-bg="red" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><h3 id="tt1">Back</h3><proteo-ui-icon id="t13" icon="back"></proteo-ui-icon><proteo-ui-icon id="t14" icon="back" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t15" icon="back" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t16" icon="back" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t17" icon="back" icon-bg="orange" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t18" icon="back" icon-bg="orange"></proteo-ui-icon><proteo-ui-icon id="t19" icon="back" icon-bg="orange" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t20" icon="back" icon-bg="orange" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t21" icon="back" icon-bg="magenta"></proteo-ui-icon><proteo-ui-icon id="t22" icon="back" icon-bg="magenta" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t23" icon="back" icon-bg="magenta" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t24" icon="back" icon-bg="magenta" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t25" icon="back" icon-bg="red"></proteo-ui-icon><proteo-ui-icon id="t26" icon="back" icon-bg="red" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t27" icon="back" icon-bg="red" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t28" icon="back" icon-bg="red" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><h3 id="tt2">Up</h3><proteo-ui-icon id="t29" icon="up"></proteo-ui-icon><proteo-ui-icon id="t30" icon="up" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t31" icon="up" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t32" icon="up" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t33" icon="up" icon-bg="orange" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t34" icon="up" icon-bg="orange"></proteo-ui-icon><proteo-ui-icon id="t35" icon="up" icon-bg="orange" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t36" icon="up" icon-bg="orange" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t37" icon="up" icon-bg="magenta"></proteo-ui-icon><proteo-ui-icon id="t38" icon="up" icon-bg="magenta" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t39" icon="up" icon-bg="magenta" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t40" icon="up" icon-bg="magenta" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t41" icon="up" icon-bg="red"></proteo-ui-icon><proteo-ui-icon id="t42" icon="up" icon-bg="red" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t43" icon="up" icon-bg="red" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t44" icon="up" icon-bg="red" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><h3 id="tt3">Down</h3><proteo-ui-icon id="t45" icon="down"></proteo-ui-icon><proteo-ui-icon id="t46" icon="down" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t47" icon="down" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t48" icon="down" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t49" icon="down" icon-bg="orange" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t50" icon="down" icon-bg="orange"></proteo-ui-icon><proteo-ui-icon id="t51" icon="down" icon-bg="orange" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t52" icon="down" icon-bg="orange" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t53" icon="down" icon-bg="magenta"></proteo-ui-icon><proteo-ui-icon id="t54" icon="down" icon-bg="magenta" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t55" icon="down" icon-bg="magenta" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t56" icon="down" icon-bg="magenta" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t57" icon="down" icon-bg="red"></proteo-ui-icon><proteo-ui-icon id="t58" icon="down" icon-bg="red" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t59" icon="down" icon-bg="red" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t60" icon="down" icon-bg="red" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><h3 id="tt4">Plus</h3><proteo-ui-icon id="t61" icon="plus"></proteo-ui-icon><proteo-ui-icon id="t62" icon="plus" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t63" icon="plus" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t64" icon="plus" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t65" icon="plus" icon-bg="orange" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t66" icon="plus" icon-bg="orange"></proteo-ui-icon><proteo-ui-icon id="t67" icon="plus" icon-bg="orange" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t68" icon="plus" icon-bg="orange" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t69" icon="plus" icon-bg="magenta"></proteo-ui-icon><proteo-ui-icon id="t70" icon="plus" icon-bg="magenta" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t71" icon="plus" icon-bg="magenta" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t72" icon="plus" icon-bg="magenta" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t73" icon="plus" icon-bg="red"></proteo-ui-icon><proteo-ui-icon id="t74" icon="plus" icon-bg="red" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t75" icon="plus" icon-bg="red" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t76" icon="plus" icon-bg="red" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><h3 id="tt5">Minus</h3><proteo-ui-icon id="t77" icon="minus"></proteo-ui-icon><proteo-ui-icon id="t78" icon="minus" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t79" icon="minus" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t80" icon="minus" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t81" icon="minus" icon-bg="orange" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t82" icon="minus" icon-bg="orange"></proteo-ui-icon><proteo-ui-icon id="t83" icon="minus" icon-bg="orange" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t84" icon="minus" icon-bg="orange" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t85" icon="minus" icon-bg="magenta"></proteo-ui-icon><proteo-ui-icon id="t86" icon="minus" icon-bg="magenta" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t87" icon="minus" icon-bg="magenta" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t88" icon="minus" icon-bg="magenta" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t89" icon="minus" icon-bg="red"></proteo-ui-icon><proteo-ui-icon id="t90" icon="minus" icon-bg="red" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t91" icon="minus" icon-bg="red" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t92" icon="minus" icon-bg="red" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><h3 id="tt6">Check</h3><proteo-ui-icon id="t93" icon="check"></proteo-ui-icon><proteo-ui-icon id="t94" icon="check" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t95" icon="check" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t96" icon="check" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t97" icon="check" icon-bg="orange" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t98" icon="check" icon-bg="orange"></proteo-ui-icon><proteo-ui-icon id="t99" icon="check" icon-bg="orange" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t100" icon="check" icon-bg="orange" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t101" icon="check" icon-bg="magenta"></proteo-ui-icon><proteo-ui-icon id="t102" icon="check" icon-bg="magenta" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t103" icon="check" icon-bg="magenta" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t104" icon="check" icon-bg="magenta" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t105" icon="check" icon-bg="red"></proteo-ui-icon><proteo-ui-icon id="t106" icon="check" icon-bg="red" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t107" icon="check" icon-bg="red" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t108" icon="check" icon-bg="red" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><h3 id="tt7">Cancel</h3><proteo-ui-icon id="t109" icon="cancel"></proteo-ui-icon><proteo-ui-icon id="t110" icon="cancel" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t111" icon="cancel" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t112" icon="cancel" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t113" icon="cancel" icon-bg="orange" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t114" icon="cancel" icon-bg="orange"></proteo-ui-icon><proteo-ui-icon id="t115" icon="cancel" icon-bg="orange" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t116" icon="cancel" icon-bg="orange" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t117" icon="cancel" icon-bg="magenta"></proteo-ui-icon><proteo-ui-icon id="t118" icon="cancel" icon-bg="magenta" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t119" icon="cancel" icon-bg="magenta" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t120" icon="cancel" icon-bg="magenta" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t121" icon="cancel" icon-bg="red"></proteo-ui-icon><proteo-ui-icon id="t122" icon="cancel" icon-bg="red" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t123" icon="cancel" icon-bg="red" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t124" icon="cancel" icon-bg="red" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><h3 id="tt8">Alert</h3><proteo-ui-icon id="t125" icon="alert"></proteo-ui-icon><proteo-ui-icon id="t126" icon="alert" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t127" icon="alert" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t128" icon="alert" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t129" icon="alert" icon-bg="orange" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t130" icon="alert" icon-bg="orange"></proteo-ui-icon><proteo-ui-icon id="t131" icon="alert" icon-bg="orange" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t132" icon="alert" icon-bg="orange" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t133" icon="alert" icon-bg="magenta"></proteo-ui-icon><proteo-ui-icon id="t134" icon="alert" icon-bg="magenta" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t135" icon="alert" icon-bg="magenta" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t136" icon="alert" icon-bg="magenta" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="t137" icon="alert" icon-bg="red"></proteo-ui-icon><proteo-ui-icon id="t138" icon="alert" icon-bg="red" icon-size="big"></proteo-ui-icon><proteo-ui-icon id="t139" icon="alert" icon-bg="red" icon-color="grey-content"></proteo-ui-icon><proteo-ui-icon id="t140" icon="alert" icon-bg="red" icon-color="grey-content" icon-size="big"></proteo-ui-icon></div><div class="col-xs-12"><h3 id="tt9">Message</h3><proteo-ui-icon id="t141" icon="message"></proteo-ui-icon><proteo-ui-icon id="t142" icon="message" icon-bg="white-message"></proteo-ui-icon><proteo-ui-icon id="t143" icon="message" icon-size="small-message"></proteo-ui-icon><proteo-ui-icon id="t144" icon="message" icon-bg="white-message" icon-size="small-message"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon icon="readed-message"></proteo-ui-icon><proteo-ui-icon icon="readed-message" icon-bg="white-message"></proteo-ui-icon><proteo-ui-icon icon="readed-message" icon-size="message"></proteo-ui-icon><proteo-ui-icon id="txt30" icon="readed-message" icon-bg="white-message" icon-size="small-message"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="txt31" icon="unreaded-message"></proteo-ui-icon><proteo-ui-icon id="txt32" icon="unreaded-message" icon-bg="white-message"></proteo-ui-icon><proteo-ui-icon id="txt33" icon="unreaded-message" icon-size="message"></proteo-ui-icon><proteo-ui-icon id="txt34" icon="unreaded-message" icon-bg="white-message" icon-size="small-message"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="txt111" icon="spinner"></proteo-ui-icon><proteo-ui-icon id="txt112" icon="search"></proteo-ui-icon><proteo-ui-icon id="txt113" icon="date"></proteo-ui-icon><proteo-ui-icon id="txt114" icon="arrow"></proteo-ui-icon><proteo-ui-icon id="txt115" icon="arrow-reverse"></proteo-ui-icon><proteo-ui-icon id="txt116" icon="arrow-lo"></proteo-ui-icon></div><div class="col-xs-12"><proteo-ui-icon id="txt117" icon="alert-bg"></proteo-ui-icon><proteo-ui-icon id="txt118" icon="error-bg"></proteo-ui-icon><proteo-ui-icon id="txt119" icon="reverse-bg"></proteo-ui-icon><proteo-ui-icon id="txt120" icon="tick"></proteo-ui-icon><proteo-ui-icon id="txt121" icon="secure-blue"></proteo-ui-icon><proteo-ui-icon id="txt122" icon="secure-white"></proteo-ui-icon><proteo-ui-icon id="txt123" icon="statement"></proteo-ui-icon><proteo-ui-icon id="txt124" icon="secure-logout"></proteo-ui-icon><proteo-ui-icon id="txt125" icon="close"></proteo-ui-icon><proteo-ui-icon id="txt126" icon="phone"></proteo-ui-icon><proteo-ui-icon id="txt127" icon="chevron-down"></proteo-ui-icon><proteo-ui-icon id="txt128" icon="debit"></proteo-ui-icon><proteo-ui-icon id="txt129" icon="half-green"></proteo-ui-icon><proteo-ui-icon id="txt130" icon="pie-graph"></proteo-ui-icon><proteo-ui-icon id="txt131" icon="print"></proteo-ui-icon><proteo-ui-icon id="txt132" icon="export"></proteo-ui-icon><proteo-ui-icon id="txt133" icon="secure-bg"></proteo-ui-icon><proteo-ui-icon id="txt134" icon="pdf"></proteo-ui-icon><proteo-ui-icon id="txt135" icon="view-only"></proteo-ui-icon><proteo-ui-icon id="txt136" icon="chevron-right"></proteo-ui-icon><proteo-ui-icon id="txt137" icon="hyphen"></proteo-ui-icon></div></div></div></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-input-tpl.html",'<!DOCTYPE html><div class="panel panel-default"><div class="panel-heading">proteo-ui-input</div><div class="panel-body"><div class="row"><div class="col-xs-12">Salida <strong>{{model.input.output}}</strong></div></div><div class="row"><div class="col-xs-3"><span ng-if="form001.input01.$valid" class="label label-success">VALIDO</span> <span ng-if="form001.input01.$invalid" class="label label-danger">INVALIDO</span></div><div class="col-xs-3"><span ng-if="form001.input02.$valid" class="label label-success">VALIDO</span> <span ng-if="form001.input02.$invalid" class="label label-danger">INVALIDO</span></div><div class="col-xs-3"><span ng-if="form001.input03.$valid" class="label label-success">VALIDO</span> <span ng-if="form001.input03.$invalid" class="label label-danger">INVALIDO</span></div><div class="col-xs-3"><button class="btn btn-sm" ng-click="model.input.disabled = !model.input.disabled">Toggle disabled</button></div></div><form name="form001"><div class="row"><div class="input-std col-xs-12"><proteo-ui-form-label text="Label 001" position="above"></proteo-ui-form-label><div class="col-xs-8"><proteo-ui-input autofocus id="input05" name="input01" placeholder="Min. 5 characters and max. 15 characters" ng-model="model.input.output" ng-disabled="model.input.disabled" ng-required="true" ng-minlength="5" ng-maxlength="15"></proteo-ui-input></div></div></div><div class="row"><div class="input-std col-xs-12"><proteo-ui-form-label text="Label 002" size="4" position="left"></proteo-ui-form-label><div class="col-xs-6"><proteo-ui-input id="input02" name="input02" placeholder="Min. 10 characters and max. 25 characters" ng-model="model.input.output" ng-disabled="model.input.disabled" ng-required="true" ng-minlength="10" ng-maxlength="25"></proteo-ui-input></div></div></div><div class="row"><div class="input-std col-xs-12"><proteo-ui-form-label text="Label 003" size="2" position="left"></proteo-ui-form-label><div class="col-xs-10"><proteo-ui-input id="input03" name="input03" ng-model="model.input.output" ng-disabled="model.input.disabled" placeholder="Max. 30 characters" ng-maxlength="30"></proteo-ui-input></div></div></div></form></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-link-tpl.html",'<!DOCTYPE html><div class="panel panel-default"><div class="panel-heading">proteo-ui-link</div><div class="panel-body"><div class="row"><div class="col-lg-12"><ul><li><proteo-ui-link class="text-bold" url="http://www.google.com"><proteo-ui-text translate="START_SESSION"></proteo-ui-text></proteo-ui-link><li><proteo-ui-link class="text-underlined" url="http://www.google.com"><proteo-ui-text>Google Url</proteo-ui-text></proteo-ui-link><li><proteo-ui-link state="proteo-ui-basics.text"><proteo-ui-text>Text State</proteo-ui-text></proteo-ui-link><li><proteo-ui-link url="http://www.google.com"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="START_SESSION"></proteo-ui-text></proteo-ui-link></ul></div></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-radio-button-tpl.html",'<!DOCTYPE html><div class="panel panel-default"><div class="panel-heading">proteo-ui-radio-button</div><div class="panel-body"><div class="row"><div class="col-lg-6"><button class="btn btn-sm" ng-click="model.radiobutton.disabled = !model.radiobutton.disabled" ng-class="{\'btn-danger\' : model.radiobutton.disabled , \'btn-success\' : !model.radiobutton.disabled}">Toggle disabled</button></div></div><div class="row"><div class="col-lg-3">Output 1: <strong>[{{model.radiobutton.output[0]}}]</strong></div><div class="col-lg-3">Output 2: <strong>[{{model.radiobutton.output[1]}}]</strong></div><div class="col-lg-3">Output 3: <strong>[{{model.radiobutton.output[2]}}]</strong></div></div><div class="row"><div class="col-lg-12"><span class="label label-default">STACKED</span></div><div class="col-lg-12"><div><proteo-ui-radio-button ng-repeat="radio in model.radiobutton.radios" on-change="testingCallback(\'Some text\', model.radiobutton.output[0])" radio-id="rb01{{$index}}" value="RB01{{$index}}" output="model.radiobutton.output[0]" radio-disabled="{{model.radiobutton.disabled}}" group-name="radioButtons001" layout="stacked"><proteo-ui-text>Radio Button 1{{$index}}</proteo-ui-text></proteo-ui-radio-button></div></div></div><div class="row"><div class="col-lg-12"><span class="label label-default">INLINE</span></div><div class="col-lg-12"><div><proteo-ui-radio-button ng-repeat="radio in model.radiobutton.radios" radio-id="rb02{{$index}}" value="RB02{{$index}}" output="model.radiobutton.output[1]" radio-disabled="{{model.radiobutton.disabled}}" group-name="radioButtons002" layout="inline"><proteo-ui-text>Radio Button 2{{$index}}</proteo-ui-text></proteo-ui-radio-button></div></div></div><div class="row"><div class="col-lg-12"><span class="label label-default">REQUIRED</span></div><div class="col-lg-12"><div><form name="formTest"><proteo-ui-radio-button ng-repeat="radio in model.radiobutton.radios" validation-required="true" radio-id="rb03{{$index}}" value="RB03{{$index}}" output="model.radiobutton.output[2]" radio-disabled="{{model.radiobutton.disabled}}" group-name="radioButtons003" layout="stacked"><proteo-ui-text>Radio Button 3{{$index}}</proteo-ui-text></proteo-ui-radio-button></form>{{formTest.$valid}}</div></div></div></div></div>'),
a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-simple-collapse-tpl.html",'<!DOCTYPE html><div class="panel panel-default"><div class="panel-heading">proteo.ui.simple-collapse</div><div class="panel-body"><div class="row">isOpen: {{isOpen}} <button ng-click="isOpen = !isOpen">Open/Close collapse</button><proteo-ui-simple-collapse-title label="test collapse" is-collapsed="isOpen"><proteo-ui-text>Just a title Example</proteo-ui-text></proteo-ui-simple-collapse-title><br><proteo-ui-simple-collapse id="simple-collapse0" is-collapsed="isOpen"><proteo-ui-text paragraph>Just An Example</proteo-ui-text></proteo-ui-simple-collapse><br></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-text-tpl.html",'<!DOCTYPE html><div class="panel panel-default" ng-controller="proteoUiBasicsController as ctrl"><div class="panel-heading">proteo-ui-text</div><div class="panel-body"><div class="row"><a ng-click="setLocale()">CHANGE LANGUAGE</a><div class="col-xs-12"><div class="row"><div class="col-xs-12">SCOPE:<proteo-ui-text id="txt1" translate-values="{currency:12312}" translate="{{a}}"></proteo-ui-text></div><div class="col-xs-12">SCOPE Paragraph:<proteo-ui-text id="txt2" translate-values="{currency:12312}" paragraph translate="{{a}}"></proteo-ui-text></div><div class="col-xs-12">html bind :<proteo-ui-text id="txt3" translate-values="{currency:12312}" translate="HOME"></proteo-ui-text></div><div class="col-xs-12">html bind Paragraph:<proteo-ui-text id="txt4" translate-values="{currency:12312}" paragraph="true" translate="HOME"></proteo-ui-text></div><div class="col-xs-12">Translate off:<proteo-ui-text id="txt5">START_SESSION</proteo-ui-text></div><div class="col-xs-12">Translate off Paragrapgh:<proteo-ui-text id="txt6" paragraph="true">START_SESSION</proteo-ui-text></div><div class="col-xs-12">Normal:<proteo-ui-text id="txt7" translate-values="{currency:12312}" translate="MENU_INVERSION"></proteo-ui-text></div><div class="col-xs-12">Normal Paragraph:<proteo-ui-text id="txt8" translate-values="{currency:12312}" paragraph="true" translate="MENU_INVERSION"></proteo-ui-text></div><div class="col-xs-12"><proteo-ui-text id="txt9">Texto SIN translate</proteo-ui-text><proteo-ui-text id="txt10" paragraph>Texto SIN translate</proteo-ui-text><proteo-ui-text id="txt16" class="text-underlined">Texto SIN translate</proteo-ui-text><proteo-ui-text id="txt17" class="text-lg">Texto SIN translate</proteo-ui-text><proteo-ui-text id="txt18" class="text-sm">Texto SIN translate</proteo-ui-text><proteo-ui-text id="txt19" class="text-warn" paragraph>Texto SIN translate</proteo-ui-text><proteo-ui-text id="txt20" paragraph>Texto SIN translate</proteo-ui-text><proteo-ui-text id="txt21" class="text-bold">Texto SIN translate</proteo-ui-text><proteo-ui-tertiary-title>Text with Icon</proteo-ui-tertiary-title><proteo-ui-text paragraph><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="{{a}}"></proteo-ui-text></proteo-ui-text></div></div></div></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-thematic-break-tpl.html",'<!DOCTYPE html><div class="panel panel-default"><div class="panel-heading">proteo-ui-thematic-break</div><div class="panel-body"><div class="row"><div class="col-lg-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div class="row"><div class="col-lg-3"><proteo-ui-standard-image id="standardImage05" src="/spasR50/credentialsPublic/resources/TSB_WALL.jpg" class="img-rounded"></proteo-ui-standard-image></div><div class="col-lg-3"><proteo-ui-standard-image id="standardImage06" src="/spasR50/credentialsPublic/resources/TSB_WALL.jpg" class="img-rounded"></proteo-ui-standard-image></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-lg-3"><proteo-ui-standard-image id="standardImage07" src="/spasR50/credentialsPublic/resources/TSB_WALL.jpg" class="img-rounded"></proteo-ui-standard-image></div><div class="col-lg-3"><proteo-ui-standard-image id="standardImage08" src="/spasR50/credentialsPublic/resources/TSB_WALL.jpg" class="img-rounded"></proteo-ui-standard-image></div></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-tool-tip-tpl.html",'<!DOCTYPE html><div class="panel panel-default"><div class="panel-heading">proteo-ui-tool-tip</div><div class="panel-body"><div class="row"><div class="col-lg-3"><proteo-ui-tool-tip id="tt001" text="Information tooltip"><proteo-ui-text>[?]</proteo-ui-text></proteo-ui-tool-tip></div><div class="col-lg-3"><proteo-ui-tool-tip id="tt002" position="left" text="Information tooltip"><proteo-ui-form-label><proteo-ui-text>HELP ME!</proteo-ui-text></proteo-ui-form-label></proteo-ui-tool-tip></div><div class="col-lg-3"><proteo-ui-tool-tip id="tt003" position="left" text="Information tooltip"><proteo-ui-text>CLICK ME!</proteo-ui-text></proteo-ui-tool-tip></div><div class="col-lg-3"><proteo-ui-tool-tip id="tt004" position="left" text="Information tooltip"><proteo-ui-button><proteo-ui-icon icon="alert" icon-bg="icon-red"></proteo-ui-icon><proteo-ui-text>HELP</proteo-ui-text></proteo-ui-button></proteo-ui-tool-tip></div></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-basics-tpl.html",'<!DOCTYPE html><h1>proteo.ui.basics</h1><uib-tabset><uib-tab heading="TEXT" ui-sref="proteo-ui-basics.text"></uib-tab><uib-tab heading="ICON" ui-sref="proteo-ui-basics.icon"></uib-tab><uib-tab heading="INPUT" ui-sref="proteo-ui-basics.input"></uib-tab><uib-tab heading="THEMATIC BREAK" ui-sref="proteo-ui-basics.thematic-break"></uib-tab><uib-tab heading="TOOL TIP" ui-sref="proteo-ui-basics.tool-tip"></uib-tab><uib-tab heading="CHECK BOX" ui-sref="proteo-ui-basics.check-box"></uib-tab><uib-tab heading="RADIO BUTTON" ui-sref="proteo-ui-basics.radio-button"></uib-tab><uib-tab heading="LINK" ui-sref="proteo-ui-basics.link"></uib-tab><uib-tab heading="BUTTON" ui-sref="proteo-ui-basics.button"></uib-tab><uib-tab heading="COLLAPSE" ui-sref="proteo-ui-basics.simple-collapse"></uib-tab><uib-tab heading="FIX IE" ui-sref="proteo-ui-basics.fix-ie"></uib-tab></uib-tabset><div class="row" ui-view="examples"></div><proteo-ui-back-button></proteo-ui-back-button>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-button/button-tpl.html",'<button class="btn md-btn" ng-transclude></button>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-cards-image/cards-image-tpl.html",'<div ng-if="type === \'DC\'"><img ng-if="subTypeProduct && subTypeProduct === \'spendsaveplusaccountVER\'" width="106" height="169" ng-style="card.style" alt="spendsaveplusaccountVER" ng-src="/spasR50/credentialsPublic/styles/images/ab7bf19a.spendsaveplusaccountVER.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'cashaccountVER\'" width="106" height="169" ng-style="card.style" alt="cashaccountVER" ng-src="/spasR50/credentialsPublic/styles/images/cb6d602b.cashaccountVER.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'ADVANTAGE\'" width="106" height="169" ng-style="card.style" alt="ADVANTAGE" ng-src="/spasR50/credentialsPublic/styles/images/b67320f7.ADVANTAGE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'ATMYOUTHVISA\'" width="106" height="169" ng-style="card.style" alt="ATMYOUTHVISA" ng-src="/spasR50/credentialsPublic/styles/images/b8276935.ATMYOUTHVISA.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'CASH\'" width="106" height="169" ng-style="card.style" alt="CASH" ng-src="/spasR50/credentialsPublic/styles/images/73e6bbf6.CASH.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'CASHEUNATIONAL\'" width="106" height="169" ng-style="card.style" alt="CASHEUNATIONAL" ng-src="/spasR50/credentialsPublic/styles/images/0723d405.CASHEUNATIONAL.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'CLASSIC\'" width="106" height="169" ng-style="card.style" alt="CLASSIC" ng-src="/spasR50/credentialsPublic/styles/images/2b7f23ed.CLASSIC.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'classicplusaccountVER\'" width="106" height="169" ng-style="card.style" alt="classicplusaccountVER" ng-src="/spasR50/credentialsPublic/styles/images/12f16327.classicplusaccountVER.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'EASYSAVER\'" width="106" height="169" ng-style="card.style" alt="EASYSAVER" ng-src="/spasR50/credentialsPublic/styles/images/7a2cf175.EASYSAVER.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'ENHANCE\'" width="106" height="169" ng-style="card.style" alt="ENHANCE" ng-src="/spasR50/credentialsPublic/styles/images/2a3896bd.ENHANCE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'ESAVINGS\'" width="106" height="169" ng-style="card.style" alt="ESAVINGS" ng-src="/spasR50/credentialsPublic/styles/images/caae521d.ESAVINGS.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'ESSENTIALS\'" width="106" height="169" ng-style="card.style" alt="ESSENTIALS" ng-src="/spasR50/credentialsPublic/styles/images/2292520a.ESSENTIALS.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'EXECUTOR\'" width="106" height="169" ng-style="card.style" alt="EXECUTOR" ng-src="/spasR50/credentialsPublic/styles/images/5eca0224.EXECUTOR.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'FLEXIBLE\'" width="106" height="169" ng-style="card.style" alt="FLEXIBLE" ng-src="/spasR50/credentialsPublic/styles/images/2f4b6f36.FLEXIBLE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'GOLD\'" width="106" height="169" ng-style="card.style" alt="GOLD" ng-src="/spasR50/credentialsPublic/styles/images/e6ba8494.GOLD.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'GRADUATE\'" width="106" height="169" ng-style="card.style" alt="GRADUATE" ng-src="/spasR50/credentialsPublic/styles/images/bc032acf.GRADUATE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'GRADUAE\'" width="106" height="169" ng-style="card.style" alt="GRADUAE" ng-src="/spasR50/credentialsPublic/styles/images/188d9822.GRADUAE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'graduateaccountVER\'" width="106" height="169" ng-style="card.style" alt="graduateaccountVER" ng-src="/spasR50/credentialsPublic/styles/images/6cfd1ff1.graduateaccountVER.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'ISLAMIC\'" width="106" height="169" ng-style="card.style" alt="ISLAMIC" ng-src="/spasR50/credentialsPublic/styles/images/f8fd6512.ISLAMIC.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'MONTHLY\'" width="" height="" alt="MONTHLY" ng-src="/spasR50/credentialsPublic/styles/images/bc8949cb.MONTHLY.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'PASSBOOK\'" width="106" height="169" ng-style="card.style" alt="PASSBOOK" ng-src="/spasR50/credentialsPublic/styles/images/ca6387eb.PASSBOOK.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'PLATINUM\'" width="106" height="169" ng-style="card.style" alt="PLATINUM" ng-src="/spasR50/credentialsPublic/styles/images/fbdc4a94.PLATINUM.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'PLUS\'" width="106" height="169" ng-style="card.style" alt="PLUS" ng-src="/spasR50/credentialsPublic/styles/images/0c75b1af.PLUS.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'PREMIER\'" width="106" height="169" ng-style="card.style" alt="PREMIER" ng-src="/spasR50/credentialsPublic/styles/images/38f5107e.PREMIER.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'PSWITCH\'" width="106" height="169" ng-style="card.style" alt="PSWITCH" ng-src="/spasR50/credentialsPublic/styles/images/03ce11a7.PSWITCH.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'PTRUST\'" width="106" height="169" ng-style="card.style" alt="PTRUST" ng-src="/spasR50/credentialsPublic/styles/images/ac63e6e7.PTRUST.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'SELECT\'" width="106" height="169" ng-style="card.style" alt="SELECT" ng-src="/spasR50/credentialsPublic/styles/images/c5af0f9d.SELECT.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'SELECTPLUS\'" width="106" height="169" ng-style="card.style" alt="SELECTPLUS" ng-src="/spasR50/credentialsPublic/styles/images/be5beb42.SELECTPLUS.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'SERVICE\'" width="106" height="169" ng-style="card.style" alt="SERVICE" ng-src="/spasR50/credentialsPublic/styles/images/a19ef2f3.SERVICE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'SILVER\'" width="106" height="169" ng-style="card.style" alt="SILVER" ng-src="/spasR50/credentialsPublic/styles/images/65a2aeff.SILVER.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'SILVERENHANCE\'" width="106" height="169" ng-style="card.style" alt="SILVERENHANCE" ng-src="/spasR50/credentialsPublic/styles/images/902e2a91.SILVERENHANCE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'SILVERPLUS\'" width="106" height="169" ng-style="card.style" alt="SILVERPLUS" ng-src="/spasR50/credentialsPublic/styles/images/ab9206e5.SILVERPLUS.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'SPENDSAVE\'" width="106" height="169" ng-style="card.style" alt="SPENDSAVE" ng-src="/spasR50/credentialsPublic/styles/images/5e2bbf8a.SPENDSAVE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'spendsaveaccountVER\'" width="106" height="169" ng-style="card.style" alt="spendsaveaccountVER" ng-src="/spasR50/credentialsPublic/styles/images/1dc59803.spendsaveaccountVER.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'STUDENT\'" width="106" height="169" ng-style="card.style" alt="STUDENT" ng-src="/spasR50/credentialsPublic/styles/images/a062f642.STUDENT.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'studentaccountVER\'" width="106" height="169" ng-style="card.style" alt="studentaccountVER" ng-src="/spasR50/credentialsPublic/styles/images/660de92a.studentaccountVER.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'UNDER11TO15\'" width="106" height="169" ng-style="card.style" alt="UNDER11TO15" ng-src="/spasR50/credentialsPublic/styles/images/ba93892d.UNDER11TO15.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'UNDER16TO19\'" width="106" height="169" ng-style="card.style" alt="UNDER16TO19" ng-src="/spasR50/credentialsPublic/styles/images/bd19aad7.UNDER16TO19.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'UNDER19EURES\'" width="106" height="169" ng-style="card.style" alt="UNDER19EURES" ng-src="/spasR50/credentialsPublic/styles/images/e792e443.UNDER19EURES.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'PLATINUMENHANCE\'" width="106" height="169" ng-style="card.style" alt="PLATINUMENHANCE" ng-src="/spasR50/credentialsPublic/styles/images/8331989e.PLATINUMENHANCE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'GOLDPLUS\'" width="106" height="169" ng-style="card.style" alt="GOLDPLUS" ng-src="/spasR50/credentialsPublic/styles/images/844f303f.GOLDPLUS.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'GOLDENHANCE\'" width="106" height="169" ng-style="card.style" alt="GOLDENHANCE" ng-src="/spasR50/credentialsPublic/styles/images/175e3e32.GOLDENHANCE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'PLATINUMPLUS\'" width="106" height="169" ng-style="card.style" alt="PLATINUMPLUS" ng-src="/spasR50/credentialsPublic/styles/images/d8b33588.PLATINUMPLUS.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'PREMIERPLUS\'" width="106" height="169" ng-style="card.style" alt="PREMIERPLUS" ng-src="/spasR50/credentialsPublic/styles/images/747d2c77.PREMIERPLUS.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-if="subTypeProduct && subTypeProduct === \'PREMIERENHANCE\'" width="106" height="169" ng-style="card.style" alt="PREMIERENHANCE" ng-src="/spasR50/credentialsPublic/styles/images/ed30f51e.PREMIERENHANCE.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"><div ng-if="codPro" ng-switch="codPro"><img ng-switch-when="TA 00039" width="106" height="169" ng-style="card.style" alt="TA 00039" ng-src="/spasR50/credentialsPublic/styles/images/a09a576f.TA00039.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00040" width="106" height="169" ng-style="card.style" alt="TA 00040" ng-src="/spasR50/credentialsPublic/styles/images/f31aea79.TA00040.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00041" width="106" height="169" ng-style="card.style" alt="TA 00041" ng-src="/spasR50/credentialsPublic/styles/images/57092993.TA00041.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00049" width="106" height="169" ng-style="card.style" alt="TA 00049" ng-src="/spasR50/credentialsPublic/styles/images/a720185c.TA00049.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00050" width="106" height="169" ng-style="card.style" alt="TA 00050" ng-src="/spasR50/credentialsPublic/styles/images/713a4758.TA00050.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00055" width="106" height="169" ng-style="card.style" alt="TA 00055" ng-src="/spasR50/credentialsPublic/styles/images/1caa73ea.TA00055.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00058" width="106" height="169" ng-style="card.style" alt="TA 00058" ng-src="/spasR50/credentialsPublic/styles/images/b1831cc1.TA00058.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00059" width="106" height="169" ng-style="card.style" alt="TA 00059" ng-src="/spasR50/credentialsPublic/styles/images/4b760683.TA00059.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00061" width="106" height="169" ng-style="card.style" alt="TA 00061" ng-src="/spasR50/credentialsPublic/styles/images/9c4ee540.TA00061.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00065" width="106" height="169" ng-style="card.style" alt="TA 00065" ng-src="/spasR50/credentialsPublic/styles/images/d9cefeb0.TA00065.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00066" width="106" height="169" ng-style="card.style" alt="TA 00066" ng-src="/spasR50/credentialsPublic/styles/images/4b43123f.TA00066.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00070" width="106" height="169" ng-style="card.style" alt="TA 00070" ng-src="/spasR50/credentialsPublic/styles/images/f21ad9b3.TA00070.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-when="TA 00001" width="88px" height="56px" alt="TA 00001" ng-src="/spasR50/credentialsPublic/styles/images/2b6d4714.TA00001.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"> <img ng-switch-default width="106" height="169" ng-style="card.style" alt="otherDCcard" ng-src="/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/9bdcd49c.DEFAULT.png\'"></div></div><div ng-if="type === \'CC\'"><div ng-if="subTypeProduct" ng-switch="subTypeProduct"><img ng-switch-when="PLATINUMMC" width="106" height="169" alt="PLATINUMMC" ng-src="/spasR50/credentialsPublic/styles/images/b0378f05.PLATINUMMC.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="ADVANCEMC" width="106" height="169" alt="ADVANCEMC" ng-src="/spasR50/credentialsPublic/styles/images/8ce0bbe1.ADVANCEMC.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="STUDENTMC" width="106" height="169" alt="STUDENTMC" ng-src="/spasR50/credentialsPublic/styles/images/488d90b2.STUDENTMC.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="CLASSICMC" width="106" height="169" alt="CLASSICMC" ng-src="/spasR50/credentialsPublic/styles/images/15a60aba.CLASSICMC.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="TRUSTVISA" width="106" height="169" alt="TRUSTVISA" ng-src="/spasR50/credentialsPublic/styles/images/c9ad79e1.TRUSTVISA.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="GOLDMC" width="106" height="169" alt="GOLDMC" ng-src="/spasR50/credentialsPublic/styles/images/ddad57f6.GOLDMC.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="CLASSICVISA" width="106" height="169" alt="CLASSICVISA" ng-src="/spasR50/credentialsPublic/styles/images/8bc8a211.CLASSICVISA.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="TRUSTMC" width="106" height="169" alt="TRUSTMC" ng-src="/spasR50/credentialsPublic/styles/images/a7cb71fc.TRUSTMC.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-default width="106" height="169" ng-style="card.style" alt="otherDCcard" ng-src="/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'"></div><div ng-if="codPro" ng-switch="codPro"><img ng-switch-when="TA 00006" width="106" height="169" alt="TA 00006" ng-src="/spasR50/credentialsPublic/styles/images/f3eed148.TA00006.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="TA 00008" width="106" height="169" alt="TA 00008" ng-src="/spasR50/credentialsPublic/styles/images/b9f3f87a.TA00008.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="TA 00009" width="106" height="169" alt="TA 00009" ng-src="/spasR50/credentialsPublic/styles/images/503bf7c5.TA00009.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="TA 00011" width="106" height="169" alt="TA 00011" ng-src="/spasR50/credentialsPublic/styles/images/8b48428a.TA00011.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="TA 00013" width="106" height="169" alt="TA 00013" ng-src="/spasR50/credentialsPublic/styles/images/52d8996e.TA00013.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="TA 00014" width="106" height="169" alt="TA 00014" ng-src="/spasR50/credentialsPublic/styles/images/b3e51522.TA00014.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="TA 00017" width="106" height="169" alt="TA 00017" ng-src="/spasR50/credentialsPublic/styles/images/f6d3535d.TA00017.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="TA 00019" width="106" height="169" alt="TA 00019" ng-src="/spasR50/credentialsPublic/styles/images/5545a5b3.TA00019.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-when="TA 00032" width="106" height="169" alt="TA 00032" ng-src="/spasR50/credentialsPublic/styles/images/2ac485cc.TA00032.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'" ng-style="card.style"> <img ng-switch-default width="106" height="169" ng-style="card.style" alt="otherDCcard" ng-src="/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png" onerror="this.src=\'/spasR50/credentialsPublic/styles/images/79c7ce39.DEFAULTCC.png\'"></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-check-box/check-box-inline-tpl.html",'<label for="{{checkBoxId}}" class="checkbox-inline label-checkbox" ng-class="{\'label-left\' : labelPosition === \'left\'}"><input id="{{checkBoxId}}" type="checkbox" name="{{name}}" value="{{value}}" ng-model="output" ng-required="{{validationRequired == \'true\'}}" ng-disabled="checkBoxDisabled === \'true\'" ng-change="onChange()"><ng-transclude></ng-transclude><span class="input-checkbox"></span></label>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-check-box/check-box-stacked-tpl.html",'<div class="checkbox"><label for="{{checkBoxId}}" class="label-checkbox" ng-class="{\'label-left\' : labelPosition === \'left\'}"><input id="{{checkBoxId}}" type="checkbox" name="{{name}}" value="{{value}}" ng-model="output" ng-required="{{validationRequired == \'true\'}}" ng-disabled="checkBoxDisabled === \'true\'" ng-change="onChange()"><ng-transclude></ng-transclude><span class="input-checkbox"></span></label></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-form-group/form-group-tpl.html",'<div class="form-group mt-xs" ng-class="{ \'has-error error label-error\': !hideElement && input.$invalid && (input.$touched || parentForm.$submitted) }"><ng-transclude></ng-transclude></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-form-group/proteo-ui-form-control/form-control-tpl.html",'<div class="input-group"><ng-transclude></ng-transclude><proteo-ui-icon icon="alert" ng-show="hideElement && input.$invalid && (input.$touched || parentForm.$submitted)" class="input-group-addon"></proteo-ui-icon><proteo-ui-icon icon="check" ng-show="hideElement && input.$valid && (input.$touched || parentForm.$submitted)" class="input-group-addon"></proteo-ui-icon></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-form-group/proteo-ui-form-error/form-error-tpl.html",'<div ng-messages="$parent.input.$error" ng-show="$parent.input.$invalid && ($parent.input.$touched || $parent.parentForm.$submitted)" role="alert"><ng-transclude></ng-transclude></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-icon/icon-tpl.html","<span class=\"icon-{{icon}} {{iconSize ? iconSize + '-icon' : ''}} {{iconBg ? iconBg + '-icon' : ''}} {{iconColor ? iconColor + '-icon' : ''}}\"></span>"),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-input/input-tpl.html",'<input class="form-control"/>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-link/link-state-tpl.html",'<a class="link-std" ui-sref="{{state}}" ng-transclude></a>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-link/link-tpl.html",'<a class="link-std" ng-href="{{url}}" ng-transclude></a>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-panel/panel-body-tpl.html",'<div class="panel-body" ng-transclude></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-panel/panel-footer-tpl.html",'<div class="panel-footer" ng-transclude></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-panel/panel-header-tpl.html",'<div class="panel-heading" ng-transclude></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-panel/panel-tpl.html",'<div class="panel" ng-transclude></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-radio-button/radio-inline-tpl.html",'<label class="radio-inline label-radio" for="{{radioId}}"><input id="{{radioId}}" type="radio" name="{{groupName}}" ng-value="value || radioValue" ng-change="onChange()" ng-model="output" ng-disabled="radioDisabled === \'true\'" ng-required="{{validationRequired}}"><ng-transclude></ng-transclude><span class="input-radio"></span></label>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-radio-button/radio-stacked-tpl.html",'<div class="radio"><label class="label-radio" for="{{radioId}}"><input id="{{radioId}}" type="radio" name="{{groupName}}" ng-value="value || radioValue" ng-change="onChange()" ng-model="output" ng-disabled="radioDisabled === \'true\'" ng-required="{{validationRequired}}"><ng-transclude></ng-transclude><span class="input-radio"></span></label></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-simple-collapse/simple-collapse-title-tpl.html",'<div class="collapsible-std collapse-inline" ng-click="isCollapsed = !isCollapsed"><span ng-class="{\'icon-plus\': !isCollapsed, \'icon-minus\': isCollapsed}" class="d-inline-block"></span> <a class="d-inline-block" ng-transclude></a></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-simple-collapse/simple-collapse-tpl.html",'<div class="col-xs-12"><div class="row"><div uib-collapse="!isCollapsed"><div ng-transclude></div></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-text/text-paragraph-tpl.html",'<p class="text-std" ng-transclude>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-text/text-tpl.html",'<span class="text-std" ng-transclude></span>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-thematic-break/thematic-break-tpl.html",'<div><div class="clearfix"></div><hr/></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-basics/proteo-ui-tool-tip/tool-tip-tpl.html",'<a tooltip-placement="{{position || \'top\'}}" uib-tooltip="{{text}}" ng-transclude></a>')}]),!function(){"use strict";angular.module("proteo.ui.popover",["appverse.cache","ui.bootstrap","proteo.invocation-service","proteo.ui.basics","proteo.ui.basics.templates","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.popover").controller("proteoUiPopoverController",["$log","$scope",function(a,b){function c(){(angular.isUndefined(b.placement)||null===b.placement||""===b.placement)&&(b.placement="top-left")}b.isOpen=!1,b.popoverTplOverlay="/spasR50/credentialsPublic/components/proteo-ui-popover/proteo-ui-popover-tpl-overlay.html",b.isTitle=function(){return!(angular.isUndefined(b.titlePopover)||null===b.titlePopover||""===b.titlePopover)},b.changeState=function(){b.isOpen=!b.isOpen},c()}])}(),function(){"use strict";angular.module("proteo.ui.popover").directive("proteoUiPopover",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{titlePopover:"@",content:"@?",placement:"@?",templateUrl:"@?",arrowPosition:"@",size:"@",helperText:"@"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-popover/proteo-ui-popover-tpl.html",controller:"proteoUiPopoverController"}})}(),angular.module("proteo.ui.popover.templates",["/spasR50/credentialsPublic/components/proteo-ui-popover/proteo-ui-popover-tpl-overlay.html","/spasR50/credentialsPublic/components/proteo-ui-popover/proteo-ui-popover-tpl.html"]),angular.module("/spasR50/credentialsPublic/components/proteo-ui-popover/proteo-ui-popover-tpl-overlay.html",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-popover/proteo-ui-popover-tpl-overlay.html",'<div ng-class="{\'no-title\': !isTitle()}"><div class="popover-title"><ng-switch on="size"><h1 ng-switch-when="h1"><proteo-ui-text translate="{{titlePopover}}"></proteo-ui-text></h1><h2 ng-switch-when="h2"><proteo-ui-text translate="{{titlePopover}}"></proteo-ui-text></h2><h3 ng-switch-when="h3"><proteo-ui-text translate="{{titlePopover}}"></proteo-ui-text></h3><h4 ng-switch-when="h4"><proteo-ui-text translate="{{titlePopover}}"></proteo-ui-text></h4><h5 ng-switch-when="h5"><proteo-ui-text translate="{{titlePopover}}"></proteo-ui-text></h5><h6 ng-switch-when="h6"><proteo-ui-text translate="{{titlePopover}}"></proteo-ui-text></h6><h3 ng-switch-default><proteo-ui-text translate="{{titlePopover}}"></proteo-ui-text></h3></ng-switch><proteo-ui-link class="close" ng-click="changeState()"><proteo-ui-icon icon="cancel"></proteo-ui-icon></proteo-ui-link></div><div class="popover-container"><proteo-ui-text ng-if="content" translate="{{content}}"></proteo-ui-text><div ng-if="templateUrl" ng-include="templateUrl"></div></div></div>')}]),angular.module("/spasR50/credentialsPublic/components/proteo-ui-popover/proteo-ui-popover-tpl.html",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-popover/proteo-ui-popover-tpl.html",'<span uib-popover-template="popoverTplOverlay" popover-placement="{{placement}}" popover-is-open="isOpen" popover-trigger="outsideClick" popover-append-to-body="true" class="popover-link link-std popover-alignement-{{::arrowPosition}}" ng-click="changeState()" title="{{helperText ? (helperText | translate) : null}}" ng-transclude></span>')}]),!function(){"use strict";var a=null;angular.module("get-external-link",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","proteo.canal-invoker","angular.filter","appverse.router","appverse.translate","proteo.consultive","appverse"]).config(["$translateProvider",function(a){a.useLoader("customLanguageTemplateLoader",{})}]).factory("customLanguageTemplateLoader",["$q","$http",function(b,c){return function(d){var e,f=function(){return"/spasR50/credentialsPublic/resources/configuration/ca27203c.cms-tokens.json"},g=function(){return"/spasR50/credentialsPublic/resources/i18n/"+d.key+".json"},h=b.defer(),i=f(),j=g();return c.get(j,{headers:{"Cache-Control":"no-cache"}}).success(function(b){e=b,c.get(i).success(function(b){var c={};for(var d in a)if(b.cmsTokens[d]){var f="";c[b.cmsTokens[d]]?f=c[b.cmsTokens[d]].replace("#{"+d+"}#",a[d]).replace("#["+d+"]#",a[d]):e[b.cmsTokens[d]]&&(f=e[b.cmsTokens[d]].replace("#{"+d+"}#",a[d]).replace("#["+d+"]#",a[d])),c[b.cmsTokens[d]]=f}angular.extend(e,c),angular.extend(e,c),h.resolve(e)}).error(function(a){h.resolve(e)})}),h.promise}}]).run(["$rootScope","APP_CONFIG","$state","getExternalLinkServices","$window","$log","$translate","$http","consultiveFactory","$location","$document",function(b,c,d,e,f,g,h,i,j,k,l){function m(){s.parameters.cmstokens=Object.keys(r.cmsTokens)}function n(a,b){var d=JSM.getSpaParameters(),e=r.dataLayer;a.dataLayer&&angular.extend(e,a.dataLayer),j.getOperationID()&&(e.operationID=j.getOperationID()),d&&(d.name&&(e.product_name=d.name),(d.accountNumber||d.productNumber)&&(e.product_id=d.accountNumber||d.productNumber),(d.typeName||d.type&&d.type.name)&&(e.product_category=d.typeName||d.type.name),e.application_form_id=c.APP_ID),location?e.page_url=b:e.page_url="",
s.parameters.datalayer=e}function o(a,b,c){return s={parameters:{datalayer:{},tokens:{},cmstokens:[]}},n(b,c.$$absUrl),m(),s}function p(){function a(a){angular.forEach(a,function(a,b){var c=r[b];c?(angular.forEach(a,function(a,b){c[b]=a}),r[b]=c):r[b]=a})}function b(b){var c=new XMLHttpRequest;c.open("GET",b,!1),c.send(null);var d=JSON.parse(c.responseText);a(d)}b("/spasR50/credentialsPublic/resources/configuration/ca27203c.cms-tokens.json")}function q(b){a=b,h.refresh(),t.style.display="block",u=!1,x(t.getAttribute("id"))}var r=[],s={parameters:{datalayer:{},tokens:{},cmstokens:[]}};p();var t=l[0].getElementsByClassName("primary")[0]||l[0].getElementsByClassName("container")[0];t||(t=l[0].body),t.getAttribute("id")||t.setAttribute("id","literalsLoader");var u=!1,v=null,w=function(a){var b='<div id="invokerLoader-'+a+'" class="loading-spinner"><span class="icon-spinner"><span class="blockG" id="rotateG_1"></span><span class="blockG" id="rotateG_2"></span><span class="blockG" id="rotateG_3"></span><span class="blockG" id="rotateG_4"></span><span class="blockG" id="rotateG_5"></span><span class="blockG" id="rotateG_6"></span><span class="blockG" id="rotateG_7"></span><span class="blockG" id="rotateG_8"></span><span class="blockG" id="rotateG_9"></span><span class="blockG" id="rotateG_10"></span><span class="blockG" id="rotateG_11"></span><span class="blockG" id="rotateG_12"></span></span></div>';return angular.element(b)},x=function(a){if(angular.isDefined(a)&&u)v=w(a),angular.element(l[0].getElementById(a)).addClass("wrap-invoker-loader big").append(v);else{var b=l[0].getElementById("invokerLoader-"+a);angular.element(b).parent().removeClass("wrap-invoker-loader big"),angular.element(b).remove()}};b.$on("$stateChangeSuccess",function(a,b,d){h.refresh(),u=!0,x(t.getAttribute("id"));var e,f=c.APP_ID;angular.isUndefined(c.CMS_ID)?e=b.name:(f=c.CMS_ID,e=k.path().replace(/^[\/]+/,"").replace(/[\/]/g,".")),JSM.contentUpdate(c.APP_ID,e,o(e,d,k),function(a,b){b?setTimeout(function(){q(b)},300):i.get("/spasR50/credentialsPublic/resources/configuration/cms-tokens-default.json").then(function(a){q(a.data)},function(){q([])})},function(a){a?g.debug("Error updating the element. Reason: "+a.reason):g.debug("Element successfully updated")})}),b.$on("$stateNotFound",function(a,b){function c(){JSM.routing(e,f.replace(/\./g,"/"),JSON.stringify(b.toParams),b.options.context,b.options.target)}function d(){c()}var e=b.to.slice(0,b.to.indexOf(".")),f=b.to.slice(b.to.indexOf(".")+1);a.preventDefault(),d()})}])}(),function(){"use strict";angular.module("get-external-link").factory("getExternalLinkServices",["$log","$q","serviceInvocation","proteocanalinvokerServices",function(a,b,c,d){a.debug("getExternalLinkServices loading");var e={};return e.getGetExternalLink=function(a,d){var e=b.defer();return c.callService("externallinkwa-v0/applicationRouting/"+a+"/"+d,{},"GET").then(function(a){e.resolve(a.body)},function(a){e.reject("Error searching for external link")}),e.promise},e.getTokens=function(){function a(a){e.resolve(a)}function c(a){e.reject(a)}var e=b.defer();return d.invoke({service:endpoint,callback:a,fail:c}),e.promise},e}])}(),angular.module("get-external-link.templates",[]).run(["$templateCache",function(a){"use strict"}]),!function(){"use strict";angular.module("proteo.ui.modal",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","proteo.ui.basics","proteo.ui.basics.templates","appverse"])}(),function(){"use strict";function a(a){g===!1&&(angular.isDefined(a.component.onClose)&&angular.isFunction(a.component.onClose)&&$("#"+a.modalId).on("hidden.bs.modal",function(b){a.component.onClose(),a.$parent.$digest()}),angular.isDefined(a.component.onOpen)&&angular.isFunction(a.component.onOpen)&&$("#"+a.modalId).on("shown.bs.modal",function(b){a.component.onOpen(),a.$parent.$digest()}),g=!0)}function b(b,c){a(c),$("#"+b).modal("toggle")}function c(b){a(b),$("#"+b.modalId).modal("show")}function d(a){$("#"+a.modalId).modal("hide")}function e(a){a.component=angular.isObject(a.component)?a.component:{},a.component.close=function(){d(a)},a.component.open=function(){c(a)}}function f(a){a.close=function(){b(a.modalId,a),angular.isDefined(a.onClose)&&angular.isFunction(a.onClose)&&a.onClose()},a.ok=function(){a.callBack()?b(a.modalId,a):angular.isFunction(a.fail())&&a.fail()},e(a)}f.$inject=["a"],f.$inject=["$scope"],angular.module("proteo.ui.modal").controller("proteoUiModalController",f);var g=!1}(),function(){"use strict";angular.module("proteo.ui.modal").directive("proteoUiModalLauncher",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{modalId:"@"},templateUrl:function(a,b){var c="-link";return angular.isDefined(b.linkType)&&(c="-"+b.linkType),"/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal"+c+"-tpl.html"},controller:"proteoUiModalController"}}).directive("proteoUiModal",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{modalId:"@",modalSize:"@",modalType:"@",linkType:"@",onClose:"&onClose",component:"=?"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-tpl.html",controller:"proteoUiModalController"}}).directive("proteoUiModalHeader",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-header-tpl.html"}}).directive("proteoUiModalBody",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-body-tpl.html"}}).directive("proteoUiModalFooter",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-footer-tpl.html"}}).directive("modalCallBack",function(){return{restrict:"E",transclude:!0,scope:{modalId:"@",callBack:"&",fail:"&onFail"},template:'<div ng-click="ok()"><div ng-transclude></div></div>',controller:"proteoUiModalController"}})}(),angular.module("proteo.ui.modal.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-modal/assets/body.html","<h1>Body</h1>"),a.put("/spasR50/credentialsPublic/components/proteo-ui-modal/assets/footer.html","<h1>Footer</h1>"),a.put("/spasR50/credentialsPublic/components/proteo-ui-modal/assets/header.html","<h1>Header</h1>"),a.put("/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-body-tpl.html",'<div class="modal-body"><ng-transclude></ng-transclude></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-button-tpl.html",'<button class="btn md-btn" data-toggle="modal" data-target="{{\'#\' + modalId}}" ng-transclude></button>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-footer-tpl.html",'<div class="modal-footer" ng-transclude></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-header-tpl.html",'<div class="modal-header no-padding-top"><a class="close" data-dismiss="modal" aria-label="Close" ng-click="$parent.close()"><span aria-hidden="true" class="hidden-lg hidden-md hidden-sm">×</span></a><ng-transclude></ng-transclude></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-link-tpl.html",'<a data-toggle="modal" data-target="{{ \'#\' + modalId}}" ng-transclude></a>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-tpl.html",'<div id="{{modalId}}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="{{modalId}}Label" size="{{size || \'lg\'}}"><div class="modal-dialog modal-{{modalSize || \'lg\'}}" role="document"><div class="modal-content modal-{{modalType || \'default\'}}"><ng-transclude></ng-transclude></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-modal/proteo-ui-modal-transclude-tpl.html",'<div data-toggle="modal" data-target="{{\'#\' + modalId}}" ng-transclude></div>')}]),!function(){"use strict";angular.module("App.declineYourPaymentStandingOrderBiz",["App.globalErrorCommon"])}(),function(){"use strict";angular.module("App.declineYourPaymentStandingOrder",["App.globalErrorCommon"])}(),function(){"use strict";function a(a,b,c){c.$on("$stateChangeStart",function(b,c,d,e,f){e.params=f,a.previous=e}),c.cancel=b.cancel,c.backToHome=b.backToHome}a.$inject=["a","b","c"],a.$inject=["$state","globalErrorCommonFactory","$rootScope"],angular.module("App.globalErrorCommon",[]).run(a)}(),function(){"use strict";angular.module("App.globalErrorPage",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse","get-external-link","proteo.generic-functions","proteo.canal-invoker","proteo.ui.basics","proteo.ui.basics.templates"])}(),function(){"use strict";angular.module("App.modalErrorScaCredentials",["App.globalErrorCommon","proteo.ui.basics","proteo.ui.basics.templates","proteo.ui.modal","proteo.ui.modal.templates"])}(),function(){"use strict";angular.module("App.paymentFailedRejectedBiz",["App.globalErrorCommon"])}(),function(){"use strict";angular.module("App.paymentFailedRejected",["App.globalErrorCommon"])}(),function(){"use strict";angular.module("App.paymentProgressScreen",["App.globalErrorCommon"])}(),function(){"use strict";angular.module("App.paymentStandingOrderDeclinedBiz",["App.globalErrorCommon"])}(),function(){"use strict";angular.module("App.paymentStandingOrderDeclined",["App.globalErrorCommon"])}(),function(){"use strict";angular.module("App.paymentStandingOrderUnderReviewBiz",["App.globalErrorCommon"])}(),function(){"use strict";angular.module("App.paymentStandingOrderUnderReview",["App.globalErrorCommon"])}(),function(){"use strict";angular.module("App.paymentSubmittedForApprovalBiz",["App.globalErrorCommon"])}(),function(){"use strict";function a(a,b){function c(){var c=["confirmPaymentDetails","makeTransferUnder.makeTransferConfirmation","amendPendingPaymentConfirmationSbbi","paymentProgressScreen"];d.payment=a.payment,angular.isDefined(d.payment.beneficiary)&&!angular.isDefined(d.payment.beneficiary.reference)&&(d.payment.beneficiary.reference=null),angular.isDefined(b.previous)&&-1!==c.indexOf(b.previous.name)?(d.paragraph1Key="GLOBALERROR_DECLINE_YOUR_PAYMENT_PAYMENT_SORRY_YOUR_OPERATION_DECLINED",d.titleKey="GLOBALERROR_DECLINE_YOUR_PAYMENT_TITLE_PAYMENT"):(d.paragraph1Key="GLOBALERROR_DECLINE_YOUR_PAYMENT_STANDING_ORDER_SORRY_YOUR_OPERATION_DECLINED",d.titleKey="GLOBALERROR_DECLINE_YOUR_PAYMENT_TITLE_STANDING_ORDER")}var d=this;c()}a.$inject=["a","b"],a.$inject=["$stateParams","$state"],angular.module("App.declineYourPaymentStandingOrderBiz").controller("declineYourPaymentStandingOrderBizController",a)}(),function(){"use strict";function a(a){a.state("declineYourPaymentStandingOrderBiz",{url:"/declineYourPaymentStandingOrderBiz",controller:"declineYourPaymentStandingOrderBizController as psod",templateUrl:"/spasR50/credentialsPublic/components/decline-your-payment-standing-order-biz/payment-standing-order-declined-biz-tpl.html",params:{payment:null}})}a.$inject=["a"],a.$inject=["$stateProvider"],angular.module("App.declineYourPaymentStandingOrderBiz").config(a)}(),angular.module("App.declineYourPaymentStandingOrderBiz.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/decline-your-payment-standing-order-biz/payment-standing-order-declined-biz-tpl.html",'<!DOCTYPE html><div id="declineStoBiz1" class="row"><div class="col-xs-12"><h1 class="no-margin-top" translate="{{psod.titleKey}}"></h1><proteo-ui-text paragraph="true"><proteo-ui-text id="declineStoBizText1" translate="{{psod.paragraph1Key}}"></proteo-ui-text><proteo-ui-text id="declineStoBizText2" translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_SORRY_YOUR_OPERATION_DECLINED2" translate-values="{payment:psod.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="declineStoBizText3" translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_SORRY_YOUR_OPERATION_DECLINED3"></proteo-ui-text><proteo-ui-text id="declineStoBizText4" translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_SORRY_YOUR_OPERATION_DECLINED4" translate-values="{payment:psod.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="declineStoBizText5" translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_SORRY_YOUR_OPERATION_DECLINED5"></proteo-ui-text></proteo-ui-text></div></div><div id="declineStoBiz2" class="row"><div class="col-xs-12"><proteo-ui-text translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_LIST1"></proteo-ui-text><proteo-ui-text translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_LIST2" class="text-bold"></proteo-ui-text><proteo-ui-text translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_LIST3"></proteo-ui-text><proteo-ui-text translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_LIST4"></proteo-ui-text></div></div><div id="declineStoBiz3" class="row"><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-xs-12"><proteo-ui-text translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_LIST5" class="text-bold"></proteo-ui-text></div></div><div id="declineStoBiz4" class="row"><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-xs-12 text-right"><proteo-ui-button ng-click="backToHome()"><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div></div>')}]),function(){"use strict";function a(a,b){function c(){var c=["confirmPaymentDetails","confirmP2pPaymentDetails","makeTransfer.makeTransferConfirmation","paymentProgressScreen","confirmUpdatePendingPayments"];d.payment=a.payment,angular.isDefined(d.payment.beneficiary)&&!angular.isDefined(d.payment.beneficiary.reference)&&(d.payment.beneficiary.reference=null),angular.isDefined(b.previous)&&-1!==c.indexOf(b.previous.name)?(d.titleKey="GLOBALERROR_DECLINE_YOUR_PAYMENT_TITLE_PAYMENT",d.paragraph1Key="GLOBALERROR_DECLINE_YOUR_PAYMENT_PAYMENT_SORRY_YOUR_OPERATION_DECLINED"):(d.titleKey="GLOBALERROR_DECLINE_YOUR_PAYMENT_TITLE_STANDING_ORDER",d.paragraph1Key="GLOBALERROR_DECLINE_YOUR_PAYMENT_STANDING_ORDER_SORRY_YOUR_OPERATION_DECLINED")}var d=this;c()}a.$inject=["a","b"],a.$inject=["$stateParams","$state"],angular.module("App.declineYourPaymentStandingOrder").controller("declineYourPaymentStandingOrderController",a)}(),function(){"use strict";function a(a){a.state("declineYourPaymentStandingOrder",{url:"/declineYourPaymentStandingOrder",templateUrl:"/spasR50/credentialsPublic/components/decline-your-payment-standing-order/payment-standing-order-declined-tpl.html",controller:"declineYourPaymentStandingOrderController as psod",params:{payment:null}})}a.$inject=["a"],a.$inject=["$stateProvider"],angular.module("App.declineYourPaymentStandingOrder").config(a)}(),angular.module("App.declineYourPaymentStandingOrder.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/decline-your-payment-standing-order/payment-standing-order-declined-tpl.html",'<!DOCTYPE html><div id="declineStoRetail1" class="row"><div class="col-xs-12"><h1 class="no-margin-top" translate="{{psod.titleKey}}"></h1><proteo-ui-text paragraph="true"><proteo-ui-text id="declineStoRetailText1" translate="{{psod.paragraph1Key}}"></proteo-ui-text><proteo-ui-text id="declineStoRetailText2" translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_SORRY_YOUR_OPERATION_DECLINED2" translate-values="{payment:psod.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="declineStoRetailText3" translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_SORRY_YOUR_OPERATION_DECLINED3"></proteo-ui-text><proteo-ui-text id="declineStoRetailText4" translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_SORRY_YOUR_OPERATION_DECLINED4" translate-values="{payment:psod.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="declineStoRetailText5" translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_SORRY_YOUR_OPERATION_DECLINED5"></proteo-ui-text></proteo-ui-text></div></div><div id="declineStoRetail2" class="row"><div class="col-xs-12"><proteo-ui-text translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_LIST1"></proteo-ui-text><proteo-ui-text translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_LIST2" class="text-bold"></proteo-ui-text><proteo-ui-text translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_LIST3"></proteo-ui-text><proteo-ui-text translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_LIST4"></proteo-ui-text></div></div><div id="declineStoRetail3" class="row"><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-xs-12"><proteo-ui-text translate="GLOBALERROR_DECLINE_YOUR_PAYMENT_LIST5" class="text-bold"></proteo-ui-text></div></div><div id="declineStoRetail4" class="row"><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-xs-12 text-right"><proteo-ui-button ng-click="backToHome()"><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div></div>')}]),function(){"use strict";function a(a,b){return function(c,d){return a("currency")(c,b.convert(d))}}a.$inject=["a","b"],a.$inject=["$filter","currencyParserFactory"],angular.module("App.globalErrorCommon").filter("toCurrencyFilter",a)}(),function(){"use strict";function a(){function a(a){var c=b[a];return void 0===c&&(c=a),c}var b={USD:"$",EUR:"€",CRC:"₡",GBP:"£",ILS:"₪",INR:"₹",JPY:"¥",KRW:"₩",NGN:"₦",PHP:"₱",PLN:"zł",PYG:"₲",THB:"฿",UAH:"₴",VND:"₫"},c={convert:a};return c}a.$inject=[],angular.module("App.globalErrorCommon").factory("currencyParserFactory",a)}(),function(){"use strict";function a(a,b,c){var e=angular.isDefined(c)&&c.length>0?c:"public",f=!0;if(!d)switch(b.host()){case"dev.online-business.intranet.uk.tsb":case"dev.uk.tsb":d=a.dev,f=!0;break;case"int.uk.tsb":d=a["int"],f=!0;break;case"acc.uk.tsb":d=a.acc,f=!0;break;default:d=a["default"],f=!1}return f?d+e:d}function b(b,c,d,e,f,g,h){window.open(a(b,c,h)+d,e,f,g)}function c(a,c,d){function e(b,c,d,e){var f="",g={};angular.isDefined(c)&&angular.isDefined(d)&&c.indexOf("statements")>-1?(g={accountNumber:d.accountNumber,sortCode:d.sortCode,typeName:d.type.name,statusName:d.status.name},angular.isDefined(e)&&angular.extend(g,e),f=b?"statementsBiz.statementsBiz":"statements.statements"):f=b?"holdingListBiz.holdingListBiz":"holdingList.holdingList",a.go(f,g)}function f(){b(d,c,"","_self")}var g={cancel:e,backToHome:f};return g}c.$inject=["a","c","d"];var d=null;c.$inject=["$state","$location","ENVIRONMENT_URL"],angular.module("App.globalErrorCommon").factory("globalErrorCommonFactory",c)}(),function(){"use strict";function a(){return function(a){return a?a.alias?a.alias:a.name?a.name:"-":null}}a.$inject=[],angular.module("App.globalErrorCommon").filter("nameAccountFilter",a)}(),function(){"use strict";function a(a,b,c,d,e,f){var g="";if(b=b===!1?!1:!0,b&&(g="("),d.length>0&&a.accountNumber.length>0){var h=d.replace(/-/g,"");c=h.substr(0,2)+"-"+h.substr(2,2)+"-"+h.substr(4,2),g+=c+", "+a.accountNumber}else e.length>0?g+=e:f.length>0?g+=f+", "+a.accountNumber:g="";return b&&g.length>0&&(g+=")"),g}!function(){function b(){return function(b,c){var d="";if(angular.isDefined(b)){var e="",f=angular.isDefined(b.sortCode)?b.sortCode:angular.isDefined(b.accountSortCode)?b.accountSortCode:"",g=angular.isDefined(b.referenceNumber)?b.referenceNumber:"",h=angular.isDefined(b.bic)?b.bic:"";d=a(b,c,e,f,g,h)}return d}}b.$inject=[],angular.module("App.globalErrorCommon").filter("shortAccountFilter",b)}()}(),function(){"use strict";function a(){return function(a){return angular.isString(a)&&(a=a.replace(/,/g,"")),parseFloat(parseFloat(a).toFixed(2))}}a.$inject=[],angular.module("App.globalErrorCommon").filter("toNumberFilter",a)}(),function(){"use strict";angular.module("App.globalErrorPage").controller("globalErrorPageController",["$state","$stateParams","genericFunctions",function(a,b,c){function d(){null===e.title&&(e.title="COMMON_GLOBALERROR_TITLE"),null===e.message&&(e.message="COMMON_GLOBALERROR_TEXT"),null!==b.dataLayer&&(JSM._updateDataLayer(b.dataLayer),JSM._dataLayerSPAReady())}var e=this;console.log("template INIT",b.template),e.hideBackLinkButton=b.hideBackLinkButton||!1,angular.isDefined(b.isBiz)?e.isBiz=b.isBiz:e.isBiz=!1,angular.isDefined(b.isPayments)?e.isPayments=b.isPayments:e.isPayments=!1,angular.isDefined(b.template)&&angular.isDefined(b.message)&&""!==b.template&&""!==b.message?"technicalError"===b.template&&angular.isDefined(b.technicalMessage)&&""!==b.technicalMessage?(e.template=b.template,e.technicalMessage=b.technicalMessage,e.backMessage=b.backMessage,e.backLink=b.backLink||b.linkState||"holdingList.holdingList",e.message="COMMON_"+b.message):(e.template=b.template,e.message="COMMON_"+b.message,e.backMessage=b.backMessage,e.backLink=b.backLink||b.linkState||"holdingList.holdingList"):(e.title="COMMON_GLOBALERROR_TITLE",e.template="technicalError",e.message="COMMON_GLOBALERROR_TEXT"),angular.isDefined(b.title)&&""!==b.title?e.title=b.title:e.title="COMMON_GLOBALERROR_TITLE",e.bankName=b.bankName,e.linkText=b.linkText,e.linkState=b.linkState,e.messageLinkState=b.messageLinkState,e.messageLink=b.messageLink,e.goToEnterCustomerData=function(){a.go(e.messageLinkState)},e.gotoPublicTsb=function(){b.goBackState?a.go(b.goBackState,b.goBackStateData):c.goToInternalURL("/personal","_self","",!1,"public")},e.unlock=function(){var b=e.isBiz?"credentialsPublicBiz":"credentialsPublic";a.go(b+".enterCustomerIdData")},e.goToLogin=function(){e.isBiz?window.location="/business/logon/login/":window.location="/personal/logon/login/"},d()}])}(),function(){"use strict";angular.module("App.globalErrorPage").config(["$stateProvider",function(a){a.state("globalErrorPage",{url:"/globalErrorPage",controller:"globalErrorPageController as pugepc",templateUrl:"/spasR50/credentialsPublic/components/global-error-page/global-error-page-tpl.html",params:{template:"technicalError",title:"COMMON_GLOBALERROR_TITLE",message:"GLOBALERROR_TEXT",bankName:"TSB",linkText:"COMMON_BACK_ACCOUNTS",linkState:"holdinglist",technicalMessage:"",backLink:"",backMessage:"COMMON_BACK_ACCOUNTS",messageLink:"",messageLinkState:"",messageTextLinkState:null,messageTextLink:null,hideBackLinkButton:!1,isBiz:null,isPayments:null,goBackState:null,goBackStateData:{},dataLayer:{}}})}])}(),angular.module("App.globalErrorPage.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/global-error-page/global-error-page-tpl.html","<div class=\"container-fluid wrap-global-error-page\"><div ng-include=\"'/spasR50/credentialsPublic/components/global-error-page/templates/'+ pugepc.template +'-tpl.html'\"></div></div>"),a.put("/spasR50/credentialsPublic/components/global-error-page/templates/applicationFailureError-tpl.html",'<div id="appFail1" class="row"><div class="col-xs-12"><h1 translate="{{pugepc.title}}"></h1></div></div><div id="appFail2" class="row"><div class="col-xs-12"><proteo-ui-panel class="vertical-center-min-200"><proteo-ui-panel-body class="text-center"><div><proteo-ui-text translate="{{pugepc.message}}"></proteo-ui-text></div></proteo-ui-panel-body></proteo-ui-panel></div></div><div id="appFail3" class="row sm-margin-top"><div class="col-xs-6"><proteo-ui-link><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="COMMON_GLOBALERROR_UNLOCK"></proteo-ui-text></proteo-ui-link></div></div><div id="appFail4" class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div id="appFail5" class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12 col-sm-6"><proteo-ui-button ui-sref="login"><proteo-ui-text translate="COMMON_GLOBALERROR_LOG_BACK_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div><div class="col-xs-12 col-sm-6 pull-right"><proteo-ui-button class="pull-right"><proteo-ui-text translate="COMMON_GLOBALERROR_BACK_TO_BANK" translate-values="{ bankName: pugepc.bankName}"></proteo-ui-text></proteo-ui-button></div></div>'),a.put("/spasR50/credentialsPublic/components/global-error-page/templates/credentialsAttemptsExceed-tpl.html",'<div class="row"><div class="col-xs-12"><h1>{{pugepc.title}}</h1></div></div><div class="row"><div class="col-xs-12"><proteo-ui-panel><proteo-ui-panel-body><div><proteo-ui-text translate="{{pugepc.message}}"></proteo-ui-text><proteo-ui-link ng-if="pugepc.messageTextLinkState && pugepc.messageTextLink" ui-sref="{{pugepc.messageTextLinkState}}"><proteo-ui-text translate="{{pugepc.messageTextLink}}"></proteo-ui-text></proteo-ui-link></div></proteo-ui-panel-body></proteo-ui-panel></div></div><div class="row sm-margin-top"><div class="col-xs-6"><proteo-ui-link ng-if="pugepc.messageLinkState && pugepc.messageLink" ui-sref="{{pugepc.messageLinkState}}"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="COMMON_GLOBALERROR_UNLOCK"></proteo-ui-text></proteo-ui-link></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12 col-sm-6 pull-right"><proteo-ui-button class="pull-right" ng-click="pugepc.gotoPublicTsb()"><proteo-ui-text translate-values="{ bankName: pugepc.bankName}" translate="COMMON_GLOBALERROR_BACK_TO_BANK"></proteo-ui-text></proteo-ui-button></div></div>'),a.put("/spasR50/credentialsPublic/components/global-error-page/templates/customerSecurityLogoffError-tpl.html",'<div id="custSecLogoff1" class="row"><div class="col-xs-12"><h1>{{pugepc.title}}</h1></div></div><div id="custSecLogoff2" class="row"><div class="col-xs-12"><proteo-ui-panel class="vertical-center-min-200"><proteo-ui-panel-body class="text-center"><div><proteo-ui-text translate="{{pugepc.message}}"></proteo-ui-text></div></proteo-ui-panel-body></proteo-ui-panel></div></div><div id="custSecLogoff3" class="row sm-margin-top"><div class="col-xs-6"><proteo-ui-link><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="COMMON_GLOBALERROR_UNLOCK"></proteo-ui-text></proteo-ui-link></div></div><div id="custSecLogoff4" class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div id="custSecLogoff5" class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12 col-sm-6"><proteo-ui-button ui-sref="login"><proteo-ui-text translate="COMMON_GLOBALERROR_LOG_BACK_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div><div class="col-xs-12 col-sm-6 pull-right"><proteo-ui-button class="pull-right"><proteo-ui-text translate="COMMON_GLOBALERROR_BACK_TO_BANK" translate-values="{ bankName: pugepc.bankName}"></proteo-ui-text></proteo-ui-button></div></div>'),a.put("/spasR50/credentialsPublic/components/global-error-page/templates/expireExchangeError-tpl.html",'<div class="row"><div class="col-xs-12"><h1><proteo-ui-text translate="COMMON_GLOBALERROR_EXPIRE_EXCHANGE_RATES"></proteo-ui-text></h1></div></div><div class="row"><div class="col-xs-12"><proteo-ui-panel class="vertical-center-min-200"><proteo-ui-panel-body class="text-center"><div><proteo-ui-text translate="{{pugepc.message}}"></proteo-ui-text></div></proteo-ui-panel-body></proteo-ui-panel></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12 col-sm-6 pull-right"><proteo-ui-button class="pull-right"><proteo-ui-text translate="COMMON_GLOBALERROR_BACK_TO_BANK" translate-values="{ bankName: pugepc.bankName}"></proteo-ui-text></proteo-ui-button></div></div>'),a.put("/spasR50/credentialsPublic/components/global-error-page/templates/loginError-tpl.html",'<div class="row"><div class="col-xs-12"><h1>{{pugepc.title}}</h1></div></div><div id="loginError1" class="row"><div class="col-xs-12"><proteo-ui-panel class="vertical-center-min-200"><proteo-ui-panel-body class="text-center"><div><proteo-ui-text translate="{{pugepc.message}}"></proteo-ui-text></div></proteo-ui-panel-body></proteo-ui-panel></div></div><div id="loginError2" class="row sm-margin-top"></div><div id="loginError3" class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div id="loginError4" class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12 col-md-6 pull-right"><proteo-ui-button class="pull-right" ui-sref="holdinglist"><proteo-ui-text translate="COMMON_BACK_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div></div>'),a.put("/spasR50/credentialsPublic/components/global-error-page/templates/logoutError-tpl.html",'<div class="row"><div class="col-xs-12"><h1>{{pugepc.title}}</h1></div></div><div id="logoutError1" class="row"><div class="col-xs-12"><proteo-ui-panel class="vertical-center-min-200"><proteo-ui-panel-body class="text-center"><div><proteo-ui-text translate="{{pugepc.message}}"></proteo-ui-text></div></proteo-ui-panel-body></proteo-ui-panel></div></div><div id="logoutError2" class="row sm-margin-top"></div><div id="logoutError3" class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div id="logoutError4" class="row" ng-if="!pugepc.hideBackLinkButton"><div id="logoutError5" class="col-xs-12 col-sm-6"><proteo-ui-button ui-sref="login"><proteo-ui-text translate="COMMON_GLOBALERROR_LOG_BACK_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div><div id="logoutError6" class="col-xs-12 col-sm-6 pull-right"><proteo-ui-button class="pull-right"><proteo-ui-text translate-values="{ bankName: pugepc.bankName}" translate="COMMON_GLOBALERROR_BACK_TO_BANK"></proteo-ui-text></proteo-ui-button></div></div>'),a.put("/spasR50/credentialsPublic/components/global-error-page/templates/passwordAttemptsExceed-tpl.html",'<div class="row"><div class="col-xs-12"><h1 translate="COMMON_GLOBALERROR_TITLE_SP"></h1></div></div><div class="row"><div class="col-xs-12"><div><proteo-ui-text translate="COMMON_GLOBALERROR_TEXT_ERROR_GENERAL_SP"></proteo-ui-text></div></div></div><div class="row sm-margin-top"><div class="col-xs-6"><proteo-ui-link ng-click="pugepc.unlock()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="COMMON_GLOBALERROR_UNLOCK"></proteo-ui-text></proteo-ui-link></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12 col-sm-6 pull-right"><proteo-ui-button class="pull-right" ng-click="pugepc.gotoPublicTsb()"><proteo-ui-text translate-values="{ bankName: pugepc.bankName}" translate="COMMON_GLOBALERROR_BACK_TO_BANK_SP"></proteo-ui-text></proteo-ui-button></div></div>'),a.put("/spasR50/credentialsPublic/components/global-error-page/templates/scaCredentialsAttemptsExceed-tpl.html",'<div class="row"><div class="col-xs-12 sm-margin-bottom"><h1 translate="COMMON_GLOBALERROR_TITLE_LOGIN_ATTEMPTS_EXCEEDED"></h1></div></div><div class="row"><div class="col-xs-12"><div><proteo-ui-text translate="COMMON_GLOBALERROR_TEXT_CREDENTIAL_ATTEMPTS_EXCEEDED"></proteo-ui-text></div><br/><div><proteo-ui-text translate="COMMON_GLOBALERROR_TEXT_ATTEMPTS_EXCEEDED_RESET"></proteo-ui-text></div></div></div><div class="row sm-margin-top"><div class="col-xs-6 sm-margin-top"><proteo-ui-button class="pull-left" ng-click="pugepc.unlock()"><proteo-ui-text translate="COMMON_GLOBALERROR_BUTTON_RESET"></proteo-ui-text></proteo-ui-button></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12 col-sm-6 pull-right"><proteo-ui-button class="pull-right" ng-click="pugepc.gotoPublicTsb()"><proteo-ui-text translate-values="{ bankName: pugepc.bankName}" translate="COMMON_GLOBALERROR_BACK_TO_BANK_SP"></proteo-ui-text></proteo-ui-button></div></div>'),a.put("/spasR50/credentialsPublic/components/global-error-page/templates/sessionNotFound-tpl.html",'<div class="row"><div class="col-xs-12"><h1 translate="COMMON_GLOBALERROR_SESSION_ERROR_TITLE_SP"></h1></div></div><div class="row"><div class="col-xs-12"><div><proteo-ui-text translate="COMMON_GLOBALERROR_SESSION_ERROR_TEXT_SP"></proteo-ui-text></div></div></div><div class="row sm-margin-top"><div class="col-xs-6"><proteo-ui-link ng-click="pugepc.goToLogin()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="COMMON_GLOBALERROR_SESSION_ERROR_LINK_SP"></proteo-ui-text></proteo-ui-link></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12 col-sm-6 pull-right"><proteo-ui-button class="pull-right" ng-click="pugepc.gotoPublicTsb()"><proteo-ui-text translate-values="{ bankName: pugepc.bankName}" translate="COMMON_GLOBALERROR_BACK_TO_BANK_SP"></proteo-ui-text></proteo-ui-button></div></div>'),
a.put("/spasR50/credentialsPublic/components/global-error-page/templates/technicalError-tpl.html",'<div class="row md-margin-top" ng-if="pugepc.backMessage && pugepc.backLink"><div class="col-xs-12"><proteo-ui-link id="linkBack" ui-sref="{{pugepc.backLink}}"><proteo-ui-icon id="back" icon="back"></proteo-ui-icon><proteo-ui-text translate="{{pugepc.backMessage}}"></proteo-ui-text></proteo-ui-link></div><proteo-ui-thematic-break></proteo-ui-thematic-break></div><div ng-if="pugepc.title" class="row"><div class="col-xs-12"><h1 class="no-margin-top" translate="{{pugepc.title}}"></h1></div></div><div ng-if="pugepc.message" class="row"><div class="col-xs-12"><proteo-ui-text translate="{{pugepc.message}}"></proteo-ui-text></div></div><div ng-if="pugepc.technicalMessage" class="row xs-margin-top"><div class="col-xs-12"><ul><li><proteo-ui-text class="text-bold" translate="{{pugepc.technicalMessage}}"></proteo-ui-text></ul></div></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><proteo-ui-thematic-break></proteo-ui-thematic-break></div><div class="row" ng-if="!pugepc.hideBackLinkButton"><div class="col-xs-12 col-md-6 pull-right"><proteo-ui-button class="pull-right" ui-sref="{{pugepc.linkState}}"><proteo-ui-text translate="{{pugepc.linkText}}"></proteo-ui-text></proteo-ui-button></div></div>')}]),function(){"use strict";function a(a,b,c){function d(){$("#addBlockModalError").off("hide.bs.modal"),$("#addBlockModalError").modal("toggle")}function e(){$("#addBlockModalError").off("hide.bs.modal"),$("#addBlockModalError").modal("hide")}function f(){i.tryAgainCredentials(),a.cancel(!1,i.previousState,i.account)}function g(){var a=i.isBiz?"credentialsPublicBiz":"credentialsPublic";c.go(a+".enterCustomerIdData")}function h(){}var i=this;i.leave=f,i.unlock=g,i.tryAgainCredentials=e,i.openModal=d,i.previousState="statements",b.$on("openModalPanel",function(a,b){i.remainingAttempts=b.remainingAttempts,i.isBiz=b.isBiz,i.account=b.account,i.openModal()}),h()}a.$inject=["a","b","c"],a.$inject=["globalErrorCommonFactory","$scope","$state"],angular.module("App.modalErrorScaCredentials").controller("modalErrorScaCredentialsController",a)}(),angular.module("App.modalErrorScaCredentials.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/global-modal-error-sca-credentials/global-modal-error-sca-credentials-tpl.html",'<div ng-controller="modalErrorScaCredentialsController as mesc"><proteo-ui-modal modal-id="addBlockModalError" modal-size="md" modal-type="primary" data-backdrop="static" data-keyboard="false"><div class="row md-margin-top md-margin-left md-margin-right"><h2><proteo-ui-text class="text-bold" translate="COMMON_SCA_INVALID_AUTHENTICATION_MODAL_TITLE"></proteo-ui-text></h2></div><proteo-ui-modal-body><div class="md-margin-bottom" ng-if="mesc.remainingAttempts > 0 && mesc.remainingAttempts < 4"><proteo-ui-text class="text-red" translate="COMMON_SCA_INVALID_AUTHENTICATION_ATTEMPTS_TEXT" translate-values="{remainingAttempts: mesc.remainingAttempts}"></proteo-ui-text></div><div class="md-margin-top"><proteo-ui-text translate="COMMON_SCA_INVALID_AUTHENTICATION_MODAL_TEXT1"></proteo-ui-text></div><div class="md-margin-top md-margin-bottom"><ul class="unordered-list md-padding-left"><li class="list-element"><proteo-ui-text translate="COMMON_SCA_INVALID_AUTHENTICATION_MODAL_TEXT2"></proteo-ui-text><li class="list-element"><proteo-ui-text translate="COMMON_SCA_INVALID_AUTHENTICATION_MODAL_TEXT4"></proteo-ui-text><proteo-ui-link ng-click="mesc.unlock()"><proteo-ui-text translate="COMMON_SCA_INVALID_AUTHENTICATION_MODAL_TEXT5"></proteo-ui-text></proteo-ui-link><proteo-ui-text translate="COMMON_SCA_INVALID_AUTHENTICATION_MODAL_TEXT6"></proteo-ui-text><li class="list-element"><proteo-ui-text translate="COMMON_SCA_INVALID_AUTHENTICATION_MODAL_TEXT3"></proteo-ui-text></ul><div class="md-margin-top"><proteo-ui-text translate="COMMON_SCA_INVALID_AUTHENTICATION_MODAL_TEXT7"></proteo-ui-text></div></div></proteo-ui-modal-body><proteo-ui-modal-footer><proteo-ui-modal-call-back><div class="row"><proteo-ui-button class="center-block" ng-click="mesc.tryAgainCredentials()"><proteo-ui-text translate="COMMON_SCA_INVALID_AUTHENTICATION_MODAL_TRYAGAIN"></proteo-ui-text></proteo-ui-button></div></proteo-ui-modal-call-back></proteo-ui-modal-footer></proteo-ui-modal></div>')}]),function(){"use strict";function a(a,b){function c(){var a="",c={previousState:b.previous.name,accountNumber:f.payment.account.accountNumber,sortCode:f.payment.account.sortCode,businessname:f.payment.businessName,typeName:f.payment.account.type.name};switch(b.previous.name){case"confirmPaymentDetails":case"confirmMultiplePayments":case"paymentProgressScreen":a="multiplePayments.makeMultiplePayments";break;case"confirmStandingOrder":a="standingOrderSbbi.setUpStandingOrderSbbi";break;case"amendPendingPaymentConfirmationSbbi":a="pendingFuturePaymentsSbbi.amendPendingPaymentSbbi";break;case"makeTransferUnder.makeTransferConfirmation":a="makeTransferUnder",c={};break;case"paymentConfirmationBiz":c.tabState="payments",c.subTabState="internationalpaymentstab",c.statusName=f.payment.account.status.name,a="statementsBiz.statementsBiz"}b.go(a,c)}function d(){b.go("approveMpaPaymentsBiz.paymentApprovalAndHistory",{bussinessId:f.payment.businessName})}function e(){var e=["confirmPaymentDetails","makeTransferUnder.makeTransferConfirmation","amendPendingPaymentConfirmationSbbi","paymentProgressScreen","paymentConfirmationBiz"];f.payment=a.payment,f.reasonFailed=a.exception?a.exception:null,angular.isDefined(b.previous)&&-1!==e.indexOf(b.previous.name)?(angular.isDefined(f.reasonFailed)&&null!=f.reasonFailed&&angular.isDefined(f.reasonFailed.code)&&"65269"===f.reasonFailed.code?f.titleKey="GLOBALERROR_PAYMENT_FAILED_REJECTED_TITLE_PAYMENT_DUPLICATED":f.titleKey="GLOBALERROR_PAYMENT_FAILED_REJECTED_TITLE_PAYMENT",f.anotherLinkText="GLOBALERROR_PAYMENT_FAILED_REJECTED_MAKE_ANOTHER_OPERATION"):(angular.isDefined(f.payment.beneficiary.type)&&angular.isDefined(f.payment.beneficiary.type.name)&&"SA"===f.payment.beneficiary.type.name?f.titleKey="GLOBALERROR_PAYMENT_FAILED_REJECTED_TITLE_STANDING_ORDER_MONTHY_SAVER":f.titleKey="GLOBALERROR_PAYMENT_FAILED_REJECTED_TITLE_STANDING_ORDER",f.anotherLinkText="GLOBALERROR_PAYMENT_FAILED_REJECTED_MAKE_ANOTHER_STANDING_ORDER"),f.goToMakeAnotherPayment=c,f.goToPaymentApproval=d}var f=this;e()}a.$inject=["a","b"],a.$inject=["$stateParams","$state"],angular.module("App.paymentFailedRejectedBiz").controller("paymentFailedRejectedBizController",a)}(),function(){"use strict";function a(a){a.state("paymentFailedRejectedBiz",{url:"/paymentFailedRejectedBiz",controller:"paymentFailedRejectedBizController as pfr",templateUrl:"/spasR50/credentialsPublic/components/payment-failed-rejected-biz/payment-failed-rejected-biz-tpl.html",params:{payment:null,exception:null}})}a.$inject=["a"],a.$inject=["$stateProvider"],angular.module("App.paymentFailedRejectedBiz").config(a)}(),angular.module("App.paymentFailedRejectedBiz.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/payment-failed-rejected-biz/payment-failed-rejected-biz-tpl.html",'<!DOCTYPE html><div id="payFailRejectBiz1" class="row md-margin-top"><div class="col-xs-12"><proteo-ui-link ng-click="cancel(true)"><proteo-ui-icon icon="back"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-link></div><proteo-ui-thematic-break></proteo-ui-thematic-break></div><div id="payFailRejectBiz2" class="row"><div id="payFailRejectBiz3" class="col-xs-12"><h1 class="no-margin-top" translate="{{pfr.titleKey}}"></h1><proteo-ui-text paragraph="true"><proteo-ui-text id="payFailRejectBizText1" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_SORRY_OPERATION_FAILED"></proteo-ui-text><proteo-ui-text id="payFailRejectBizText2" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_SORRY_OPERATION_FAILED_2" translate-values="{payment:pfr.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="payFailRejectBizText3" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_SORRY_OPERATION_FAILED_3"></proteo-ui-text><proteo-ui-text id="payFailRejectBizText4" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_SORRY_OPERATION_FAILED_4" translate-values="{payment:pfr.payment}" class="text-bold"></proteo-ui-text></proteo-ui-text><proteo-ui-text id="payFailRejectBizText5" paragraph="true" ng-if="pfr.reasonFailed !== null" ng-bind="pfr.reasonFailed.description | ParseUnicodeChar"></proteo-ui-text><proteo-ui-text id="payFailRejectBizText6" paragraph="true" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_FOR_MORE_INFORMATION"></proteo-ui-text></div><div id="payFailRejectBiz4" class="col-xs-12 lg-margin-top"><proteo-ui-link class="text-bold" ng-click="pfr.goToMakeAnotherPayment()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="{{pfr.anotherLinkText}}" translate-values="{account: pfr.payment.account}"></proteo-ui-text></proteo-ui-link></div><div id="payFailRejectBiz5" class="col-xs-12 sm-margin-top"><proteo-ui-link ng-click="pfr.goToPaymentApproval()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_COMMON_SEE_ALL_PAYMENTS" translate-values="{businessName: pfr.payment.businessName}"></proteo-ui-text></proteo-ui-link></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div id="payFailRejectBiz6" class="col-xs-12 text-right"><proteo-ui-button ng-click="cancel(true)"><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div></div>')}]),function(){"use strict";function a(a,b){return function(a){var b=/\\u([\d\w]{4})/gi;return a.replace(b,function(a,b){return String.fromCharCode(parseInt(b,16))})}}a.$inject=["a","b"],a.$inject=["$filter","$sce"],angular.module("App.paymentFailedRejectedBiz").filter("ParseUnicodeChar",a)}(),function(){"use strict";function a(a,b){function c(){var c="",e={};if(angular.isDefined(b.previous)){if(angular.isDefined(a.options)&&null!=a.options)return void d(a.options);switch(b.previous.name){case"confirmPaymentDetails":case"paymentProgressScreen":e.payment=f.payment,c=angular.isDefined(a.payment.beneficiary.cardNumber)?"makeCreditCardPayment":"makePayment";break;case"paymentConfirmation":e.tabState="payments",e.subTabState="internationalpaymentstab",e.accountNumber=f.payment.account.accountNumber,e.sortCode=f.payment.account.sortCode,e.typeName=f.payment.account.type.name,e.statusName=f.payment.account.status.name,c="statements.statements";break;case"confirmP2pPaymentDetails":c="makeP2pPayment",e.accountNumber=f.payment.account.accountNumber,e.sortCode=f.payment.account.sortCode;break;case"makeTransfer.makeTransferConfirmation":c="makeTransfer",e={};break;default:c="setUpStandingOrder",e.accountNumber=f.payment.account.accountNumber,e.sortCode=f.payment.account.sortCode}}else c="setUpStandingOrder",e.accountNumber=f.payment.account.accountNumber,e.sortCode=f.payment.account.sortCode;b.go(c,e)}function d(a){angular.isDefined(a.state)&&b.go(a.state,a.params)}function e(){var d=["confirmPaymentDetails","confirmP2pPaymentDetails","makeTransfer.makeTransferConfirmation","paymentProgressScreen","delayedTransactions","paymentConfirmation"];f.payment=a.payment,f.reasonFailed=a.exception?a.exception:null,f.isASAPPayment=!1,angular.isDefined(b.previous)&&-1!==d.indexOf(b.previous.name)?(angular.isDefined(f.reasonFailed)&&null!=f.reasonFailed&&angular.isDefined(f.reasonFailed.code)&&"65269"===f.reasonFailed.code?f.titleKey="GLOBALERROR_PAYMENT_FAILED_REJECTED_TITLE_PAYMENT_DUPLICATED":f.titleKey="GLOBALERROR_PAYMENT_FAILED_REJECTED_TITLE_PAYMENT",f.anotherLinkText="GLOBALERROR_PAYMENT_FAILED_REJECTED_MAKE_ANOTHER_OPERATION",angular.isDefined(f.payment.dateOption)&&"0"===f.payment.dateOption&&(f.isASAPPayment=!0)):(angular.isDefined(f.payment.beneficiary.type)&&angular.isDefined(f.payment.beneficiary.type.name)&&"SA"===f.payment.beneficiary.type.name?f.titleKey="GLOBALERROR_PAYMENT_FAILED_REJECTED_TITLE_STANDING_ORDER_MONTHY_SAVER":f.titleKey="GLOBALERROR_PAYMENT_FAILED_REJECTED_TITLE_STANDING_ORDER",f.anotherLinkText="GLOBALERROR_PAYMENT_FAILED_REJECTED_MAKE_ANOTHER_STANDING_ORDER"),f.goToMakeAnotherPayment=c}var f=this;e()}a.$inject=["a","b"],a.$inject=["$stateParams","$state"],angular.module("App.paymentFailedRejected").controller("paymentFailedRejectedController",a)}(),function(){"use strict";function a(a){a.state("paymentFailedRejected",{url:"/paymentFailedRejected",templateUrl:"/spasR50/credentialsPublic/components/payment-failed-rejected/payment-failed-rejected-tpl.html",controller:"paymentFailedRejectedController as pfr",params:{payment:null,exception:null,options:null}})}a.$inject=["a"],a.$inject=["$stateProvider"],angular.module("App.paymentFailedRejected").config(a)}(),angular.module("App.paymentFailedRejected.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/payment-failed-rejected/payment-failed-rejected-tpl.html",'<!DOCTYPE html><div id="payFailRejectRet1" class="row md-margin-top"><div class="col-xs-12"><proteo-ui-link ng-click="cancel(false)"><proteo-ui-icon icon="back"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-link></div><proteo-ui-thematic-break></proteo-ui-thematic-break></div><div id="payFailRejectRet2" class="row"><div id="payFailRejectRet3" class="col-xs-12"><h1 class="no-margin-top" translate="{{pfr.titleKey}}"></h1><proteo-ui-text id="payFailRejectRetText1" paragraph="true" ng-if="pfr.isASAPPayment" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_SORRY_OPERATION_FAILED_1"></proteo-ui-text><proteo-ui-text paragraph="true"><proteo-ui-text id="payFailRejectRetText2" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_SORRY_OPERATION_FAILED"></proteo-ui-text>&nbsp;<proteo-ui-text id="payFailRejectRetText3" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_SORRY_OPERATION_FAILED_2" translate-values="{payment:pfr.payment}" class="text-bold"></proteo-ui-text>&nbsp;<proteo-ui-text id="payFailRejectRetText4" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_SORRY_OPERATION_FAILED_3"></proteo-ui-text>&nbsp;<proteo-ui-text id="payFailRejectRetText5" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_SORRY_OPERATION_FAILED_4" translate-values="{payment:pfr.payment}" class="text-bold"></proteo-ui-text></proteo-ui-text><proteo-ui-text id="payFailRejectRetText6" paragraph="true" ng-if="pfr.reasonFailed !== null && pfr.reasonFailed.code !==\'7007\'" ng-bind="pfr.reasonFailed.description | ParseUnicodeChar"></proteo-ui-text><proteo-ui-text paragraph="true" ng-if="pfr.reasonFailed !== null && pfr.reasonFailed.code==\'7007\'" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_FOR_RECENT_TRANSACTION"></proteo-ui-text><proteo-ui-text id="payFailRejectRetText7" paragraph="true" translate="GLOBALERROR_PAYMENT_FAILED_REJECTED_FOR_MORE_INFORMATION"></proteo-ui-text></div><div id="payFailRejectRet4" class="col-xs-12 lg-margin-top"><proteo-ui-link class="text-bold" ng-click="pfr.goToMakeAnotherPayment()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="{{pfr.anotherLinkText}}" translate-values="{account: pfr.payment.account}"></proteo-ui-text></proteo-ui-link></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div id="payFailRejectRet5" class="col-xs-12 text-right"><proteo-ui-button ng-click="cancel(false)"><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div></div>')}]),function(){"use strict";function a(a,b){return function(a){var b=/\\u([\d\w]{4})/gi;return a.replace(b,function(a,b){return String.fromCharCode(parseInt(b,16))})}}a.$inject=["a","b"],a.$inject=["$filter","$sce"],angular.module("App.paymentFailedRejected").filter("ParseUnicodeChar",a)}(),function(){"use strict";!function(){function a(a,b){function c(){d.payment=a.payment,d.titleKey="GLOBALERROR_PROGRESS_SCREEN_LOADING_PAYMENT"}var d=this;c()}a.$inject=["a","b"],a.$inject=["$stateParams","$state","$scope"],angular.module("App.paymentProgressScreen").controller("paymentProgressScreenController",a)}()}(),function(){"use strict";function a(a,b){function c(b,c,d,e){var f="paymentProgressScreen";a.go(f)}var d={show:c};return d}a.$inject=["a","b"],a.$inject=["$state","$location"],angular.module("App.paymentProgressScreen").factory("paymentProgressScreenFactory",a)}(),function(){"use strict";function a(a){a.state("paymentProgressScreen",{url:"/paymentProgressScreen",controller:"paymentProgressScreenController as psdp",templateUrl:"/spasR50/credentialsPublic/components/payment-progress-screen/payment-progress-screen-tpl.html"})}a.$inject=["a"],a.$inject=["$stateProvider"],angular.module("App.paymentProgressScreen").config(a)}(),angular.module("App.paymentProgressScreen.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/payment-progress-screen/payment-progress-screen-tpl.html",'<!DOCTYPE html><div class="row progressContainer"><div class="row col-xs-12" style="text-align: center"><div class="col-xs-12"><img height="50px" width="50px" src="../..//spas/credentialsPublic/styles/images/00f873b8.4f597cf8.loading.gif"></div><div class="row"><div class="col-xs-12"><h2 class="no-margin-top" translate="{{psdp.titleKey}}"></h2></div></div><div class="row"><div class="col-xs-12"><proteo-ui-text class="text-bold" translate="GLOBALERROR_PROGRESS_SCREEN_LOADING"></proteo-ui-text></div></div></div></div>')}]),function(){"use strict";function a(a,b){function c(){var c=["confirmPaymentDetails","makeTransferUnder.makeTransferConfirmation","amendPendingPaymentConfirmationSbbi","paymentProgressScreen","paymentConfirmationBiz"];d.payment=a.payment,angular.isDefined(d.payment.beneficiary)&&!angular.isDefined(d.payment.beneficiary.reference)&&(d.payment.beneficiary.reference=null),angular.isDefined(b.previous)&&-1!==c.indexOf(b.previous.name)?(d.paragraph1Key="GLOBALERROR_PAYMENT_DECLINED_PAYMENT_SORRY_YOUR_OPERATION_DECLINED","paymentConfirmationBiz"===b.previous.name?d.titleKey="GLOBALERROR_PAYMENT_DECLINED_TITLE_INTERNATIONAL_PAYMENT":d.titleKey="GLOBALERROR_PAYMENT_DECLINED_TITLE_PAYMENT"):(d.paragraph1Key="GLOBALERROR_PAYMENT_DECLINED_STANDING_ORDER_SORRY_YOUR_OPERATION_DECLINED",d.titleKey="GLOBALERROR_PAYMENT_DECLINED_TITLE_STANDING_ORDER")}var d=this;c()}a.$inject=["a","b"],a.$inject=["$stateParams","$state"],angular.module("App.paymentStandingOrderDeclinedBiz").controller("paymentStandingOrderDeclinedBizController",a)}(),function(){"use strict";function a(a){a.state("paymentStandingOrderDeclinedBiz",{url:"/paymentStandingOrderDeclinedBiz",controller:"paymentStandingOrderDeclinedBizController as psod",templateUrl:"/spasR50/credentialsPublic/components/payment-standing-order-declined-biz/payment-standing-order-declined-biz-tpl.html",params:{payment:null}})}a.$inject=["a"],a.$inject=["$stateProvider"],angular.module("App.paymentStandingOrderDeclinedBiz").config(a)}(),angular.module("App.paymentStandingOrderDeclinedBiz.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/payment-standing-order-declined-biz/payment-standing-order-declined-biz-tpl.html",'<!DOCTYPE html><div id="payStoDecBiz1" class="row"><div id="payStoDecBiz2" class="col-xs-12"><h1 class="no-margin-top" translate="{{psod.titleKey}}"></h1><proteo-ui-text paragraph="true" class="md-margin-top md-margin-bottom"><proteo-ui-text id="payStoDecBizText1" translate="{{psod.paragraph1Key}}"></proteo-ui-text><proteo-ui-text id="payStoDecBizText2" translate="GLOBALERROR_PAYMENT_DECLINED_SORRY_YOUR_OPERATION_DECLINED2" translate-values="{payment:psod.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoDecBizText3" translate="GLOBALERROR_PAYMENT_DECLINED_SORRY_YOUR_OPERATION_DECLINED3"></proteo-ui-text><proteo-ui-text id="payStoDecBizText4" translate="GLOBALERROR_PAYMENT_DECLINED_SORRY_YOUR_OPERATION_DECLINED4" translate-values="{payment:psod.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoDecBizText5" translate="GLOBALERROR_PAYMENT_DECLINED_SORRY_YOUR_OPERATION_DECLINED5"></proteo-ui-text></proteo-ui-text></div></div><div id="payStoDecBiz3" class="row"><div id="payStoDecBiz4" class="col-xs-12"><ul class="unordered-list no-margin-bottom lg-padding-left"><li class="list-element"><proteo-ui-text id="payStoDecBizText6" translate="GLOBALERROR_PAYMENT_DECLINED_LIST1"></proteo-ui-text><li class="list-element"><proteo-ui-text id="payStoDecBizText7" translate="GLOBALERROR_PAYMENT_DECLINED_LIST2"></proteo-ui-text><li class="list-element"><proteo-ui-text id="payStoDecBizText8" translate="GLOBALERROR_PAYMENT_DECLINED_LIST3"></proteo-ui-text><proteo-ui-text id="payStoDecBizText9" translate="GLOBALERROR_PAYMENT_DECLINED_LIST4" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoDecBizText10" translate="GLOBALERROR_PAYMENT_DECLINED_LIST5"></proteo-ui-text><proteo-ui-text id="payStoDecBizText11" translate="GLOBALERROR_PAYMENT_DECLINED_LIST6" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoDecBizText12" translate="GLOBALERROR_PAYMENT_DECLINED_LIST7"></proteo-ui-text></ul></div></div><div id="payStoDecBiz5" class="row"><proteo-ui-thematic-break></proteo-ui-thematic-break><div id="payStoDecBiz6" class="col-xs-12"><proteo-ui-text class="text-bold" translate="GLOBALERROR_COMMON_TAKE_JOB_PROTECTING_CUSTOMERS"></proteo-ui-text></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div id="payStoDecBiz7" class="col-xs-12"><proteo-ui-link ng-click="backToHome()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_PAYMENT_DECLINED_RETURN_TSB"></proteo-ui-text></proteo-ui-link></div></div>')}]),function(){"use strict";function a(a,b){function c(){var c=["confirmPaymentDetails","confirmP2pPaymentDetails","makeTransfer.makeTransferConfirmation","paymentProgressScreen","confirmUpdatePendingPayments","paymentConfirmation"];d.payment=a.payment,angular.isDefined(d.payment.beneficiary)&&!angular.isDefined(d.payment.beneficiary.reference)&&(d.payment.beneficiary.reference=null),angular.isDefined(b.previous)&&-1!==c.indexOf(b.previous.name)?("paymentConfirmation"===b.previous.name?d.titleKey="GLOBALERROR_PAYMENT_DECLINED_TITLE_INTERNATIONAL_PAYMENT":d.titleKey="GLOBALERROR_PAYMENT_DECLINED_TITLE_PAYMENT",d.paragraph1Key="GLOBALERROR_PAYMENT_DECLINED_PAYMENT_SORRY_YOUR_OPERATION_DECLINED"):(d.titleKey="GLOBALERROR_PAYMENT_DECLINED_TITLE_STANDING_ORDER",d.paragraph1Key="GLOBALERROR_PAYMENT_DECLINED_STANDING_ORDER_SORRY_YOUR_OPERATION_DECLINED")}var d=this;c()}a.$inject=["a","b"],a.$inject=["$stateParams","$state"],angular.module("App.paymentStandingOrderDeclined").controller("paymentStandingOrderDeclinedController",a)}(),function(){"use strict";function a(a){a.state("paymentStandingOrderDeclined",{url:"/paymentStandingOrderDeclined",templateUrl:"/spasR50/credentialsPublic/components/payment-standing-order-declined/payment-standing-order-declined-tpl.html",controller:"paymentStandingOrderDeclinedController as psod",params:{payment:null}})}a.$inject=["a"],a.$inject=["$stateProvider"],angular.module("App.paymentStandingOrderDeclined").config(a)}(),angular.module("App.paymentStandingOrderDeclined.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/payment-standing-order-declined/payment-standing-order-declined-tpl.html",'<!DOCTYPE html><div id="payStoDecRet1" class="row md-margin-top"><div id="payStoDecRet2" class="col-xs-12"><h1 class="no-margin-top" translate="{{psod.titleKey}}"></h1><proteo-ui-text paragraph="true" class="md-margin-top md-margin-bottom"><proteo-ui-text id="payStoDecRetText1" translate="{{psod.paragraph1Key}}"></proteo-ui-text><proteo-ui-text id="payStoDecRetText2" translate="GLOBALERROR_PAYMENT_DECLINED_SORRY_YOUR_OPERATION_DECLINED2" translate-values="{payment:psod.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoDecRetText3" translate="GLOBALERROR_PAYMENT_DECLINED_SORRY_YOUR_OPERATION_DECLINED3"></proteo-ui-text><proteo-ui-text id="payStoDecRetText4" translate="GLOBALERROR_PAYMENT_DECLINED_SORRY_YOUR_OPERATION_DECLINED4" translate-values="{payment:psod.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text translate="GLOBALERROR_PAYMENT_DECLINED_SORRY_YOUR_OPERATION_DECLINED5"></proteo-ui-text></proteo-ui-text></div></div><div id="payStoDecRet3" class="row"><div id="payStoDecRet4" class="col-xs-12"><ul class="unordered-list no-margin-bottom lg-padding-left"><li class="list-element"><proteo-ui-text id="payStoDecRetText5" translate="GLOBALERROR_PAYMENT_DECLINED_LIST1"></proteo-ui-text><li class="list-element"><proteo-ui-text id="payStoDecRetText6" translate="GLOBALERROR_PAYMENT_DECLINED_LIST2"></proteo-ui-text><li class="list-element"><proteo-ui-text id="payStoDecRetText7" translate="GLOBALERROR_PAYMENT_DECLINED_LIST3"></proteo-ui-text><proteo-ui-text id="payStoDecRetText8" translate="GLOBALERROR_PAYMENT_DECLINED_LIST4" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoDecRetText9" translate="GLOBALERROR_PAYMENT_DECLINED_LIST5"></proteo-ui-text><proteo-ui-text id="payStoDecRetText10" translate="GLOBALERROR_PAYMENT_DECLINED_LIST6" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoDecRetText11" translate="GLOBALERROR_PAYMENT_DECLINED_LIST7"></proteo-ui-text></ul></div></div><div id="payStoDecRet5" class="row"><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-xs-12"><proteo-ui-text class="text-bold" translate="GLOBALERROR_COMMON_TAKE_JOB_PROTECTING_CUSTOMERS"></proteo-ui-text></div></div><div id="payStoDecRet6" class="row"><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-xs-12"><proteo-ui-link ng-click="backToHome()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_PAYMENT_DECLINED_RETURN_TSB"></proteo-ui-text></proteo-ui-link></div></div>')}]),function(){"use strict";function a(a,b){function c(){b.go("approveMpaPaymentsBiz.paymentApprovalAndHistory",{bussinessId:e.payment.businessName})}function d(){var d=["confirmPaymentDetails","makeTransferUnder.makeTransferConfirmation","amendPendingPaymentConfirmationSbbi","paymentProgressScreen","paymentConfirmationBiz"];e.reasonFailed=a.exception?a.exception:null,e.payment=a.payment,angular.isDefined(e.payment.beneficiary)&&!angular.isDefined(e.payment.beneficiary.reference)&&(e.payment.beneficiary.reference=null),angular.isDefined(b.previous)&&-1!==d.indexOf(b.previous.name)?(e.paragraph1Key="GLOBALERROR_PAYMENT_UNDER_REVIEW_PAYMENT_SORRY_REVIEWING_OPERATION","paymentConfirmationBiz"===b.previous.name?e.titleKey="GLOBALERROR_PAYMENT_UNDER_REVIEW_TITLE_INTERNATIONAL_PAYMENT":e.titleKey="GLOBALERROR_PAYMENT_UNDER_REVIEW_TITLE_PAYMENT"):(e.paragraph1Key="GLOBALERROR_PAYMENT_UNDER_REVIEW_STANDING_ORDER_SORRY_REVIEWING_OPERATION",e.titleKey="GLOBALERROR_PAYMENT_UNDER_REVIEW_TITLE_STANDING_ORDER"),e.goToPaymentApproval=c}var e=this;d()}a.$inject=["a","b"],a.$inject=["$stateParams","$state"],angular.module("App.paymentStandingOrderUnderReviewBiz").controller("paymentStandingOrderUnderReviewBizController",a)}(),function(){"use strict";function a(a){a.state("paymentStandingOrderUnderReviewBiz",{url:"/paymentStandingOrderUnderReviewBiz",controller:"paymentStandingOrderUnderReviewBizController as psour",templateUrl:"/spasR50/credentialsPublic/components/payment-standing-order-under-review-biz/payment-standing-order-under-review-biz-tpl.html",params:{payment:null,exception:null}})}a.$inject=["a"],a.$inject=["$stateProvider"],angular.module("App.paymentStandingOrderUnderReviewBiz").config(a)}(),angular.module("App.paymentStandingOrderUnderReviewBiz.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/payment-standing-order-under-review-biz/payment-standing-order-under-review-biz-tpl.html",'<!DOCTYPE html><div id="payStoUnderRevBiz1" class="row md-margin-top"><div class="col-xs-12"><proteo-ui-link ng-click="cancel(true)"><proteo-ui-icon icon="back"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-link></div><proteo-ui-thematic-break></proteo-ui-thematic-break></div><div id="payStoUnderRevBiz2" class="row"><div id="payStoUnderRevBiz3" class="col-xs-12"><h1 class="no-margin-top" translate="{{psour.titleKey}}"></h1><proteo-ui-text paragraph="true"><proteo-ui-text id="payStoUnderRevBizText1" translate="{{psour.paragraph1Key}}"></proteo-ui-text><proteo-ui-text id="payStoUnderRevBizText2" translate="GLOBALERROR_PAYMENT_UNDER_REVIEW_SORRY_REVIEWING_OPERATION2" translate-values="{payment:psour.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoUnderRevBizText3" translate="GLOBALERROR_PAYMENT_UNDER_REVIEW_SORRY_REVIEWING_OPERATION3"></proteo-ui-text><proteo-ui-text id="payStoUnderRevBizText4" translate="GLOBALERROR_PAYMENT_UNDER_REVIEW_SORRY_REVIEWING_OPERATION4" translate-values="{payment:psour.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoUnderRevBizText5" translate="GLOBALERROR_PAYMENT_UNDER_REVIEW_SORRY_REVIEWING_OPERATION5"></proteo-ui-text></proteo-ui-text></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div id="payStoUnderRevBiz4" class="col-xs-12"><proteo-ui-text paragraph="true" class="text-bold" translate="GLOBALERROR_COMMON_TAKE_JOB_PROTECTING_CUSTOMERS"></proteo-ui-text><proteo-ui-link ng-click="psour.goToPaymentApproval()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_COMMON_SEE_ALL_PAYMENTS" translate-values="{businessName: psour.payment.businessName}"></proteo-ui-text></proteo-ui-link></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div id="payStoUnderRevBiz5" class="col-xs-12 text-right"><proteo-ui-button ng-click="cancel(true)"><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div></div>')}]),function(){"use strict";function a(a,b){function c(){var c=["confirmPaymentDetails","confirmP2pPaymentDetails","makeTransfer.makeTransferConfirmation","paymentProgressScreen","confirmUpdatePendingPayments","paymentConfirmation"];d.payment=a.payment,angular.isDefined(d.payment.beneficiary)&&!angular.isDefined(d.payment.beneficiary.reference)&&(d.payment.beneficiary.reference=null),angular.isDefined(b.previous)&&-1!==c.indexOf(b.previous.name)?("paymentConfirmation"===b.previous.name?d.titleKey="GLOBALERROR_PAYMENT_UNDER_REVIEW_TITLE_INTERNATIONAL_PAYMENT":d.titleKey="GLOBALERROR_PAYMENT_UNDER_REVIEW_TITLE_PAYMENT",d.paragraph1Key="GLOBALERROR_PAYMENT_UNDER_REVIEW_PAYMENT_SORRY_REVIEWING_OPERATION"):(d.titleKey="GLOBALERROR_PAYMENT_UNDER_REVIEW_TITLE_STANDING_ORDER",d.paragraph1Key="GLOBALERROR_PAYMENT_UNDER_REVIEW_STANDING_ORDER_SORRY_REVIEWING_OPERATION")}var d=this;c()}a.$inject=["a","b"],a.$inject=["$stateParams","$state"],angular.module("App.paymentStandingOrderUnderReview").controller("paymentStandingOrderUnderReviewController",a)}(),function(){"use strict";function a(a){a.state("paymentStandingOrderUnderReview",{url:"/paymentStandingOrderUnderReview",templateUrl:"/spasR50/credentialsPublic/components/payment-standing-order-under-review/payment-standing-order-under-review-tpl.html",controller:"paymentStandingOrderUnderReviewController as psour",params:{payment:null,exception:null}})}a.$inject=["a"],a.$inject=["$stateProvider"],angular.module("App.paymentStandingOrderUnderReview").config(a)}(),angular.module("App.paymentStandingOrderUnderReview.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/payment-standing-order-under-review/payment-standing-order-under-review-tpl.html",'<!DOCTYPE html><div id="payStoUnderRevRet1" class="row md-margin-top"><div class="col-xs-12"><proteo-ui-link ng-click="cancel(false)"><proteo-ui-icon icon="back"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-link></div><proteo-ui-thematic-break></proteo-ui-thematic-break></div><div id="payStoUnderRevRet2" class="row"><div id="payStoUnderRevRet3" class="col-xs-12"><h1 class="no-margin-top" translate="{{psour.titleKey}}"></h1><proteo-ui-text paragraph="true"><proteo-ui-text id="payStoUnderRevRetText1" translate="{{psour.paragraph1Key}}"></proteo-ui-text><proteo-ui-text id="payStoUnderRevRetText2" translate="GLOBALERROR_PAYMENT_UNDER_REVIEW_SORRY_REVIEWING_OPERATION2" translate-values="{payment:psour.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoUnderRevRetText3" translate="GLOBALERROR_PAYMENT_UNDER_REVIEW_SORRY_REVIEWING_OPERATION3"></proteo-ui-text><proteo-ui-text id="payStoUnderRevRetText4" translate="GLOBALERROR_PAYMENT_UNDER_REVIEW_SORRY_REVIEWING_OPERATION4" translate-values="{payment:psour.payment}" class="text-bold"></proteo-ui-text><proteo-ui-text id="payStoUnderRevRetText5" translate="GLOBALERROR_PAYMENT_UNDER_REVIEW_SORRY_REVIEWING_OPERATION5"></proteo-ui-text></proteo-ui-text></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div id="payStoUnderRevRet4" class="col-xs-12"><proteo-ui-text class="text-bold" translate="GLOBALERROR_COMMON_TAKE_JOB_PROTECTING_CUSTOMERS"></proteo-ui-text></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div id="payStoUnderRevRet5" class="col-xs-12 text-right"><proteo-ui-button ng-click="cancel(false)"><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div></div>');
}]),function(){"use strict";!function(){function a(a,b){function c(){var a={};angular.isDefined(g.payment.businessId)&&(a.businessId=g.payment.businessId),angular.isDefined(g.payment.businessName)&&(a.businessName=g.payment.businessName),b.go("approveMpaPaymentsBiz.paymentApprovalAndHistory",a)}function d(){var a="",c={};if(angular.isDefined(b.previous)){switch(b.previous.name){case"confirmPaymentDetails":case"amendPendingPaymentConfirmationSbbi":case"confirmMultiplePayments":a="multiplePayments.makeMultiplePayments",c.accountNumber=g.payment.account.accountNumber,c.sortCode=g.payment.account.sortCode,c.businessname=g.payment.businessName;break;case"makeTransferUnder.makeTransferConfirmation":a="transfersSbbi.makeTransferUnder",c.sortCode=g.payment.account.sortCode,c.accountNumber=g.payment.account.accountNumber,c.businessId=g.payment.businessName;break;case"standingOrderConfirmationSbbi":case"confirmStandingOrderSbbi":a="standingOrderSbbi.setUpStandingOrderSbbi",c.sortCode=g.payment.account.sortCode,c.accountNumber=g.payment.account.accountNumber;break;default:a="statementsBiz.statementsBiz",c.tabState="payments",c.sortCode=g.payment.account.sortCode,c.accountNumber=g.payment.account.accountNumber,c.typeName=g.payment.account.type.name,c.statusName=g.payment.account.status.name}c.previousState="holdingListBiz.holdingListBiz",b.go(a,c)}}function e(){b.go("statementsBiz.statementsBiz",{accountNumber:g.payment.account.accountNumber,sortCode:g.payment.account.sortCode,typeName:g.payment.account.type.name,statusName:g.payment.account.status.name})}function f(){g.payment=angular.isArray(a.payments)&&a.payments.length>0?a.payments[0]:{},!angular.isDefined(b.previous)||"confirmPaymentDetails"!==b.previous.name&&"amendPendingPaymentConfirmationSbbi"!==b.previous.name?angular.isDefined(b.previous)&&"confirmMultiplePayments"===b.previous.name?(g.titleKey="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_MULTIPLE_PAYMENTS_TITLE",g.anotherLinkText="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_ANOTHER_PAYMENT"):angular.isDefined(b.previous)&&"makeTransferUnder.makeTransferConfirmation"===b.previous.name?(g.titleKey="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_TRANSFER_TITLE",g.successMsgKey="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_TRANSFER_SUCCESS_TEXT",g.anotherLinkText="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_ANOTHER_TRANSFER_TITLE"):!angular.isDefined(b.previous)||"standingOrderConfirmationSbbi"!==b.previous.name&&"confirmStandingOrderSbbi"!==b.previous.name?(g.titleKey="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_INTERNATIONAL_PAYMENT_TITLE",g.successMsgKey="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_INTERNATIONAL_PAYMENT_SUCCESS_TEXT",g.anotherLinkText="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_ANOTHER_INTERNATIONAL_PAYMENT_TITLE"):(g.titleKey="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_STANDING_ORDER_TITLE",g.successMsgKey="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_STANDING_ORDER_SUCCESS_TEXT",g.anotherLinkText="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_ANOTHER_STANDING_ORDER_TITLE"):(g.titleKey="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_PAYMENT_TITLE",g.successMsgKey="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_PAYMENT_SUCCESS_TEXT",g.anotherLinkText="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_ANOTHER_PAYMENT"),g.goToPaymentApprovalHistory=c,g.goToMakeAnotherPayment=d,g.goToAccountDetails=e}var g=this;f()}a.$inject=["a","b"],a.$inject=["$stateParams","$state"],angular.module("App.paymentSubmittedForApprovalBiz").controller("paymentSubmittedForApprovalBizController",a)}()}(),function(){"use strict";function a(a){a.state("paymentSubmittedForApprovalBiz",{url:"/paymentSubmittedForApprovalBiz",controller:"paymentSubmittedForApprovalBizController as psfa",templateUrl:"/spasR50/credentialsPublic/components/payment-submitted-for-approval-biz/payment-submitted-for-approval-biz-tpl.html",params:{previousState:null,payments:[]}})}a.$inject=["a"],a.$inject=["$stateProvider"],angular.module("App.paymentSubmittedForApprovalBiz").config(a)}(),angular.module("App.paymentSubmittedForApprovalBiz.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/payment-submitted-for-approval-biz/payment-submitted-for-approval-biz-tpl.html",'<!DOCTYPE html><div class="row md-margin-top"><div class="col-xs-12"><proteo-ui-link ng-click="cancel(true)"><proteo-ui-icon icon="back"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-link></div><proteo-ui-thematic-break></proteo-ui-thematic-break></div><div class="row"><div class="col-xs-12"><h1 class="no-margin-top" translate="{{psfa.titleKey}}"></h1><proteo-ui-text ng-if="successMsgKey" class="md-margin-top" paragraph="true" translate="{{psfa.successMsgKey}}"></proteo-ui-text></div><div class="col-xs-12 md-margin-top"><proteo-ui-link ng-click="psfa.goToPaymentApprovalHistory()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_SEE_ALL_PAYMENTS" translate-values="{businessName: psfa.payment.businessName}"></proteo-ui-text></proteo-ui-link></div><div class="col-xs-12 sm-margin-top"><proteo-ui-link ng-click="psfa.goToMakeAnotherPayment()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="{{psfa.anotherLinkText}}" translate-values="{account: psfa.payment.account}"></proteo-ui-text></proteo-ui-link></div><div class="col-xs-12 sm-margin-top"><proteo-ui-link ng-click="psfa.goToAccountDetails()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="GLOBALERROR_PAYMENT_SUBMITTED_APPROVAL_BIZ_GO_TO_ACCOUNT_DETAILS" translate-values="{account: psfa.payment.account}"></proteo-ui-text></proteo-ui-link></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-xs-12 text-right"><proteo-ui-button ng-click="cancel(true)"><proteo-ui-text translate="GLOBALERROR_COMMON_BACK_TO_YOUR_ACCOUNTS"></proteo-ui-text></proteo-ui-button></div></div>')}]),!function(){"use strict";angular.module("proteo.ui.global-error-page",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse","get-external-link"])}(),function(){"use strict";angular.module("proteo.ui.global-error-page").controller("proteoUiGlobalErrorPageController",["$log","$stateParams",function(a,b){function c(){null===d.title&&(d.title="COMPONENT_GLOBALERRORPAGE_TITLE_ERROR_GENERAL"),null===d.message&&(d.message="COMPONENT_GLOBALERRORPAGE_TEXT_ERROR_GENERAL")}a.debug("proteoUiGlobalErrorPageController loading");var d=this;d.title=b.title,d.message=b.message,d.linkTopLeft=b.linkTopLeft,d.linkTopRight=b.linkTopRight,d.linkBottomLeft=b.linkBottomLeft,d.linkBottomRight=b.linkBottomRight,d.buttonLeft=b.buttonLeft,d.buttonRight=b.buttonRight,c()}])}(),function(){"use strict";angular.module("proteo.ui.global-error-page").config(["$stateProvider",function(a){a.state("globalErrorPage",{url:"/globalErrorPage",controller:"proteoUiGlobalErrorPageController as pugepc",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-global-error-page/proteo-ui-global-error-page-tpl.html",params:{title:null,message:null,linkTopLeft:{text:null,state:null},linkTopRight:{text:null,state:null},linkBottomLeft:{text:null,state:null},linkBottomRight:{text:null,state:null},buttonLeft:{text:null,state:null},buttonRight:{text:null,state:null}}})}])}(),angular.module("proteo.ui.global-error-page.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-global-error-page/proteo-ui-global-error-page-tpl.html",'<div class="container-fluid"><div class="row"><div class="col-xs-12"><h1 translate="{{pugepc.title}}"></h1></div></div><div class="row"><div class="col-xs-12"><proteo-ui-panel class="vertical-center-min-200"><proteo-ui-panel-body class="text-center"><proteo-ui-text translate="{{pugepc.message}}"></proteo-ui-text></proteo-ui-panel-body></proteo-ui-panel></div></div><div class="row sm-margin-top" ng-if="pugepc.linkTopLeft.text !== null || pugepc.linkTopRight.text !== null"><div class="col-xs-6"><proteo-ui-link state="{{pugepc.linkTopLeft.state}}" ng-if="pugepc.linkTopLeft.text !== null"><proteo-ui-text translate="{{pugepc.linkTopLeft.text}}"></proteo-ui-text></proteo-ui-link></div><div class="col-xs-6 text-right"><proteo-ui-link state="{{pugepc.linkTopRight.state}}" ng-if="pugepc.linkTopRight.text !== null"><proteo-ui-text translate="{{pugepc.linkTopRight.text}}"></proteo-ui-text></proteo-ui-link></div></div><div class="row"><div class="col-xs-12"><proteo-ui-thematic-break></proteo-ui-thematic-break></div></div><div class="row sm-margin-bottom" ng-if="pugepc.linkBottomLeft.text !== null || pugepc.linkBottomRight.text !== null"><div class="col-xs-6"><proteo-ui-link state="{{pugepc.linkBottomLeft.state}}" ng-if="pugepc.linkBottomLeft.text !== null"><proteo-ui-text translate="{{pugepc.linkBottomLeft.text}}"></proteo-ui-text></proteo-ui-link></div><div class="col-xs-6 text-right"><proteo-ui-link state="{{pugepc.linkBottomRight.state}}" ng-if="pugepc.linkBottomRight.text !== null"><proteo-ui-text translate="{{pugepc.linkBottomRight.text}}"></proteo-ui-text></proteo-ui-link></div></div><div class="row" ng-if="pugepc.buttonRight.text !== null || pugepc.buttonLeft.text !== null"><div class="col-xs-6"><proteo-ui-button ui-sref="{{pugepc.buttonLeft.state}}" ng-if="pugepc.buttonLeft.text !== null"><proteo-ui-text translate="{{pugepc.buttonLeft.text}}"></proteo-ui-text></proteo-ui-button></div><div class="col-xs-6 text-right"><proteo-ui-button ui-sref="{{pugepc.buttonRight.state}}" ng-if="pugepc.buttonRight.text !== null"><proteo-ui-text translate="{{pugepc.buttonRight.text}}"></proteo-ui-text></proteo-ui-button></div></div></div>')}]),!function(){"use strict";var a=angular.module("proteo.dynamic-states",["appverse.router","appverse.translate"]);a.provider("statesGenerator",["$stateProvider","$urlRouterProvider",function(a,b){var c=[];this.setJsonUrl=function(a,d,e){e||b.deferIntercept(),c[d]=a},this.$get=["$http","$state","$log","$location","$urlRouter",function(b,d,e,f,g){var h=function(b,f,h,i,j){function k(b,c,f,g){if(null!==d.get(c+"."+b))e.debug("WARNING: You are trying to create a state that is already defined: ",c+"."+b);else{var i=null;angular.isDefined(f)&&null!==f&&(i=f+"/");var k=c+"."+b,l="/"+b,m={parent:c,url:g?l+"/:"+g:l,templateUrl:h+"/"+i+b+".html",controller:b+"Controller",params:{data:null}};g&&delete m.params,m.params=angular.extend(m.params||{},{isBusiness:j}),a.state(k,m)}}j||(j=!1);var l;l=angular.isDefined(i)?c[i][b]:c[f][b],l&&k(l.view,f,l.dir,l.param),g.sync(),g.listen()},i=function(h,i,j){function k(b,c,f,g,h,j){if(null!==d.get(c+"."+b))e.debug("WARNING: You are trying to create a state that is already defined: ",b);else{var k=c+"."+b;a.state(k,{parent:c,url:"/"+b,templateUrl:i+"/"+b+".html",controller:f,data:{step:b,roadCondition:h,haveRoad:g,parentRoad:j}})}}function l(a){if(a.roads)for(var b=0;b<a.roads.length;b++)for(var c=0;c<a.roads[b].steps.length;c++){var d=m(a.roads[b].steps[c]),e=n(a.roads[b].steps[c].type);k(a.roads[b].steps[c].view,h,d,e,a.roads[b].condition,a.view),l(e,a.roads[b].steps[c])}}function m(a){var b=angular.isUndefined(a.controller)||null===a.controller?a.view+"Cntrl":a.controller;return b}function n(a){return"multiple"===a?!0:!1}function o(a){for(var b=q.$$path.split("/"),c=!1,d=0;d<b.length;d++){if(b[d]===h+"."+a.view){c=!0;break}angular.isDefined(a.roads)&&(c=p(a.roads,b[d],c))}return c}function p(a,b,c){for(var d=0;d<a.length;d++)for(var e=0;e<a[d].steps.length;e++)if(b===h+"."+a[d].steps[e].view){c=!0;break}return c}var q=angular.copy(f),r={},s=!1;c[h]?b.get(c[h]).success(function(a){for(var b=0;b<a.flow.steps.length;b++){var c=m(a.flow.steps[b]),e=n(a.flow.steps[b].type);k(a.flow.steps[b].view,h,c,e,null,null),e&&l(a.flow.steps[b]),1===parseInt(a.flow.steps[b].num)&&(r=a.flow.steps[b]),s||(s=o(a.flow.steps[b]))}s&&d.go(h+"."+r.view),j||(g.sync(),g.listen())}).error(function(a){j||(g.sync(),g.listen()),e.debug("Error creating the dynamic states",a)}):e.debug("Error trying to take the JSON url in",h)};return{setUpStateFromConstant:h,setUpStatesFromJson:i}}]}])}(),!function(){"use strict";angular.module("proteo.print",[]).directive("ngPrint",function(){function a(a,b,c){b.on("click",function(){var a=document.getElementById(c.printElementId),b=$(".pageWrap .primary > div"),d=document.head,e=document.styleSheets,f="";if(null!==e)for(var g in e)e.hasOwnProperty(g)&&(f+='<link href="'+document.styleSheets[g].href+'" rel ="stylesheet" type="text/css">');if(c.printElementId&&"fullPagePrint"!==c.printElementId){var h="<html><head>"+d.innerHTML+f+'</head><body onload="this.focus(); this.print();">'+a.innerHTML+"</body></html>",i=document.createElement("iframe");i.name="printFrame",i.style.position="absolute",i.style.top="-1000000px",b.length<=0?document.body.appendChild(i):b.append(i);var j=i.contentWindow?i.contentWindow:i.contentDocument.document?i.contentDocument.document:i.contentDocument;j.document.open(),j.document.write(h),j.document.close()}else window.print()})}return{link:a,restrict:"A"}})}(),angular.module("proteo.ui.undefined.templates",[]).run(["$templateCache",function(a){"use strict"}]),!function(){"use strict";angular.module("proteo.ui.compound-input-sortcode",["appverse.cache","ui.bootstrap","proteo.invocation-service","proteo.ui.basics","proteo.ui.basics.templates","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.compound-input-sortcode").controller("proteoUiCompoundInputSortcodeController",["$scope","$document",function(a,b){function c(){a.localModel=angular.copy(e),d()}function d(){if(a.output){var b=a.output.toString();b.indexOf("-")>0&&(b=b.replace(/-/g,"")),6===b.length&&(a.localModel=angular.copy(b.match(/.{1,2}/g)))}}var e=["","",""];a.localModel=null,a.componentId=a.componentId||"sortCode",a.formatSortCode=function(){for(var c="",d=0;d<a.localModel.length;d++)c+=angular.isDefined(a.localModel[d])?a.localModel[d]:"";a.output=c,a.output&&a.output.length>5&&a.label&&JSM._updateDataLayer({event_name:"open textbox; "+b[0].title,event_action:a.output,event_label:a.label})},a.validateForm=function(b){return angular.isDefined(a[b])?a[b].$invalid&&(a.formValidation.$submitted||a[b].$submitted):void 0},a.$watch("output",function(b,c){null===b&&null!==c&&(a.localModel=angular.copy(e))}),c()}])}(),function(){"use strict";angular.module("proteo.ui.compound-input-sortcode").directive("proteoUiCompoundInputSortcode",["$document",function(a){return{restrict:"E",replace:!0,transclude:!0,scope:{componentId:"@",output:"=",formValidation:"=",isRequired:"=",labelInline:"=",templateType:"@",action:"@",label:"@",isDisabled:"=?"},templateUrl:function(a,b){switch(b.templateType){case"compound":return"/spasR50/credentialsPublic/components/proteo-ui-compound-input-sortcode/templates/proteo-ui-compound-input-sortcode-tpl.html";case"simple":return"/spasR50/credentialsPublic/components/proteo-ui-compound-input-sortcode/templates/proteo-ui-compound-input-sortcode-simple-tpl.html";default:return"/spasR50/credentialsPublic/components/proteo-ui-compound-input-sortcode/templates/proteo-ui-compound-input-sortcode-tpl.html"}},controller:"proteoUiCompoundInputSortcodeController"}}]).directive("proteoUiCompoundInputSortcodeAppeal",["$document",function(a){return{restrict:"EA",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-compound-input-sortcode/templates/proteo-ui-compound-input-sortcode-tpl-appeal.html",require:["ngModel","^form"],scope:{disabled:"=ngDisabled",isRequired:"=isRequired"},compile:function(a,b){var c=angular.element(a[0].querySelector("div[group-validate]"));return c.attr("name",b.name),{pre:function(a,b,c,d){var e=d[0],f=d[1];a.formCtrl=f,a.name=c.name,a.label=c.label,a.messagesSrc=c.messagesSrc,a.customRequiredMessage=c.customRequiredMessage,a.values={},e.$render=function(){"string"==typeof e.$viewValue&&/^[0-9]{6}$/.test(e.$viewValue)&&(a.values.sortCode1=e.$viewValue.substring(0,2),a.values.sortCode2=e.$viewValue.substring(2,4),a.values.sortCode3=e.$viewValue.substring(4,6))},a.updateModel=function(){a.values.sortCode1&&a.values.sortCode2&&a.values.sortCode3&&e.$setViewValue(a.values.sortCode1+a.values.sortCode2+a.values.sortCode3)}}}}}}])}(),angular.module("proteo.ui.compound-input-sortcode.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-compound-input-sortcode/templates/proteo-ui-compound-input-sortcode-simple-tpl.html",'<div class="wrap-proteo-ui-compound-input-sortcode row"><ng-form class="col-xs-12" name="{{componentId}}Form"><proteo-ui-input disabled class="sort-code" id="{{componentId}}sortCode0" maxlength="2" name="sortCode0" ng-blur="formatSortCode();" ng-model="localModel[0]" ng-pattern="/^[0-9]{2}/" ng-required="isRequired" type="text" ng-class="{\'has-error\': {{componentId}}Form.sortCode0.$invalid && (formValidation.$submitted || {{componentId}}Form.$submitted)}"></proteo-ui-input><span class="sort-code-separator">-</span><proteo-ui-input disabled class="sort-code" maxlength="2" name="sortCode1" ng-blur="formatSortCode();" ng-model="localModel[1]" ng-pattern="/^[0-9]{2}/" ng-required="isRequired" type="text" ng-class="{\'has-error\': {{componentId}}Form.sortCode1.$invalid && (formValidation.$submitted || {{componentId}}Form.$submitted)}"></proteo-ui-input><span class="sort-code-separator">-</span><proteo-ui-input disabled class="sort-code" maxlength="2" name="sortCode2" ng-blur="formatSortCode();" ng-model="localModel[2]" ng-pattern="/^[0-9]{2}/" ng-required="isRequired" type="text" ng-class="{\'has-error\': {{componentId}}Form.sortCode2.$invalid && (formValidation.$submitted || {{componentId}}Form.$submitted)}"></proteo-ui-input></ng-form></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-compound-input-sortcode/templates/proteo-ui-compound-input-sortcode-tpl-appeal.html",'<div group-validate="formCtrl" class="form-group mt-xs" ng-class="{ \'has-error error\': formCtrl[name].$invalid && (formCtrl[name].$touched || formCtrl.$submitted)}"><label class="label-std"><proteo-ui-text class="text-bold" translate="{{label}}"></proteo-ui-text></label><div class="row"><div class="col-md-4"><div class="row"><div class="col-xs-4"><input jsm-label="Sort Code (1)" item-validate ng-model="values.sortCode1" ng-change="updateModel()" ng-disabled="disabled" digits-only class="form-control" ng-pattern="/^[0-9]{2}$/" maxlength="2" ng-required="isRequired"><proteo-ui-text class="sort-code-spacer">-</proteo-ui-text></div><div class="col-xs-4"><input jsm-label="Sort Code (2)" item-validate ng-model="values.sortCode2" ng-change="updateModel()" ng-disabled="disabled" digits-only class="form-control" ng-pattern="/^[0-9]{2}$/" maxlength="2" ng-required="isRequired"><proteo-ui-text class="sort-code-spacer">-</proteo-ui-text></div><div class="col-xs-4"><input jsm-label="Sort Code (3)" item-validate ng-model="values.sortCode3" ng-change="updateModel()" ng-disabled="disabled" digits-only class="form-control" ng-pattern="/^[0-9]{2}$/" maxlength="2" ng-required="isRequired"></div></div></div><div class="col-md-7" ng-if="messagesSrc" ng-show="formCtrl[name].$touched || formCtrl.$submitted" ng-messages="formCtrl[name].$error" role="alert"><div ng-message="required" ng-if="customRequiredMessage"><proteo-ui-icon icon="alert" icon-bg="red"></proteo-ui-icon><proteo-ui-text class="text-bold" translate="{{customRequiredMessage}}"></proteo-ui-text></div><ng-messages-include src="{{messagesSrc}}"></ng-messages-include></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-compound-input-sortcode/templates/proteo-ui-compound-input-sortcode-tpl.html",'<div class="wrap-proteo-ui-compound-input-sortcode row"><ng-form class="col-xs-12" name="{{componentId}}Form"><div class="row" ng-class="{\'error\': validateForm(componentId + \'Form\')}"><div class="col-xs-12"><label class="label-std" for="{{componentId}}sortCode0" ng-class="{true: \'element-inline\', false: \'element-block\'}[labelInline]" ng-transclude></label><proteo-ui-input ng-disabled="isDisabled" class="sort-code" id="{{componentId}}sortCode0" maxlength="2" name="sortCode0" ng-blur="formatSortCode();" ng-model="localModel[0]" ng-pattern="/^[0-9]{2}/" ng-required="isRequired" type="text" ng-class="{\'has-error\': {{componentId}}Form.sortCode0.$invalid && (formValidation.$submitted || {{componentId}}Form.$submitted)}"></proteo-ui-input><span class="sort-code-separator">-</span><proteo-ui-input ng-disabled="isDisabled" class="sort-code" maxlength="2" name="sortCode1" ng-blur="formatSortCode();" ng-model="localModel[1]" ng-pattern="/^[0-9]{2}/" ng-required="isRequired" type="text" ng-class="{\'has-error\': {{componentId}}Form.sortCode1.$invalid && (formValidation.$submitted || {{componentId}}Form.$submitted)}"></proteo-ui-input><span class="sort-code-separator">-</span><proteo-ui-input ng-disabled="isDisabled" class="sort-code" maxlength="2" name="sortCode2" ng-blur="formatSortCode();" ng-model="localModel[2]" ng-pattern="/^[0-9]{2}/" ng-required="isRequired" type="text" ng-class="{\'has-error\': {{componentId}}Form.sortCode2.$invalid && (formValidation.$submitted || {{componentId}}Form.$submitted)}"></proteo-ui-input></div></div></ng-form></div>')}]),!function(){"use strict";angular.module("proteo.ui.compound-input-account",["appverse.cache","ui.bootstrap","proteo.ui.basics","proteo.ui.basics.templates","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse"]).constant("VALIDATIONS",{IBAN:{required:!0,minlength:14,maxlength:34,pattern:/^[A-Za-z]{2}[0-9]{2}[A-Za-z0-9]{10,30}$/},SWIFT:{required:!0,minlength:8,maxlength:11,pattern:/^[A-Za-z]{6}[A-Za-z0-9]{2}[A-Za-z0-9]{0,3}$/},SORTCODE:[{required:!0,minlength:2,maxlength:2,pattern:/^[0-9]{2}$/},{required:!0,minlength:2,maxlength:2,pattern:/^[0-9]{2}$/},{required:!0,minlength:2,maxlength:2,pattern:/^[0-9]{2}$/}],ACCOUNTNUMBER:{required:!0,minlength:8,maxlength:8,pattern:/^[0-9]{8}$/}})}(),function(){"use strict";function a(a){return angular.equals(a.accountType,"SORTCODE")}function b(b){var c=a(b)?"-sort-code":"";return"/spasR50/credentialsPublic/components/proteo-ui-compound-input-account/proteo-ui-compound-input-account"+c+"-tpl.html"}function c(a){angular.isUndefined(a.accountPlaceholder)&&(a.accountPlaceholder=g.accountPlaceholder),angular.isUndefined(a.accountDisabled)&&(a.accountDisabled=g.accountDisabled),angular.isUndefined(a.accountSize)&&(a.accountSize=g.accountSize)}function d(a){angular.isUndefined(a.accountType)&&(a.accountType=g.accountType),angular.isUndefined(a.accountId)&&(a.accountId=g.accountId),angular.isUndefined(a.accountName)&&(a.accountName=g.accountName),angular.isUndefined(a.accountFormName)&&(a.accountFormName=g.accountFormName),a.accountNameProcessed=a.accountName.replace(" ","_"),a.accountFormNameProcessed=a.accountFormName.replace(" ","_"),c(a)}function e(b){a(b)&&!angular.isArray(b.ngModel)&&(b.ngModel=[null,null,null]),d(b)}function f(a,b,c){if(angular.isFunction(a.accountChange)&&a.accountChange({form:b}),a.label){var d=null;angular.isArray(a.ngModel)?a.ngModel[0]&&a.ngModel[1]&&a.ngModel[2]&&(d=a.ngModel[0]+a.ngModel[1]+a.ngModel[2]):d=a.ngModel,d&&JSM._updateDataLayer({event_name:"open textbox; "+c[0].title,event_action:d,event_label:a.label})}}var g={accountType:"IBAN",accountId:"",accountName:"accountNumber",accountFormName:"accountNumberForm",accountPlaceholder:"Enter here the account number",accountDisabled:!1};!function(){function c(c,d,g){function h(){return a(k.scope)}function i(){return b(k.scope)}function j(a){f(k.scope,a,g)}var k=this;c.validationRules=d,c.accountNameProcessed="",c.isSortCodeType=h,c.getTemplate=i,c.fireOnChange=j,k.scope=c,e(k.scope)}c.$inject=["c","d","g"],c.$inject=["$scope","VALIDATIONS","$document"],angular.module("proteo.ui.compound-input-account").controller("proteoUiCompoundInputAccountController",c)}()}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,scope:{accountType:"@",accountId:"@",accountName:"@",accountFormName:"@",accountPlaceholder:"@",accountDisabled:"@",accountSize:"@",accountShowErrors:"@",accountErrors:"=?",ngModel:"=",accountChange:"&?",label:"@",isGrid:"=?"},controller:"proteoUiCompoundInputAccountController as ia",template:'<ng-include src="getTemplate()"></ng-include>'}}a.$inject=[],angular.module("proteo.ui.compound-input-account").directive("proteoUiCompoundInputAccount",a)}(),angular.module("proteo.ui.compound-input-account.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-compound-input-account/proteo-ui-compound-input-account-sort-code-tpl.html",'<!DOCTYPE html><ng-form name="{{ia.scope.accountFormNameProcessed}}" novalidate><div class="input-group responsiveGrid"><proteo-ui-input name="{{ia.scope.accountNameProcessed}}0" ng-model="ia.scope.ngModel[0]" ng-pattern="ia.scope.validationRules[ia.scope.accountType][0].pattern" ng-minlength="ia.scope.validationRules[ia.scope.accountType][0].minlength" ng-required="{{ia.scope.validationRules[ia.scope.accountType][0].required}}" type="text" maxlength="{{ia.scope.validationRules[ia.scope.accountType][0].maxlength}}" ng-change="fireOnChange({{ia.scope.accountFormNameProcessed}})"></proteo-ui-input><proteo-ui-text class="input-group-addon">-</proteo-ui-text><proteo-ui-input name="{{ia.scope.accountNameProcessed}}1" ng-model="ia.scope.ngModel[1]" ng-pattern="ia.scope.validationRules[ia.scope.accountType][1].pattern" ng-minlength="ia.scope.validationRules[ia.scope.accountType][1].minlength" ng-required="{{ia.scope.validationRules[ia.scope.accountType][1].required}}" type="text" maxlength="{{ia.scope.validationRules[ia.scope.accountType][1].maxlength}}" ng-change="fireOnChange({{ia.scope.accountFormNameProcessed}})"></proteo-ui-input><proteo-ui-text class="input-group-addon">-</proteo-ui-text><proteo-ui-input name="{{ia.scope.accountNameProcessed}}2" ng-model="ia.scope.ngModel[2]" ng-pattern="ia.scope.validationRules[ia.scope.accountType][2].pattern" ng-minlength="ia.scope.validationRules[ia.scope.accountType][1].minlength" ng-required="{{ia.scope.validationRules[ia.scope.accountType][1].required}}" type="text" maxlength="{{ia.scope.validationRules[ia.scope.accountType][1].maxlength}}" ng-change="fireOnChange({{ia.scope.accountFormNameProcessed}})"></proteo-ui-input></div></ng-form>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-compound-input-account/proteo-ui-compound-input-account-tpl.html",'<!DOCTYPE html><proteo-ui-input type="text" id="{{ia.scope.accountId}}" name="{{ia.scope.accountNameProcessed}}" placeholder="{{ia.scope.accountPlaceholder}}" ng-model="$parent.ngModel" ng-disabled="{{ia.scope.accountDisabled}}" ng-required="{{ia.scope.validationRules[ia.scope.accountType].required}}" ng-minlength="ia.scope.validationRules[ia.scope.accountType].minlength" ng-pattern="ia.scope.validationRules[ia.scope.accountType].pattern" maxlength="{{ia.scope.validationRules[ia.scope.accountType].maxlength}}" ng-change="fireOnChange()"></proteo-ui-input>')}]),!function(){"use strict";angular.module("proteo.ui.collapse",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.collapse").directive("collapseBody",function(){return{restrict:"E",transclude:!0,template:"<div ng-transclude></div>"}})}(),function(){"use strict";angular.module("proteo.ui.collapse").controller("proteoUiCollapseController",["$scope","$document",function(a,b){function c(){if(angular.isArray(a.bodies))for(var b=0;b<a.titles.length;b++){var c=a.titles[b],d=angular.isDefined(a.titlesClsd)&&angular.isDefined(a.titlesClsd[b])?a.titlesClsd[b]:null,e=angular.isDefined(a.bodies[b])?a.bodies[b]:null,f=new RegExp(".html"),g=!0;g=f.test(a.bodies[b])?!0:!1,a.items.push({title:c,titleClsd:d,body:e,url:g})}}function d(){if(angular.isArray(a.titles))c();else{var b=a.titles,d=angular.isDefined(a.titlesClsd)?a.titlesClsd:null,e=angular.isDefined(a.bodies)?a.bodies:null,f=new RegExp(".html"),g=!0;g=f.test(a.bodies)?!0:!1,a.items={title:b,titleClsd:d,body:e,url:g}}}function e(){a.isOpen=[];for(var b=0;b<a.items.length;b++)a.isOpen.push(!1)}a.oneAtATime=angular.isDefined(a.oneAtATime)?a.oneAtATime:!0,a.status={isFirstOpen:!0},a.status.open=a.isOpen||!1,a.items=[],a.url=[],a.action=a.$parent.action,a.onOpenFn=function(){a.action&&JSM._updateDataLayer({event_name:"collapse open; "+b[0].title,event_action:a.action}),angular.isDefined(a.onOpen)?a.onOpen():angular.isDefined(a.$parent.onOpen)&&a.$parent.onOpen()},a.$watch("status.open",function(b,c){a.$parent.isOpened=c===b?b:!b,void 0!==b&&typeof b==typeof!0&&b!==c&&a.onOpenFn()},!0),d(),e()}])}(),function(){"use strict";angular.module("proteo.ui.collapse").directive("proteoUiCollapse",["$document",function(a){return{restrict:"E",transclude:!0,scope:{titles:"=?headTitle",titlesClsd:"=?headTitleClosed",bodies:"=body",multiple:"@",onOpen:"&",isOpen:"=?isOpened",oneAtATime:"=?",action:"@"},controller:"proteoUiCollapseController",link:function(a,b,c){angular.isUndefined(a.titles)&&angular.isDefined(c.headTitle)?a.titles=c.headTitle.toString():angular.isUndefined(a.titles)&&angular.isUndefined(c.headTitle)&&(a.titles=null)},templateUrl:function(a,b){var c="";return(angular.isDefined(b.multiple)&&b.multiple===!0||"true"===b.multiple||""===b.multiple)&&(c="-multiple"),"/spasR50/credentialsPublic/components/proteo-ui-collapse/proteo-ui-collapse"+c+"-tpl.html"}}}])}(),function(){"use strict";angular.module("proteo.ui.collapse").directive("collapseTitle",["$document",function(a){return{restrict:"E",require:"^proteoUiCollapse",transclude:!0,template:"<uib-accordion-heading><div ng-transclude></div></uib-accordion-heading></div>",controller:"proteoUiCollapseController"}}])}(),angular.module("proteo.ui.collapse.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-collapse/proteo-ui-collapse-header-tpl.html",'<!DOCTYPE html><div class="panel-heading" ng-keypress="toggleOpen($event)"><h4 class="panel-title"><a class="accordion-toggle" href="" ng-click="toggleOpen()" tabindex="0" uib-accordion-transclude="heading"><span class="ng-binding" ng-class="{\'text-muted\': isDisabled}"><div class="ng-scope" ng-click="onOpen()" ng-transclude=""></div></span></a></h4></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-collapse/proteo-ui-collapse-multiple-tpl.html",'<!DOCTYPE html><uib-accordion class="collapsible-std" close-others="oneAtATime" ng-if="items.length > 1"><uib-accordion-group ng-repeat="item in items track by $index" is-open="isOpen[$index]"><uib-accordion-heading><div ng-click="onOpen()"><div class="arrow" ng-class="{\'opened\': isOpen[$index], \'\': !isOpen[$index]}"></div>{{isOpen[$index] == false && item.titleClsd != null ? item.titleClsd : item.title}}</div></uib-accordion-heading><div ng-if="item.url == false">{{item.body}}</div><div ng-if="item.url == true" ng-include="item.body"></div></uib-accordion-group></uib-accordion><div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-collapse/proteo-ui-collapse-tpl.html",'<!DOCTYPE html><uib-accordion class="collapsible-std" close-others="oneAtATime" ng-if="!items.length"><uib-accordion-group is-open="status.open"><uib-accordion-heading ng-if="titles"><div><div class="arrow" ng-class="{\'opened\': status.open, \'\': !status.open}"></div>{{status.open == false && items.titleClsd != null ? items.titleClsd : items.title}}</div></uib-accordion-heading><div ng-if="items.url == false" ng-transclude></div><div ng-if="items.url == true" ng-include="items.body"></div></uib-accordion-group></uib-accordion>')}]),!function(){"use strict";angular.module("proteo.ui.date-picker",["appverse.cache","ui.bootstrap","proteo.ui.basics","proteo.ui.basics.templates","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.date-picker").controller("proteoUiDatePickerController",["$log","$scope","$attrs","$timeout","$document","$filter",function(a,b,c,d,e,f){function g(a,b){return new Date(a.getFullYear(),a.getMonth()+b,a.getDate());
}function h(){var a=new Date;return angular.isDate(b.maxDate)&&a>b.maxDate&&(a=new Date(b.maxDate.getTime())),angular.isDate(b.minDate)&&a<b.minDate&&(a=new Date(b.minDate.getTime())),a}function i(a,b){for(var c=[],d=a;b>=d;d++)c.push(d);return c}function j(a,b){for(var c=[],d=a;b>=d;d++){var e={value:d,name:"COMPONENT_DATE_PICKER_MONTH_"+d,disabled:!1};c.push(e)}return c}function k(a,c){if(b.Months.length>0)for(var d=0;11>=d;d++)b.Months[d].disabled=!1,a>d&&(b.Months[d].disabled=!0),d>c&&(b.Months[d].disabled=!0)}function l(){b.Days=i(1,31),b.Months=j(1,12),b.Years=n(b.minDate.getFullYear(),b.maxDate.getFullYear())}function m(a,b){var c=parseInt(a)>=11?1:parseInt(a)+1,d=new Date(b,c,0).getDate();return d}function n(a,c){var d=i(a,c);return b.sortYears&&(d=d.reverse()),d}function o(){if(angular.isDate(b.maxDate)&&angular.isDate(b.minDate)&&(b.Years=n(b.minDate.getFullYear(),b.maxDate.getFullYear()),b.actualYear&&(b.actualYear=b.actualYear<b.minDate.getFullYear()?b.minDate.getFullYear():b.actualYear,b.actualYear=b.actualYear>b.maxDate.getFullYear()?b.maxDate.getFullYear():b.actualYear)),b.manual&&(null===b.actualDay||null===b.actualMonth||null===b.actualYear?b.filterDate=null:b.filterDate=new Date(b.actualYear,b.actualMonth,b.actualDay)),!angular.isDate(b.filterDate)||!angular.isDate(b.minDate)||!angular.isDate(b.maxDate))return void(b.filterDate=null);var a=b.minDate.getFullYear(),c=b.maxDate.getFullYear(),e=b.actualYear||b.filterDate.getFullYear();a>=e&&(e=a),e>=c&&(e=c);var f=a>=e?b.minDate.getMonth():0,g=e>=c?b.maxDate.getMonth():11,h=b.actualMonth&&(b.actualMonth>=0||b.actualMonth<12)?b.actualMonth:b.filterDate.getMonth();h>=g&&e===c&&(h=g),f>=h&&e===a&&(h=f);var j=h===f&&e===a?b.minDate.getDate():1,l=h===g&&e===c?b.maxDate.getDate():m(h,e),o=b.actualDay||b.filterDate.getDate();j>=o&&e===a&&h===f&&(o=j),o>=l&&e===c&&h===g&&(o=l);var p=m(b.actualMonth,b.actualYear);if(b.formErrors){if(b.Days=i(1,p),b.actualYear=b.actualYear,b.actualMonth=b.actualMonth,b.actualDay=b.actualDay<=p?b.actualDay:p,angular.isDefined(b[r])){var q=!1;q=parseInt(o)!==parseInt(b.actualDay)||parseInt(h)!==parseInt(b.actualMonth)||parseInt(e)!==parseInt(b.actualYear)?!0:!1,b[r].$setValidity("outFromInterval",!q)}}else b.Days=i(j,l),k(f,g),b.actualYear=e,b.actualMonth=h,b.actualDay=p>=o?o:p,b.someKindOfErrors=null,angular.isDefined(b[r])&&angular.isDefined(b[r].selectedMonth)&&b[r].selectedMonth.$setValidity("date",!0);b.Years=n(a,c),b.filterDate=new Date(b.actualYear,b.actualMonth,b.actualDay),d(function(){for(var a=document.querySelectorAll(".selectDay"),b=0;b<a.length;b++)a[b].parentNode.insertBefore(a[b],a[b])},50)}function p(){var a=angular.isDate(b.filterDate)?b.filterDate:h();b.datePickerOptions={maxMode:"day",initDate:a,maxDate:b.maxDate,minDate:b.minDate,"class":"datepicker",showWeeks:!1}}function q(a){angular.isDate(a)&&b.change({date:a}),b.label&&angular.isDate(a)&&JSM._updateDataLayer({event_name:"date changed; "+e[0].title,event_action:f("date")(a,b.format),event_label:b.label})}a.debug("proteoUiDatePickerController loading"),b.sortYears=b.sortYears?b.sortYears:!1;var r=angular.isDefined(b.dateName)?b.dateName+"datePickerForm":"datePickerForm",s=9;b.formErrors=angular.isDefined(b.formErrors)?b.formErrors:!1,b.actualMonth=null,b.actualYear=null,b.actualDay=null,b.verifyDate=function(a){return angular.isDate(a)},b.formats=["dd/MM/yyyy","yyyy/MM/dd","shortDate"],b.format=b.formats[2],b.initDate=function(){b.filterDate=angular.isDate(b.filterDate)?b.filterDate:null,b.filterDate=angular.isDate(b.startDate)?angular.copy(b.startDate):b.filterDate,b.startDate=angular.isDate(b.startDate)?b.startDate:h(),b.minDate=angular.isDate(b.minDate)?b.minDate:g(b.startDate,-s),b.maxDate=angular.isDate(b.maxDate)?b.maxDate:g(b.startDate,s),angular.isDate(b.filterDate)&&(b.actualDay=b.filterDate.getDate(),b.actualMonth=b.filterDate.getMonth(),b.actualYear=b.filterDate.getFullYear()),angular.isDefined(c.hideDays)&&(b.singleMonth=b.singleMonth?b.singleMonth.toString():null,b.singleYear=b.singleYear?b.singleYear.toString():null)},b.initDate(),l(),angular.isDate(b.startDate)&&o(),b.parseMonth=function(a){if(a){var b=parseInt(a)+1;return b.toString()}return null},b.changeDay=function(){b.actualDay=b[r].selectedDay.$viewValue,o(),q(b.filterDate)},b.changeMonth=function(){var a=parseInt(b[r].selectedMonth.$viewValue)-1;b.actualMonth=a.toString(),o(),q(b.filterDate)},b.changeYear=function(){b.actualYear=b[r].selectedYear.$viewValue,o(),q(b.filterDate)},b.calendarChanged=function(){b.actualDay=b.filterDate.getDate(),b.actualMonth=b.filterDate.getMonth(),b.actualYear=b.filterDate.getFullYear(),o(),q(b.filterDate)},p(),b.openEnd=function(){b.status.openedEnd=!0,p()},b.openStart=function(){b.status.openedStart=!0,p()},b.format="dd/MM/yyyy",b.inputFormat=b.inputFormat||"dd/MM/yyyy",b.status={openedEnd:!1,openedStart:!1},b.JSMDataLayerHideDays=function(){var a=new Date(b.singleMonth+"/01/"+b.singleYear);q(a)},b.$watch("minDate",function(){o()}),b.$watch("maxDate",function(){o()}),b.$watch("filterDate",function(a){p(),b.manual&&null===a&&(b.actualDay=null,b.actualMonth=null,b.actualYear=null)})}])}(),function(){"use strict";angular.module("proteo.ui.date-picker").directive("proteoUiDatePicker",function(){return{restrict:"E",transclude:!0,scope:{filterDate:"=?output",id:"@",dateName:"@",dateRequired:"=",formErrors:"=?",change:"&",maxDate:"=?",minDate:"=?",showButtonBar:"=?",inputFormat:"@format",startDate:"=?date",manual:"@",error:"=",errorText:"@",size:"@",errorSize:"@",disabled:"=isDisabled",singleYear:"=",singleMonth:"=",hideCalendar:"=",label:"@",sortYears:"=?"},controller:"proteoUiDatePickerController",templateUrl:function(a,b){return angular.isDefined(b.hideDays)?"/spasR50/credentialsPublic/components/proteo-ui-date-picker/templates/proteo-ui-date-picker-hidedays-tpl.html":"/spasR50/credentialsPublic/components/proteo-ui-date-picker/templates/proteo-ui-date-picker-tpl.html"}}})}(),angular.module("proteo.ui.date-picker.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-date-picker/templates/proteo-ui-date-picker-hidedays-tpl.html",'<div class="form-group date-picker-std input-std" ng-class="{\'has-error\': error}"><ng-form name="{{dateName}}datePickerForm"><div ng-class="{ \'col-xxs-{{size}}\' : size != 0 }"><div class="input-group" ng-if="manual==\'false\'"><div class="col-xxs-12 col-xs-4"><input class="form-control" id="input{{id}}" name="singleYear" ng-disabled="disabled" ng-model="$parent.singleYear" ng-pattern="/^[0-9]*$/" ng-required="dateRequired || dateRequired === \'true\'"></div><div class="col-xxs-12 col-xs-2"><span class="text-capitalize sm-padding-left" translate="COMPONENT_DATE_PICKER_YEAR"></span></div><div class="col-xxs-12 col-xs-4"><label for="input{{id}}"></label><input class="form-control" id="input{{id}}" name="singleMonth" ng-disabled="disabled" ng-model="$parent.singleMonth" ng-pattern="/^[0-9]*$/" ng-required="dateRequired || dateRequired === \'true\'"></div><div class="col-xxs-12 col-xs-2"><span class="text-capitalize sm-padding-left" translate="COMPONENT_DATE_PICKER_MONTH"></span></div></div><div class="row" ng-if="manual==\'true\'"><div class="col-xs-7"><label for="selectMonth{{id}}"></label><select class="form-control" id="selectMonth{{id}}" ng-change="JSMDataLayerHideDays()" max-width="4" name="singleMonth" ng-disabled="disabled" ng-fix-ie ng-model="$parent.singleMonth" ng-required="dateRequired || dateRequired === \'true\'"><option translate="COMPONENT_DATE_PICKER_MONTH" value=""><option ng-repeat="Month in Months track by $index" ng-selected="$parent.singleMonth == Month.value" ng-show="!Month.disabled" translate="{{Month.name}}" value="{{Month.value}}"></select></div><div class="col-xs-5"><label for="selectYear{{id}}"></label><select class="form-control" id="selectYear{{id}}" ng-change="JSMDataLayerHideDays()" max-width="4" name="singleYear" ng-disabled="disabled" ng-fix-ie ng-model="$parent.singleYear" ng-required="dateRequired || dateRequired === \'true\'"><option translate="COMPONENT_DATE_PICKER_YEAR" value=""><option ng-repeat="Year in Years track by $index" ng-selected="$parent.singleYear == Year" ng-show="!Year.disabled" value="{{Year}}">{{Year}}</select></div></div><div class="col-xxs-{{errorSize}}" ng-if="error"><span aria-hidden="true" class="icon-error form-control-feedback"></span> <span class="sr-only" id="inputGroupSuccess3Status">(error)</span> <span class="help-block" id="helpBlock2">{{errorText}}</span></div></div></ng-form></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-date-picker/templates/proteo-ui-date-picker-tpl.html",'<div class="form-group date-picker-std input-std" ng-class="{\'has-error\': error}"><ng-form name="{{dateName}}datePickerForm"><div ng-class="{ \'col-xxs-{{size}}\' : size != 0 }"><div class="input-group" ng-if="manual==\'false\'"><input class="form-control" id="input{{id}}" name="{{dateName}}" ng-disabled="disabled" ng-model="$parent.filterDate" ng-required="dateRequired || dateRequired === \'true\'" uib-datepicker-popup="{{inputFormat}}"><span class="input-group-addon"></span> <span class="input-group-addon icon" id="basic-addon1"><button class="btn btn-link date" datepicker-options="datePickerOptions" is-open="status.openedStart" max-date="maxDate" min-date="minDate" ng-change="calendarChanged()" ng-click="openStart()" ng-disabled="disabled" ng-model="$parent.filterDate" type="button" uib-datepicker-popup="{{format}}"></button></span></div><div class="datepicker" ng-if="manual==\'true\'"><label for="selectDay{{id}}"></label><select class="form-control day" id="selectDay{{id}}" name="selectedDay" ng-change="changeDay()" ng-disabled="disabled" ng-fix-ie ng-model="$parent.filterDate" uib-datepicker-popup="d" datepicker-options="datePickerOptions" show-button-bar="false"><option ng-disabled="verifyDate($parent.filterDate, \'actualDay\', true) || actualDay !== null" ng-selected="!verifyDate($parent.filterDate, \'actualDay\', false) && !Day" translate="COMPONENT_DATE_PICKER_DAY" value=""><option ng-repeat="Day in Days" ng-selected="Day == actualDay && !vefifyDate($parent.filterDate)" value="{{Day}}">{{Day}}</select><label for="selectMonth{{id}}"></label><select class="form-control month" id="selectMonth{{id}}" max-width="4" name="selectedMonth" ng-change="changeMonth()" ng-disabled="disabled" ng-fix-ie ng-model="$parent.filterDate" uib-datepicker-popup="M" datepicker-options="datePickerOptions" show-button-bar="false"><option ng-disabled="verifyDate($parent.filterDate, \'actualMonth\', true)" ng-selected="!verifyDate($parent.filterDate, \'actualMonth\', false)" translate="COMPONENT_DATE_PICKER_MONTH" value=""><option ng-disabled="Month.disabled" ng-repeat="Month in Months track by $index" ng-selected="Month.value.toString() === parseMonth(actualMonth) && !vefifyDate($parent.filterDate)" ng-show="!Month.disabled" translate="{{Month.name}}" value="{{Month.value}}"></select><label for="selectYear{{id}}"></label><select class="form-control year" id="selectYear{{id}}" name="selectedYear" ng-change="changeYear()" ng-disabled="disabled" ng-fix-ie ng-model="$parent.filterDate" uib-datepicker-popup="yyyy" datepicker-options="datePickerOptions" show-button-bar="false"><option ng-disabled="verifyDate($parent.filterDate, \'actualYear\', true)" ng-selected="!verifyDate($parent.filterDate, \'actualYear\', false)" translate="COMPONENT_DATE_PICKER_YEAR" value=""><option ng-repeat="Year in Years" ng-selected="Year == actualYear && !vefifyDate($parent.filterDate)" value="{{Year}}">{{Year}}</select><div ng-show="!hideCalendar"><button class="btn btn-icon" datepicker-options="datePickerOptions" default-date="today" is-open="status.openedStart" ng-change="calendarChanged()" ng-click="openStart()" ng-disabled="disabled" ng-model="$parent.filterDate" uib-datepicker-popup="{{format}}" show-button-bar="showButtonBar"><proteo-ui-icon icon="calendar"></proteo-ui-icon></button></div><label for="input{{id}}"></label><input class="form-control ng-hide" datepicker-options="datePickerOptions" id="input{{id}}" name="{{dateName}}" ng-disabled="disabled" ng-model="$parent.filterDate" ng-required="dateRequired || dateRequired === \'true\'"></div></div><div class="col-xxs-{{errorSize}}" ng-if="error"><span aria-hidden="true" class="icon-error form-control-feedback"></span> <span class="sr-only" id="inputGroupSuccess3Status">(error)</span> <span class="help-block" id="helpBlock2">{{errorText}}</span></div></ng-form></div>')}]),!function(){"use strict";angular.module("proteo.ui.wizard-states",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","proteo.ui.basics","proteo.ui.basics.templates","proteo.dynamic-states","appverse"])}(),function(){"use strict";angular.module("proteo.ui.wizard-states").controller("proteoUiWizardStatesController",["$scope","$rootScope","$state","$filter","$cacheFactory","$log","wizardStatesEvent",function(a,b,c,d,e,f,g){function h(){if(!angular.isUndefined(a.data)&&!p()){var b=d("orderBy")(a.data.flow.steps,"num");angular.isDefined(b[0])&&(angular.isArray(a.currentSteps)&&u.length>0&&a.currentSteps.splice(u.length),angular.isArray(w)&&w.splice(1),angular.isDefined(c.current.parent)?c.go(c.current.parent+"."+b[0].view):c.go(c.current.name+"."+b[0].view))}}function i(){if(a.data&&0===a.currentSteps.length){var b=d("orderBy")(a.data.flow.steps,"num");if(angular.isObject(b))for(var c=Object.keys(b),e=0;e<c.length;e++)if(0===parseInt(c[e])&&w.push(b[c[e]].view),u.push(b[c[e]]),angular.isDefined(b[c[e]].roads)){a.currentSteps=angular.copy(u);break}(angular.isUndefined(a.currentSteps)||0===a.currentSteps.length)&&(a.currentSteps=angular.copy(u))}}function j(){if(!angular.isUndefined(c.current.name)&&angular.isObject(a.currentSteps))for(var b=Object.keys(a.currentSteps),d=0;d<b.length;d++)if(c.current.name===c.current.parent+"."+a.currentSteps[b[d]].view)return b[d]}function k(b,e){if(!angular.isUndefined(a.data)){var g=d("orderBy")(a.data.flow.steps,"num"),h=l(b,a.currentSteps[e]);if(h>=0){for(var i=d("orderBy")(a.currentSteps[e].roads[h].steps,"num"),j=0;j<i.length;j++)a.currentSteps.push(i[j]);for(var k=0;k<g.length;k++)if(c.current.name===c.current.parent+"."+g[k].view)for(var n=g[k].num;n<g.length&&(a.currentSteps.push(g[n]),!angular.isDefined(g[n].roads));n++);m(e,"next")}else f.error("We are sorry! But any condition of the wizard states are validated")}}function l(a,c){angular.isObject(a)||f.error("The condition of the multiple roads for wizard states should be and object.");for(var d=0;d<c.roads.length;d++){var e=!1,g={};if(angular.isObject(a))for(var h=Object.keys(a),i=0;i<h.length;i++)-1!==h[i].indexOf("$")&&(e=!0,g[h[i]]=a[h[i]]);if(e&&b.$eval(c.roads[d].condition,g))return d}return-1}function m(b,d){switch(b=parseInt(b),d){case"next":b+=1,w.push(a.currentSteps[b].view);break;case"previous":w.splice(b),b-=1}angular.isDefined(a.currentSteps[parseInt(b)])&&(angular.isDefined(c.current.parent)?c.go(c.current.parent+"."+a.currentSteps[parseInt(b)].view):c.go(c.current.name+"."+a.currentSteps[parseInt(b)].view))}function n(b){var c=angular.isDefined(b)?b:j(),d=g.getData("wizardStatesNextStep");if(angular.isDefined(a.currentSteps[c]))switch(a.currentSteps[c].type){case"step":angular.isDefined(a.currentSteps[parseInt(c)+1])&&m(c,"next");break;case"multiple":angular.isDefined(a.currentSteps[parseInt(c)])&&angular.isDefined(a.currentSteps[parseInt(c)].roads)&&angular.isDefined(d)&&k(d,c)}}function o(){var b=j();angular.isDefined(a.currentSteps[parseInt(b)-1])&&("multiple"===a.currentSteps[parseInt(b)-1].type&&a.currentSteps.splice(parseInt(b)),m(b,"previous"))}function p(){var a=j();if(angular.isUndefined(a)||angular.isUndefined(c.current.name))return!1;if(angular.isObject(w))for(var b=Object.keys(w),d=0;d<b.length;d++)if(c.current.name===c.current.parent+"."+w[b[d]])return!0;return!1}function q(b){var c={wizardData:g.getData("wizardStatesNextStep"),validatedSteps:w,defaultRoad:u,currentSteps:a.currentSteps,outData:b};v.put("data",c)}function r(a){if(null!==a&&angular.isDefined(a.lastState)&&angular.isDefined(a.lastState.name)&&angular.isObject(w))for(var b=Object.keys(w),d=0;d<b.length;d++)if(a.lastState.name===c.current.name+"."+w[b[d]])return b[d]}function s(){var b=v.get("data");if(b){w=angular.isDefined(b.validatedSteps)?b.validatedSteps:null,u=angular.isDefined(b.defaultRoad)?b.defaultRoad:null;var d=angular.isDefined(b.outData)?b.outData:null;a.currentSteps=angular.isDefined(b.currentSteps)?b.currentSteps:null;var e=r(d);t("cache"),""!==e&&d&&"next"===d.direction?n(e):""!==e&&d&&"same"===d.direction?c.go(d.lastState.name):h()}else f.debug("Error loading data from the cacheWizard")}function t(a){angular.isDefined(a)&&"cache"===a?(v.removeAll(),g.removeData("wizardStatesOut")):(v.removeAll(),g.removeData())}var u=[],v=angular.isUndefined(e.get("cacheWizard"))?e("cacheWizard"):e.get("cacheWizard"),w=[];a.state=c,a.currentSteps=[],a.isDefined=function(a){return angular.isDefined(a)},a.goToDirectStep=function(b,d,e){if(!(angular.isUndefined(d)||angular.isUndefined(a.currentSteps)||!b||angular.isDefined(a.currentSteps[j()].blocked&&a.currentSteps[j()].blocked===!0)||j()<e)){var f=null;if(angular.isObject(a.currentSteps))for(var g=Object.keys(a.currentSteps),h=0;h<g.length;h++){if(a.currentSteps[g[h]].view===d.view&&(f=g[h],g[h]<u.length)){w.splice(parseInt(e)+1),a.currentSteps.splice(u.length);break}if("multiple"===a.currentSteps[g[h]].type&&null!==f&&f<=g[h]){w.splice(parseInt(g[h]+1)),a.currentSteps.splice(parseInt(g[h])+1);break}}c.go(c.current.parent+"."+d.view)}},a.getCurrentStepIndex=function(){return j()},a.$watch("data",function(a){if(a){if(angular.isDefined(v.get("data")))return void s();i(),h()}}),a.$on("$stateChangeSuccess",function(a,b,c,d){angular.isDefined(b.parent)&&angular.isDefined(d.parent)&&b.parent===d.parent&&h()});var x=b.$on("wizardStatesNextStep",function(){n()}),y=b.$on("wizardStatesPreviousStep",function(){o()});a.$on("$destroy",function(){var a=g.getData("wizardStatesOut");angular.isDefined(a)&&angular.isDefined(a.flag)&&a.flag?q(a):t(),x(),y()})}])}(),function(){"use strict";angular.module("proteo.ui.wizard-states").directive("proteoUiWizardStates",function(){return{restrict:"E",transclute:!1,scope:{data:"=",type:"@"},controller:"proteoUiWizardStatesController",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-wizard-states/proteo-ui-wizard-states-tpl.html"}})}(),function(){"use strict";angular.module("proteo.ui.wizard-states").factory("wizardStatesEvent",["$rootScope","$state",function(a,b){var c={};return c.setData=function(a,b){this[a]=b,this.emitEvent(a)},c.getData=function(a){return this[a]},c.emitEvent=function(b){a.$emit(b)},c.out=function(a,c,d,e,f){c&&d&&(this[a]={flag:c,lastState:angular.copy(b.current),direction:e,data:f},b.go(d))},c.removeData=function(a){a?delete this[a]:(delete this.wizardStatesNextStep,delete this.wizardStatesPreviousStep,delete this.wizardStatesOut)},c}])}(),angular.module("proteo.ui.wizard-states.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-wizard-states/proteo-ui-wizard-states-tpl.html",'<div class="content wizard-states" ng-switch="type"><div ng-switch-when="link-step" class="wrap-link-step"><div ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-wizard-states/templates/link-step-wizard-states-tpl.html\'"></div></div><div ng-switch-when="link-no-num-step" class="wrap-link-step"><div ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-wizard-states/templates/link-no-num-step-wizard-states-tpl.html\'"></div></div><div ng-switch-when="circle-step" class="wrap-circle-step"><div ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-wizard-states/templates/circle-step-wizard-states-tpl.html\'"></div></div><div ng-switch-when="arrow-step" class="wrap-arrow-step"><div ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-wizard-states/templates/arrow-step-wizard-states-tpl.html\'"></div></div><div ng-switch-default><div ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-wizard-states/templates/link-step-wizard-states-tpl.html\'"></div></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-wizard-states/templates/arrow-step-wizard-states-tpl.html",'<div class="navBar clearfix"><ul class="progressBar clearfix"><li ng-repeat="wizardItem in currentSteps" ng-click="goToDirectStep(data.flow.directAccess, wizardItem, $index)" ng-class="{ \'active\' : state.current.name == state.current.parent+\'.\'+wizardItem.view,\'first\' : $first ,\'cursor-pointer\' : data.flow.directAccess && $index < getCurrentStepIndex() && ( !isDefined(currentSteps[getCurrentStepIndex()].blocked) && (currentSteps[getCurrentStepIndex()].blocked!=true) ) }" class="animate-repeat"><span class="helper-arrow"></span><proteo-ui-text translate="{{wizardItem.name}}"></proteo-ui-text></ul></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-wizard-states/templates/circle-step-wizard-states-tpl.html",'<ul class="circle-nav-bar clearfix"><li ng-repeat="wizardItem in currentSteps" ng-click="goToDirectStep(data.flow.directAccess, wizardItem, $index)" ng-class="{ \'active\' : state.current.name == state.current.parent+\'.\'+wizardItem.view,\n                      \'first\' : $first,\n                      \'last\' : $last,\n                      \'cursor-pointer\' : data.flow.directAccess && $index < getCurrentStepIndex() && ( !isDefined(currentSteps[getCurrentStepIndex()].blocked) && (currentSteps[getCurrentStepIndex()].blocked!=true) ) }" class="animate-repeat"><div class="clearfix"><span class="separator pull-left"></span> <span class="circle" ng-bind="$index+1"></span> <span class="separator pull-right"></span></div><proteo-ui-text translate="{{wizardItem.name}}" paragraph class="title"></proteo-ui-text></ul>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-wizard-states/templates/link-no-num-step-wizard-states-tpl.html",'<div class="navBar clearfix"><ol class="progressBar"><li ng-repeat="wizardItem in currentSteps" ng-click="goToDirectStep(data.flow.directAccess, wizardItem, $index)" ng-class="{ \'active\' : state.current.name == state.current.parent+\'.\'+wizardItem.view,\n                        \'first\' : $first ,\n                        \'cursor-pointer\' : data.flow.directAccess && $index < getCurrentStepIndex() && ( !isDefined(currentSteps[getCurrentStepIndex()].blocked) && (currentSteps[getCurrentStepIndex()].blocked!=true) ) }" class="animate-repeat"><proteo-ui-text translate="{{wizardItem.name}}"></proteo-ui-text></ol></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-wizard-states/templates/link-step-wizard-states-tpl.html",'<div class="navBar clearfix"><ol class="progressBar"><li ng-repeat="wizardItem in currentSteps" ng-click="goToDirectStep(data.flow.directAccess, wizardItem, $index)" ng-class="{ \'active\' : state.current.name == state.current.parent+\'.\'+wizardItem.view,\n                        \'first\' : $first ,\n                        \'cursor-pointer\' : data.flow.directAccess && $index < getCurrentStepIndex() && ( !isDefined(currentSteps[getCurrentStepIndex()].blocked) && (currentSteps[getCurrentStepIndex()].blocked!=true) ) }" class="animate-repeat"><proteo-ui-text>{{($index+1) + \'.\'}}</proteo-ui-text><proteo-ui-text translate="{{wizardItem.name}}"></proteo-ui-text></ol></div>')}]),!function(){"use strict";angular.module("proteo.ui.address-finder",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","proteo.canal-invoker","proteo.ui.popover","proteo.ui.popover.templates","proteo.ui.basics","proteo.ui.basics.templates","appverse"])}(),function(){"use strict";angular.module("proteo.ui.address-finder").controller("proteoUiAddressFinderController",["$log","$scope","$filter","$document","proteoUiAddressFinderService",function(a,b,c,d,e){function f(a,c){c||a.country.$setValidity("bfpoNotUK",826===b.model.manual.country.id)}function g(a,b){JSM._updateDataLayer({event_name:"drop down menu; "+d[0].title,event_action:a,event_label:b})}function h(){b.genericError&&(b.genericError=null)}function i(a){var b;return void 0!==a?(a=a.toUpperCase(),b=a.length-3," "===a.charAt(b-1)?a:a.substr(0,b)+" "+a.substr(b)):void 0}function j(a){a.$setPristine()}function k(){var a=angular.copy(b.model.ukPostcode);e.findAddressesByPostCode(a).then(function(a){a?(b.addressFromSelect=a.addresses,h(),b.manually=!1,b.active=!0,b.genericError=null):(b.genericError=m("COMMON_GENERIC_ERROR"),b.addressFromSelect={})},function(a){b.active=!0,b.genericError=m("COMMON_GENERIC_ERROR"),a&&a.exception&&a.exception.description&&(b.genericError=a.exception.description),b.addressFromSelect=null})}function l(){e.obtainCountries().then(function(a){b.countries=a.countries})}a.debug("proteoUiAddressFinderController loading");var m=c("translate");b.initOutput=b.output||{},b.output=b.output||{},b.countries=b.countries||[],b.showBfpo=b.showBfpo||!1,b.model=b.output,b.activeAddress=!1,b.bfpo=!1,b.genericError=null,b.regexPattern="",b.addressFromSelect=[],b.applyProduct||angular.equals(b.model,{})?(b.manually=null,b.active=!1):(b.manually=!0,b.active=!0,l()),b.dataLayerByCode=function(a,d,e,h){if(b.isPrevious||f(e,h),b.countries&&angular.isDefined(a)){var i=c("filter")(b.countries,{code:a})[0];g(i,m(d))}},b.dataLayerFn=function(a,b){if(angular.isDefined(a)){var c=a.numberOrName+" "+a.district+" "+a.streetName+" "+a.townOrCity;g(c,m(b))}},b.findAddress=function(){k()},b.cleanGenericError=h,b.resetForm=j,b.formatFinderInput=function(){b.model.ukPostcode=i(b.model.ukPostcode)},b.formatPostcodeForBfpoInput=function(){b.model.bfpo.postOfficePostCode=i(b.model.bfpo.postOfficePostCode)},b.formatPostcodeForUkResident=function(){b.model&&b.model.manual&&b.model.manual.country&&"GB"===b.model.manual.country.code?(b.model.manual.postcode=i(b.model.manual.postcode),b.regexPattern=new RegExp(/(GIR 0AA)|(SA99)|(WC2A)|([A-Z]{1,2}[0-9][0-9A-Z]?\s?[0-9][A-Z]{2})/i)):b.regexPattern=""},b.getMinlength=function(){return b.model&&b.model.manual&&b.model.manual.country&&"GB"===b.model.manual.country.code?5:1},b.submit=function(){b.output=b.model,b.active=!1,b.activeAddress=!0},b.deactivate=function(){b.active=!1,b.activeAddress=!1,b.manually=null,b.output=b.initOutput,b.model=b.initOutput},b.enterBfpoAddress=function(){b.manually=!0,b.bfpo=!0,b.active=!0,b.output=b.initOutput,b.model=b.initOutput},b.enterAddress=function(){b.manually=!0,b.bfpo=!1,b.active=!0,b.output=b.initOutput,b.model=b.initOutput}}])}(),function(){"use strict";angular.module("proteo.ui.address-finder").directive("proteoUiAddressFinder",function(){return{restrict:"E",scope:{output:"=",parentForm:"=formName"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-tpl.html",controller:"proteoUiAddressFinderController"}}).directive("proteoUiAddressFinderSavings",function(){return{restrict:"E",scope:{output:"=",applyProduct:"=?",countries:"=?",isPrevious:"=?",showBfpo:"=?",parentForm:"=formName"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-savings-tpl.html",controller:"proteoUiAddressFinderController"}})}(),function(){"use strict";angular.module("proteo.ui.address-finder").factory("proteoUiAddressFinderService",["$log","$q","proteocanalinvokerServices","COMMON_CUSTOMER_ONBOARD","CREDENTIALSPUBLIC_WEBADAPTER",function(a,b,c,d,e){a.debug("proteoUiAddressFinderServices loading");var f={};return f.findAddressesByPostCode=function(a){function d(a){g.resolve(a)}function f(a){g.reject(a)}var g=b.defer(),h=Object.create(null);h.postCode=a||null;var i={"HEADER.SERVICE_SCOPE":"PUBLIC"};return c.error(function(a){console.info("Exception in findAddressesByPostCode"),console.debug(a),g.reject(a)}),c.invoke({service:e.findAddressesByPostCode,callback:d,fail:f,data:h,headers:i,idLoader:"loaderGOEShere",bigLoader:!0}),g.promise},f.obtainCountries=function(){function a(a){f.resolve(a)}function e(a){f.reject(a)}var f=b.defer(),g={};return c.error(function(a){console.info("Exception in obtainCountries"),console.debug(a),f.reject(a)}),c.invoke({service:d.obtainCountries,callback:a,fail:e,data:g,idLoader:"selectCountriesLoader",bigLoader:!0}),f.promise},f}])}(),angular.module("proteo.ui.address-finder.templates",["/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-popover-tpl.html","/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-savings-tpl.html","/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-tpl.html"]),angular.module("/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-popover-tpl.html",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-popover-tpl.html",'<div ng-if="applyProduct"><proteo-ui-text paragraph translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_MANUALLY_IF"></proteo-ui-text><proteo-ui-text paragraph translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_MANUALLY_IF"></proteo-ui-text></div><div ng-if="!applyProduct"><proteo-ui-text paragraph translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_MANUALLY_IF"></proteo-ui-text><ul><li><proteo-ui-text translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_POPOVER_CONTENT1"></proteo-ui-text><li><proteo-ui-text translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_POPOVER_CONTENT2"></proteo-ui-text></ul></div>')}]),angular.module("/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-savings-tpl.html",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-savings-tpl.html",'<div class="row sm-margin-top"><div ng-if="!activeAddress" class="col-xs-12" ng-class="(ukForm.ukPostcode.$invalid && (ukForm.ukPostcode.$touched || parentForm.$submitted)) || genericError ? \'has-error\' :  \'sm-margin-bottom\'"><div class="row"><label class="col-xs-12 text-bold sm-margin-top" for="ukPostCodeInput" translate="SAVINGS_FINDADDRESS_REGISTRATION_POSTCODE"></label><ng-form name="ukForm"><div class="col-xs-7"><div class="input-group"><proteo-ui-input ng-change="cleanGenericError(); formatFinderInput()" ng-focus="resetForm(ukForm)" ng-disabled="manually" label="Postcode" id="ukPostcode" maxlength="8" name="ukPostcode" ng-maxlength="8" ng-model="model.ukPostcode" ng-pattern="/(GIR 0AA)|(SA99)|(WC2A)|([A-Z]{1,2}[0-9][0-9A-Z]?\\s?[0-9][A-Z]{2})/i" ng-required="!manually"></proteo-ui-input><span class="input-group-addon"></span> <span class="input-group-btn"><proteo-ui-button label="Find address" action="Find" type="button" class="pull-left no-margin-screen-xs" ng-click="findAddress()" ng-disabled="ukForm.$invalid || manually"><proteo-ui-text translate="SAVINGS_FINDADDRESS_COMMON_FIND_ADDRESS"></proteo-ui-text></proteo-ui-button></span></div></div><div class="col-xs-2 md-margin-bottom" ng-show="!genericError && ukForm.ukPostcode.$invalid && (ukForm.ukPostcode.$touched || parentForm.$submitted)"><proteo-ui-icon class="sm-margin-right" icon-bg="red" icon="alert"></proteo-ui-icon></div><div class="col-xs-2 md-margin-bottom" ng-show="!genericError && ukForm.ukPostcode.$valid && (ukForm.ukPostcode.$touched || parentForm.$submitted)"><proteo-ui-icon class="sm-margin-right" icon="check"></proteo-ui-icon></div><div class="col-xs-2 md-margin-bottom" ng-if="genericError"><proteo-ui-icon class="sm-margin-right" icon-bg="red" icon="alert"></proteo-ui-icon></div></ng-form></div><div class="has-error"><div class="col-xs-12 col-sm-5 md-margin-bottom pl-0" ng-show="ukForm.ukPostcode.$invalid && (ukForm.ukPostcode.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="ukForm.ukPostcode.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="ukForm.ukPostcode.$error.minlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_MIN_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="ukForm.ukPostcode.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="ukForm.ukPostcode.$error.pattern && !ukForm.ukPostcode.$error.minlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_POSTCODE"></proteo-ui-text></div><div class="col-xs-12 col-sm-5 md-margin-bottom pl-0" ng-if="genericError"><proteo-ui-text class="form-error">{{genericError}}</proteo-ui-text></div></div></div><div class="col-xs-12 sm-margin-top" ng-if="active && manually"><proteo-ui-text translate="SAVINGS_FINDADDRESS_YOUR_CURRENT_ADDRESS_OR_USE_OUR"></proteo-ui-text><proteo-ui-link ng-click="deactivate()"><proteo-ui-text ng-if="bfpo" translate="SAVINGS_FINDADDRESS_STANDARD_FORM"></proteo-ui-text><proteo-ui-text ng-if="!bfpo" translate="SAVINGS_FINDADDRESS_STANDARD_ADDRESS_FINDER"></proteo-ui-text></proteo-ui-link></div><div ng-if="active"><div ng-if="manually && !bfpo"><ng-form name="manuallyForm" novalidate><proteo-ui-form-group class="col-xs-12"><label for="country" translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_COUNTRY"></label><proteo-ui-form-control><select id="country" ng-options="country.country for country in countries track by country.id" class="form-control" ng-change="formatPostcodeForUkResident(); dataLayerByCode(model.manual.country, \'SAVINGS_FINDADDRESS_ADDRESS_FINDER_COUNTRY\', manuallyForm, false)" name="country" ng-model="model.manual.country" required><option value="" translate="SAVINGS_FINDADDRESS_COMMON_PLEASE_SELECT"></select></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyForm.country.$invalid && (manuallyForm.country.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyForm.country.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.country.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.country.$error.bfpoNotUK" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_RESIDENT_UK"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="houseNumberInput" translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_HOUSE_NUMBER"></label><proteo-ui-form-control><proteo-ui-input ng-change="model.manual.houseName = null" label=" houseNumber" id="houseNumberInput" maxlength="10" name="houseNumber" ng-maxlength="10" ng-model="model.manual.houseNumber" ng-required="!model.manual.houseName" type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyForm.houseNumber.$invalid && (manuallyForm.houseNumber.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyForm.houseNumber.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.houseNumber.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="houseNameInput" translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_HOUSE_NAME"></label><proteo-ui-form-control><proteo-ui-input ng-change="model.manual.houseNumber = null" label="houseName" id="houseNameInput" maxlength="60" name="houseName" ng-maxlength="60" ng-model="model.manual.houseName" ng-required="!model.manual.houseNumber" type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyForm.houseName.$invalid && (manuallyForm.houseName.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyForm.houseName.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.houseName.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="flatNumberInput" translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_FLAT"></label><proteo-ui-form-control><proteo-ui-input label="flatNumber" id="flatNumberInput" maxlength="10" name="flatNumber" ng-maxlength="10" ng-model="model.manual.flatNumber" type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyForm.flatNumber.$invalid && (manuallyForm.flatNumber.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyForm.flatNumber.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.flatNumber.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="streetNameInput" translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_STREET"></label><proteo-ui-form-control><proteo-ui-input label="streetName" id="streetNameInput" maxlength="60" name="streetName" ng-maxlength="60" ng-model="model.manual.streetName" required type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyForm.streetName.$invalid && (manuallyForm.streetName.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyForm.streetName.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.streetName.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="streetNameInput" translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_DISTRICT"></label><proteo-ui-form-control><proteo-ui-input label="district" id="districtInput" maxlength="60" name="district" ng-maxlength="60" ng-model="model.manual.district" type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyForm.district.$invalid && (manuallyForm.district.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyForm.district.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.district.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="townOrCityInput" translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_TOWN_CITY"></label><proteo-ui-form-control><proteo-ui-input label="townOrCity" id="townOrCityInput" maxlength="60" name="townOrCity" ng-maxlength="60" ng-model="model.manual.townOrCity" required type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyForm.townOrCity.$invalid && (manuallyForm.townOrCity.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyForm.townOrCity.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.townOrCity.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="countyInput" translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_COUNTY"></label><proteo-ui-form-control><proteo-ui-input label="county" id="countyInput" maxlength="60" name="county" ng-maxlength="60" ng-model="model.manual.county" type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyForm.county.$invalid && (manuallyForm.county.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyForm.county.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.county.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="postcodeInput" translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_POSTCODE"></label><proteo-ui-form-control><proteo-ui-input ng-blur="formatPostcodeForUkResident()" label="postcode" id="postcodeInput" name="postcode" minlength="getMinlength()" ng-minlength="getMinlength()" ng-maxlength="8" maxlength="8" ng-model="model.manual.postcode" ng-pattern="regexPattern" required></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyForm.postcode.$invalid && (manuallyForm.postcode.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyForm.postcode.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.postcode.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.postcode.$error.minlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_MIN_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.postcode.$error.pattern && !manuallyForm.postcode.$error.minlength && !manuallyForm.postcode.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_FORMAT_POSTCODE"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group></ng-form></div><div ng-if="manually && bfpo"><ng-form name="manuallyBfpoForm" novalidate><proteo-ui-form-group class="col-xs-12"><label for="serviceNumberOrRankInput" translate="SAVINGS_FINDADDRESS_ADDRESS_INPUT_SERVICENUMBER"></label><proteo-ui-form-control><proteo-ui-input label="serviceNumberOrRank" id="serviceNumberOrRankInput" maxlength="30" name="serviceNumberOrRank" ng-maxlength="30" ng-model="model.bfpo.serviceNumberOrRank" required type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyBfpoForm.serviceNumberOrRank.$invalid && (manuallyBfpoForm.serviceNumberOrRank.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyBfpoForm.serviceNumberOrRank.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyBfpoForm.serviceNumberOrRank.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="unitRegimentInput" translate="SAVINGS_FINDADDRESS_ADDRESS_INPUT_UNIT_REGIMENT"></label><proteo-ui-form-control><proteo-ui-input label="unitRegiment" id="unitRegimentInput" maxlength="30" name="unitRegiment" ng-maxlength="30" ng-model="model.bfpo.unitRegiment" required type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyBfpoForm.unitRegiment.$invalid && (manuallyBfpoForm.unitRegiment.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyBfpoForm.unitRegiment.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyBfpoForm.unitRegiment.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="unitRegimentInput" translate="SAVINGS_FINDADDRESS_ADDRESS_INPUT_BFPO_NUMBER"></label><proteo-ui-form-control><proteo-ui-input label="postOfficeNumber" id="postOfficeNumber" maxlength="30" name="postOfficeNumber" ng-maxlength="30" ng-model="model.bfpo.postOfficeNumber" type="text" required></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyBfpoForm.postOfficeNumber.$invalid && (manuallyBfpoForm.postOfficeNumber.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyBfpoForm.postOfficeNumber.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyBfpoForm.postOfficeNumber.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="postOfficePostCodeInput" translate="SAVINGS_FINDADDRESS_ADDRESS_INPUT_BFPO_POSTCODE"></label><proteo-ui-form-control><proteo-ui-input label="postOfficePostCode" id="postOfficePostCodeInput" maxlength="8" name="postOfficePostCode" ng-maxlength="30" ng-model="model.bfpo.postOfficePostCode" required type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyBfpoForm.postOfficePostCode.$invalid && (manuallyBfpoForm.postOfficePostCode.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyBfpoForm.postOfficePostCode.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyBfpoForm.postOfficePostCode.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group class="col-xs-12"><label for="selectCountriesLoader" translate="SAVINGS_FINDADDRESS_BFPO_COUNTRY"></label><proteo-ui-form-control><select id="selectCountriesLoader" ng-options="country.country for country in countries track by country.id" class="form-control" ng-change="dataLayerByCode(model.bfpo.country, \'SAVINGS_FINDADDRESS_ADDRESS_FINDER_COUNTRY\', manuallyBfpoForm, true)" name="country" ng-model="model.bfpo.country" required><option value="" translate="SAVINGS_FINDADDRESS_COMMON_PLEASE_SELECT"></select></proteo-ui-form-control><proteo-ui-form-error><div ng-show="manuallyBfpoForm.country.$invalid && (manuallyBfpoForm.country.$touched || parentForm.$submitted)"><proteo-ui-text class="form-error" ng-show="manuallyBfpoForm.country.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyBfpoForm.country.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text></div></proteo-ui-form-error></proteo-ui-form-group></ng-form></div><div ng-if="!manually"><ng-form name="formName"><div ng-class="formName.selectList.$invalid && (formName.selectList.$touched || formName.$submitted) ? \'has-error\' :  \'sm-margin-bottom\'"><div ng-if="addressFromSelect"><label class="col-xs-12 text-bold sm-margin-top" for="selectListInput" translate="SAVINGS_FINDADDRESS_REGISTRATION_SELECT_CHOOSE"></label><div class="address-finder col-xs-12 col-sm-8 col-lg-7"><select id="selectListInput" ng-change="dataLayerFn(model.selected, \'SAVINGS_FINDADDRESS_REGISTRATION_SELECT_CHOOSE\')" class="form-control" id="addressForm" name="selectList" ng-model="model.selected" ng-options="address.numberOrName + \' \' + address.streetName + \' \' + address.district + \' \' + address.townOrCity for address in addressFromSelect" ng-required="true" size="9"></select></div><div class="col-xs-12 col-sm-4 col-lg-5 md-margin-bottom" ng-show="formName.selectList.$invalid && (formName.selectList.$touched || formName.$submitted)"><proteo-ui-icon class="sm-margin-right" icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" ng-show="formName.selectList.$error.required" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="text-bold" ng-show="formName.selectList.$error.minlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_MIN_LENGTH"></proteo-ui-text><proteo-ui-text class="text-bold" ng-show="formName.selectList.$error.maxlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_LENGTH"></proteo-ui-text><proteo-ui-text class="text-bold" ng-show="formName.selectList.$error.pattern && !formName.selectList.$error.minlength" translate="SAVINGS_FINDADDRESS_COMMON_ERROR_POSTCODE"></proteo-ui-text></div><div class="col-xs-12 md-margin-top sm-margin-bottom"><div class="pull-left"><proteo-ui-button action="Choose" label="Choose address" type="button" id="selectFormId" ng-click="submit(formName)" ng-disabled="formName.$invalid"><proteo-ui-text translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_SELECT_BUTTON"></proteo-ui-text></proteo-ui-button></div></div></div></div></ng-form></div><div class="col-xs-12 md-margin-top" ng-if="!manually && (addressFromSelect || genericError)"><div class="row"><div class="col-xs-12"><proteo-ui-text paragraph translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_CANT_FIND"></proteo-ui-text></div><div class="col-xs-12"><proteo-ui-button label="Enter an address manually" action="Enter" type="button" ng-click="enterAddress()"><proteo-ui-text translate="SAVINGS_FINDADDRESS_ENTER_ADDRESS_MANUALLY"></proteo-ui-text></proteo-ui-button><proteo-ui-popover class="text-std-size" placement="top" title-popover="SAVINGS_FINDADDRESS_ADDRESS_FINDER_MANUALLY_POPOVER_TITLE" content="SAVINGS_FINDADDRESS_ADDRESS_FINDER_MANUALLY_POPOVER_TEXT" helper-text="SAVINGS_FINDADDRESS_ADDRESS_FINDER_MANUALLY_POPOVER_TEXT">[?]</proteo-ui-popover></div></div></div></div><div class="col-xs-12 sm-margin-top" ng-if="showBfpo && (!active && !activeAddress || (manually && !bfpo) || (!manually && !model.selected))"><proteo-ui-text translate="SAVINGS_FINDADDRESS_ENTER_ADDRESS_MANUALLY_BFPO_TEXT"></proteo-ui-text><proteo-ui-link label="Enter Address Manually" action="Enter" ng-click="enterBfpoAddress()"><proteo-ui-text translate="SAVINGS_FINDADDRESS_ENTER_ADDRESS_MANUALLY_BFPO_LINK"></proteo-ui-text></proteo-ui-link><proteo-ui-popover class="text-std-size" placement="top-left" size="h6" title-popover="SAVINGS_FINDADDRESS_ENTER_ADDRESS_MANUALLY_BFPO_TOOLTIP_TITLE" content="SAVINGS_FINDADDRESS_ENTER_ADDRESS_MANUALLY_BFPO_TOOLTIP_TEXT" helper-text="SAVINGS_FINDADDRESS_ENTER_ADDRESS_MANUALLY_BFPO_TOOLTIP_TEXT">[?]</proteo-ui-popover></div></div><div class="sm-margin-top" ng-if="!active && activeAddress"><proteo-ui-text class="no-margin-bottom" ng-if="model.selected.numberOrName || model.selected.streetName" paragraph="false">{{model.selected.subBuildingName}} {{model.selected.buildingName}} {{model.selected.numberOrName}} {{model.selected.streetName}}</proteo-ui-text><proteo-ui-text class="no-margin-bottom" ng-if="model.selected.district" paragraph="false">{{model.selected.district}}</proteo-ui-text><proteo-ui-text class="no-margin-bottom" ng-if="model.selected.townOrCity" paragraph="false">{{model.selected.townOrCity}}</proteo-ui-text><proteo-ui-text class="no-margin-bottom" ng-if="model.selected.postcode" paragraph="false">{{model.selected.postcode}}</proteo-ui-text><div class="sm-margin-top"><proteo-ui-link action="Deactivate Manually Address" label="Change current address" ng-click="deactivate()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="SAVINGS_FINDADDRESS_ADDRESS_FINDER_CHANGE_CURRENT"></proteo-ui-text></proteo-ui-link></div></div>');
}]),angular.module("/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-tpl.html",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-tpl.html",'<div class="row"><div class="col-xs-12"><proteo-ui-text class="text-bold" ng-if="!active || !manually" translate="COMMON_CREDENTIALS_PUBLIC_YOUR_CURRENT_ADDRESS"></proteo-ui-text><div ng-if="active && manually"><proteo-ui-text class="text-bold" translate="COMMON_CREDENTIALS_PUBLIC_YOUR_CURRENT_ADDRESS"></proteo-ui-text><proteo-ui-text class="text-bold" translate="COMMON_CREDENTIALS_PUBLIC_YOUR_CURRENT_ADDRESS_OR"></proteo-ui-text><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-link class="text-bold" ng-click="deactivate()"><proteo-ui-text translate="COMMON_CREDENTIALS_PUBLIC_FIND_YOUR_ADDRESS"></proteo-ui-text></proteo-ui-link></div></div></div><div class="row sm-margin-top" ng-if="!activeAddress"><div class="col-xs-12" ng-class="ukForm.ukPostcode.$invalid && (ukForm.ukPostcode.$touched || parentForm.$submitted) ? \'has-error\' :  \'\'" ng-if="!active || !manually"><ng-form name="ukForm"><proteo-ui-form-group><label for="ukPostCodeInput" translate="COMMON_CREDENTIALS_PUBLIC_REGISTRATION_POSTCODE"></label><label ng-if="active && !manually" translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_POSTCODE_QUOTE"></label><proteo-ui-form-control><div class="input-group"><proteo-ui-input class="form-control-border-right" label="Postcode" id="ukPostCodeInput" maxlength="8" name="ukPostcode" ng-maxlength="8" ng-model="model.ukPostcode" ng-pattern="/(GIR 0AA)|(SA99)|(WC2A)|([A-Z]{1,2}[0-9][0-9A-Z]?\\s?[0-9][A-Z]{2})/i" required></proteo-ui-input><span class="input-group-btn"><proteo-ui-button label="Find address / Change current address" action="Find" type="button" class="pull-left no-margin-screen-xs" ng-class="{\'btn-white\': (manually === false)}" ng-click="findAddress()" ng-disabled="ukForm.$invalid"><proteo-ui-text ng-if="manually !== false" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_FIND_ADDRESS"></proteo-ui-text><proteo-ui-text ng-if="manually === false" translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_CHANGE_CURRENT"></proteo-ui-text></proteo-ui-button></span></div></proteo-ui-form-control><proteo-ui-form-error><proteo-ui-text class="form-error" ng-show="ukForm.ukPostcode.$error.required" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="ukForm.ukPostcode.$error.minlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_MIN_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="ukForm.ukPostcode.$error.maxlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="ukForm.ukPostcode.$error.pattern && !ukForm.ukPostcode.$error.minlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_POSTCODE"></proteo-ui-text></proteo-ui-form-error></proteo-ui-form-group></ng-form></div><div class="col-xs-12 sm-margin-top" ng-if="!active"><proteo-ui-button label="Enter Address Manually" action="Enter" type="button" class="btn-white pull-left" ng-click="enterAddress()"><proteo-ui-text translate="COMMON_CREDENTIALS_PUBLIC_ENTER_ADDRESS_MANUALLY"></proteo-ui-text></proteo-ui-button><proteo-ui-popover class="text-std-size" placement="top-left" size="h6" template-url="/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-popover-tpl.html" title-popover="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_MANUALLY" helper-text="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_POPOVER_LINK_TITLE" helper-text="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_POPOVER_LINK_TITLE">[?]</proteo-ui-popover></div><div class="col-xs-12" ng-if="!active"><proteo-ui-text class="text-sm" translate="COMMON_CREDENTIALS_PUBLIC_ENTER_ADDRESS_MANUALLY_QUOTE"></proteo-ui-text></div><div class="col-xs-12" ng-if="active"><div ng-if="manually"><ng-form name="manuallyForm" novalidate><proteo-ui-form-group><label for="houseNumberInput" translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_HOUSE_NUMBER"></label><proteo-ui-form-control><proteo-ui-input label="House Number" id="houseNumberInput" maxlength="30" name="houseNumber" ng-maxlength="30" ng-model="output.houseNumber" ng-required="!output.houseName && output.houseName !== \'\'" type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><proteo-ui-text class="form-error" ng-show="manuallyForm.houseNumber.$error.required" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.houseNumber.$error.maxlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_LENGTH"></proteo-ui-text></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group><label for="houseNameInput" translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_HOUSE_NAME"></label><proteo-ui-form-control><proteo-ui-input label="Hose Name" id="houseNameInput" maxlength="30" name="houseName" ng-maxlength="30" ng-model="output.houseName" ng-required="!output.houseNumber && output.houseNumber !== \'\'" type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><proteo-ui-text class="form-error" ng-show="manuallyForm.houseName.$error.required" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.houseName.$error.maxlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_LENGTH"></proteo-ui-text></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group><label for="flatNumberInput" translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_FLAT"></label><proteo-ui-form-control><proteo-ui-input label="Flat number" id="flatNumberInput" maxlength="30" name="flatNumber" ng-maxlength="30" ng-model="output.flatNumber" type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><proteo-ui-text class="form-error" ng-show="manuallyForm.flatNumber.$error.maxlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_LENGTH"></proteo-ui-text></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group><label for="streetInput" translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_STREET"></label><proteo-ui-form-control><proteo-ui-input label="Street" id="streetInput" maxlength="30" name="street" ng-maxlength="30" ng-model="output.streetName" required type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><proteo-ui-text class="form-error" ng-show="manuallyForm.street.$error.required" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.street.$error.maxlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_LENGTH"></proteo-ui-text></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group><label for="townInput" translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_TOWN_CITY"></label><proteo-ui-form-control><proteo-ui-input label="Town / City" id="townInput" maxlength="30" name="town" ng-maxlength="30" ng-model="output.townOrCity" required type="text"></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><proteo-ui-text class="form-error" ng-show="manuallyForm.town.$error.required" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.town.$error.maxlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_LENGTH"></proteo-ui-text></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group><label for="countryInput" translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_COUNTRY"></label><proteo-ui-form-control><select class="form-control" id="countryInput" ng-change="dataLayerByCode(output.codeCountry, \'COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_COUNTRY\')" name="country" ng-model="output.codeCountry" required><option value="" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_PLEASE_SELECT"><option ng-repeat="country in countries" value="{{country.code}}">{{country.country}}</select></proteo-ui-form-control><proteo-ui-form-error><proteo-ui-text class="form-error" ng-show="manuallyForm.country.$error.required" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.country.$error.maxlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_LENGTH"></proteo-ui-text></proteo-ui-form-error></proteo-ui-form-group><proteo-ui-form-group><label for="postCodeInput" translate="COMMON_CREDENTIALS_PUBLIC_REGISTRATION_POSTCODE"></label><label for="postCodeInput" translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_POSTCODE_QUOTE"></label><proteo-ui-form-control><proteo-ui-input label="Postcode" id="postCodeInput" maxlength="8" name="postCode" ng-maxlength="8" ng-model="output.postCode" required></proteo-ui-input></proteo-ui-form-control><proteo-ui-form-error><proteo-ui-text class="form-error" ng-show="manuallyForm.postCode.$error.required" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.postCode.$error.minlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_MIN_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.postCode.$error.maxlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="manuallyForm.postCode.$error.pattern && !manuallyForm.postCode.$error.minlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_POSTCODE"></proteo-ui-text></proteo-ui-form-error></proteo-ui-form-group></ng-form></div><div ng-if="!manually"><ng-form name="formName"><proteo-ui-form-group><label for="selectListInput" translate="COMMON_CREDENTIALS_PUBLIC_REGISTRATION_SELECT_CHOOSE"></label><proteo-ui-form-control><div class="address-finder"><select ng-change="dataLayerFn(model.address, \'COMMON_CREDENTIALS_PUBLIC_REGISTRATION_SELECT_CHOOSE\')" class="d-block form-control" id="selectListInput" name="selectList" ng-change="changeFrom()" ng-model="model.address" ng-options="address.subBuildingName + \' \' + address.buildingName + \' \' + address.numberOrName + \' \' + address.district + \' \' + address.streetName + \' \' + address.townOrCity for address in addressFromSelect" ng-required="true" size="9"></select></div></proteo-ui-form-control><proteo-ui-form-error><proteo-ui-text class="form-error" ng-show="formName.selectList.$error.required" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_ENTERVALUE"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="formName.selectList.$error.minlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_MIN_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="formName.selectList.$error.maxlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_LENGTH"></proteo-ui-text><proteo-ui-text class="form-error" ng-show="formName.selectList.$error.pattern && !formName.selectList.$error.minlength" translate="COMMON_CREDENTIALS_PUBLIC_COMMON_ERROR_POSTCODE"></proteo-ui-text></proteo-ui-form-error></proteo-ui-form-group><div class="col-xs-12 md-margin-top sm-margin-bottom"><div class="pull-left"><proteo-ui-button action="Choose" label="Choose address" type="button" id="selectFormId" ng-click="submit(formName)" ng-disabled="formName.$invalid"><proteo-ui-text translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_SELECT_BUTTON"></proteo-ui-text></proteo-ui-button></div></div><div class="col-xs-12"><proteo-ui-text paragraph translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_CANT_FIND"></proteo-ui-text></div></ng-form><div class="col-xs-12 sm-margin-top"><proteo-ui-button label="Enter an address manually" action="Enter" type="button" class="btn-white pull-left" ng-click="enterAddress()"><proteo-ui-text translate="COMMON_CREDENTIALS_PUBLIC_ENTER_ADDRESS_MANUALLY"></proteo-ui-text></proteo-ui-button><proteo-ui-popover class="text-std-size" placement="top" size="h6" template-url="/spasR50/credentialsPublic/components/proteo-ui-address-finder/proteo-ui-address-finder-popver-tpl.html" title-popover="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_MANUALLY" helper-text="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_POPOVER_LINK_TITLE">[?]</proteo-ui-popover></div><div class="col-xs-12"><proteo-ui-text class="text-sm" translate="COMMON_CREDENTIALS_PUBLIC_ENTER_ADDRESS_MANUALLY_QUOTE"></proteo-ui-text></div></div></div></div><div class="sm-margin-top" ng-if="!active && activeAddress"><proteo-ui-text class="no-margin-bottom" ng-if="model.address.numberOrName || model.address.streetName" paragraph="false">{{model.address.subBuildingName}} {{model.address.buildingName}} {{model.address.numberOrName}} {{model.address.streetName}}</proteo-ui-text><proteo-ui-text class="no-margin-bottom" ng-if="model.address.district" paragraph="false">{{model.address.district}}</proteo-ui-text><proteo-ui-text class="no-margin-bottom" ng-if="model.address.townOrCity" paragraph="false">{{model.address.townOrCity}}</proteo-ui-text><proteo-ui-text class="no-margin-bottom" ng-if="model.address.postcode" paragraph="false">{{model.address.postcode}}</proteo-ui-text><div class="sm-margin-top"><proteo-ui-link action="Deactivate Manually Address" label="Change current address" ng-click="deactivate()"><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="COMMON_CREDENTIALS_PUBLIC_ADDRESS_FINDER_CHANGE_CURRENT"></proteo-ui-text></proteo-ui-link></div></div>')}]),!function(){"use strict";angular.module("proteo.ui.marketing-area",["appverse.cache","ui.bootstrap","proteo.canal-invoker","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.marketing-area").directive("proteoUiMarketingArea",function(){return{restrict:"E",scope:!0,replace:!0,templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-marketing-area/proteo-ui-marketing-area-tpl.html"}})}(),angular.module("proteo.ui.marketing-area.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-marketing-area/proteo-ui-marketing-area-tpl.html","<div><h2>This is a marketing area</h2></div>")}]),!function(){"use strict";angular.module("proteo.ui.respond-function",["appverse.cache","ui.bootstrap","proteo.canal-invoker","proteo.ui.basics","proteo.ui.basics.templates","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.respond-function").controller("proteoUiRespondFunctionController",["$log","$scope","$rootScope","proteoUiRespondFunctionService",function(a,b,c,d){function e(){var c=b.userId;null!=c&&d.getLastCreditCard(c).then(function(a){angular.isDefined(a.lastFiveDigits)&&(b.model.lastFiveDigits=parseInt(a.lastFiveDigits)),angular.isDefined(a.validationNumber)&&(b.validationNumber=a.validationNumber)},function(b){a.debug(b)})}b.model={lastFiveDigits:null},b.missing={lastFiveDigits:!1,responseCode:!1},b.noNumber=function(a){var c=b.model[a];return angular.isString(c)&&(c=parseInt(c)),angular.isDefined(c)&&null!=c?(b.missing[a]=!1,!1):(b.missing[a]=!0,!0)},c.$on("authenticateCardReader",function(){b.authenticate()}),b.authenticate=function(){b.noNumber("lastFiveDigits")||b.noNumber("responseCode")?b.submitFn({val:!1}):d.respondAuthentication(b.userId,b.model.lastFiveDigits,b.model.responseCode).then(function(c){angular.isDefined(c)&&angular.isDefined(c.isSuccessful)?b.submitFn({val:c.isSuccessful}):a.debug("No res received")},function(c){a.debug(c),b.submitFn({val:!1})})},e()}])}(),function(){"use strict";angular.module("proteo.ui.respond-function").directive("proteoUiRespondFunction",function(){return{restrict:"E",scope:{userId:"@userId",model:"=output",submitFn:"&submit"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-respond-function/proteo-ui-respond-function-tpl.html",controller:"proteoUiRespondFunctionController"}})}(),function(){"use strict";angular.module("proteo.ui.respond-function").factory("authenticateCardReader",["$rootScope",function(a){var b={};return b.authenticate=function(){a.$emit("authenticateCardReader")},b}]).factory("proteoUiRespondFunctionService",["$q","$filter","proteocanalinvokerServices","BULKPAYMENTSBIZ_WEBADAPTER","serviceInvocation",function(a,b,c,d,e){var f={};return f.getLastCreditCard=function(b){function e(a){g.resolve(a)}function f(a){g.reject(a)}var g=a.defer(),h=Object.create(null);return h.isMock="true",h.customerId=b,c.error(function(a){g.reject(a)}),c.invoke({service:d.getLastCreditCard,callback:e,fail:f,data:h}),g.promise},f.respondAuthentication=function(b,e,f){function g(a){i.resolve(a)}function h(a){i.reject(a)}var i=a.defer(),j=Object.create(null);return j.isMock="true",j.customerId=b,j.lastFiveDigits=e,j.responseCode=f,c.error(function(a){i.reject(a)}),c.invoke({service:d.isValidCreditCardAndToken,callback:g,fail:h,data:j}),i.promise},f.getProteoUiRespondFunction=function(a){return e.callService(a)},f}])}(),angular.module("proteo.ui.respond-function.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-respond-function/proteo-ui-respond-function-tpl.html",'<!DOCTYPE html><div class="row"><div class="col-xs-12"><div class="row"><div class="col-xs-12"><div class="row"><div class="col-xs-12"><div class="row"><proteo-ui-text class="text-bold col-xs-12 sm-margin-bottom" translate="COMMON_RESPONDFUNCTION_STEP_1"></proteo-ui-text><proteo-ui-text class="col-xs-12 sm-margin-bottom" translate="COMMON_RESPONDFUNCTION_INSTRUCTIONAL_TEXT_5_DIGITS"></proteo-ui-text></div></div><div class="col-xs-12"><div class="row"><div class="col-xs-12 col-md-6"><div class="row"><div class="col-sm-6 no-padding-right"><proteo-ui-text class="text-bold" translate="COMMON_RESPONDFUNCTION_FIELD_NAME"></proteo-ui-text><span class="no-margin-right pull-right">**** **** ****</span></div><div class="col-sm-2"><ng-form name="respondFunctionForm"><proteo-ui-input type="number" ng-maxlength="5" ng-minlength="5" ng-model="model.lastFiveDigits" ng-blur="noNumber(\'lastFiveDigits\')" ng-required="true" ng-class="model.responseCode==null && missing[\'lastFiveDigits\'] ? \'error\' : \'\'" placeholder=""></proteo-ui-input></ng-form></div></div></div><div class="col-xs-12 col-md-6"><img alt="" src="/spasR50/credentialsPublic/styles/images/8073b56d.4f634fb8.card_image.png"></div></div></div></div></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-xs-12"><div class="row"><proteo-ui-text class="text-bold col-xs-12 sm-margin-bottom" translate="COMMON_RESPONDFUNCTION_STEP_2"></proteo-ui-text><proteo-ui-text class="col-xs-12 sm-margin-bottom" translate="COMMON_RESPONDFUNCTION_INSTRUCTIONAL_TEXT_RESPOND"></proteo-ui-text><img class="col-xs-7" alt="" src="/spasR50/credentialsPublic/styles/images/2d5863a0.691c1649.691c1649.respond_image.png"></div></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-xs-12"><div class="row"><proteo-ui-text class="text-bold col-xs-12 sm-margin-bottom" translate="COMMON_RESPONDFUNCTION_STEP_3"></proteo-ui-text><proteo-ui-text class="col-xs-12 sm-margin-bottom" translate="COMMON_RESPONDFUNCTION_INSTRUCTIONAL_TEXT_8_DIGITS"></proteo-ui-text><proteo-ui-text class="text-bold text-md col-xs-12">{{validationNumber}}</proteo-ui-text></div></div><proteo-ui-thematic-break></proteo-ui-thematic-break><div class="col-xs-12"><div class="row"><proteo-ui-text class="text-bold col-xs-12 sm-margin-bottom" translate="COMMON_RESPONDFUNCTION_STEP_4"></proteo-ui-text><proteo-ui-text class="col-xs-12 sm-margin-bottom" translate="COMMON_RESPONDFUNCTION_SUPPORTING_TEXT_8_DIGITS"></proteo-ui-text><div class="col-xs-12 col-md-3"><ng-form name="respondFunctionForm"><proteo-ui-input type="number" ng-maxlength="8" ng-minlength="8" ng-model="model.responseCode" ng-required="true" ng-blur="noNumber(\'responseCode\')" ng-class="model.responseCode==null && missing[\'responseCode\'] ? \'error\' : \'\'"></proteo-ui-input></ng-form></div></div></div></div></div></div>')}]),!function(){"use strict";angular.module("proteo.ui.authentication-panel",["appverse.cache","ui.bootstrap","proteo.invocation-service","proteo.ui.basics","proteo.ui.basics.templates","proteo.ui.popover","proteo.ui.popover.templates","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";function a(a,b,c){function d(){angular.isDefined(b.signatureOwnLiterals)&&b.signatureOwnLiterals&&(a.ownLiteral=b.APP_ID+"_AUTHENTICATION_PANEL_DESCRIPTION",a.ownLiteralBrackets=b.APP_ID+"_AUTHENTICATION_PANEL_DESCRIPTION_BRACKETS")}function e(b){return angular.isDefined(b[a.passwordName])&&b[a.passwordName].$touched&&b[a.passwordName].$invalid||a.displayEmptyError}function f(){g(),d()}function g(){a.validationRules={password:{required:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_REQUIRED",value:i.password.required},parse:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_REQUIRED",value:i.password.required},minlength:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_MINLENGTH",translateValues:{minlength:i.password.minlength},value:i.password.minlength},maxlength:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_MAXLENGTH",translateValues:{maxlength:i.password.maxlength},value:i.password.maxlength},pattern:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_FORMAT",value:i.password.pattern},validPassword:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_VALID",value:i.password.validPassword}},spPassword:{required:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_REQUIRED",value:i.spPassword.required},minlength:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_MINLENGTH",translateValues:{minlength:i.spPassword.minlength},value:i.spPassword.minlength},maxlength:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_MAXLENGTH",translateValues:{maxlength:i.spPassword.maxlength},value:i.spPassword.maxlength},pattern:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_FORMAT",value:i.spPassword.pattern},validPassword:{msg:"AUTHENTICATION_PANEL_ERROR_PASSWORD_VALID",value:i.spPassword.validPassword}},code:{required:{msg:"AUTHENTICATION_PANEL_ERROR_CODE_REQUIRED",value:i.code.required},minlength:{msg:"AUTHENTICATION_PANEL_ERROR_CODE_MINLENGTH",translateValues:{minlength:i.code.minlength},value:i.code.minlength},maxlength:{msg:"AUTHENTICATION_PANEL_ERROR_CODE_MAXLENGTH",translateValues:{maxlength:i.code.maxlength},value:i.code.maxlength},pattern:{msg:"AUTHENTICATION_PANEL_ERROR_CODE_FORMAT",value:i.code.pattern},validPassword:{msg:"AUTHENTICATION_PANEL_ERROR_CODE_VALID",value:i.password.validPassword}}}}console.log("Min and Max:::::",a.spMinLength," ",a.spMaxLength);var h=c("translate"),i={password:{required:!0,minlength:6,maxlength:15,pattern:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]/,validPassword:!0},spPassword:{required:!0,minlength:a.spMinLength||1,maxlength:a.spMaxLength||30,pattern:/./,validPassword:!0},code:{required:!0,minlength:6,maxlength:15,pattern:/^[A-Za-z0-9]*$/,validPassword:!1}};a.ownLiterales="",a.viewOTP=!1,a.displayEmptyError=!1,a.$watchCollection(function(){return a.resetInput},function(b,c){b&&(a.passwordForm.$setPristine(),a.displayEmptyError=!0)},!0),a.code={spPassword:"AUTHENTICATION_PANEL_PASSWORD",password:"AUTHENTICATION_PANEL_PASSWORD",code:"AUTHENTICATION_PANEL_CODE"},a.validationRules={},a.passwordName="passwordInput",a.showErrors=e,f(),a.firstElem=function(b,c){return b&&!angular.equals(b,{})?(a.validationRules[c][Object.keys(b)[Object.keys(b).length-1]]||(a.validationRules[c][Object.keys(b)[Object.keys(b).length-1]]={msg:"AUTHENTICATION_PANEL_ERROR_"+angular.uppercase(a.mechanism)+"_VALID",value:i[a.mechanism].unHandled}),h(a.validationRules[c][Object.keys(b)[Object.keys(b).length-1]].msg,a.validationRules[c][Object.keys(b)[Object.keys(b).length-1]].translateValues)):void 0}}a.$inject=["a","b","c"],a.$inject=["$scope","APP_CONFIG","$filter"],angular.module("proteo.ui.authentication-panel").controller("proteoUiAuthenticationPanelController",a)}(),function(){"use strict";angular.module("proteo.ui.authentication-panel").directive("proteoUiAuthenticationPanel",[function(){return{restrict:"E",transclude:!0,replace:!0,scope:{oneError:"@?",enteredPassword:"=",mechanism:"@",resetInput:"=?"},controller:"proteoUiAuthenticationPanelController",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-authentication-panel/proteo-ui-authentication-panel-tpl.html"}}]).directive("proteoUiAuthenticationPanelSp",[function(){return{restrict:"E",transclude:!0,replace:!0,scope:{oneError:"@?",enteredPassword:"=",mechanism:"@",resetInput:"=?",spMinLength:"=?",spMaxLength:"=?"},controller:"proteoUiAuthenticationPanelController",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-authentication-panel/proteo-ui-authentication-panel-tpl.html"}}]).directive("proteoUiOtpAuthenticationPanel",[function(){return{restrict:"E",transclude:!0,replace:!0,scope:{enteredOtp:"=",resetInput:"=?",isSms:"=?",isSca:"=?",isPaySca:"@?"},controller:"proteoUiOTPAuthenticationPanelController",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-authentication-panel/proteo-ui-otp-authentication-panel-tpl.html"}}]).directive("proteoUiOtpAppAuthenticationPanel",[function(){return{restrict:"E",transclude:!0,replace:!0,scope:{enteredOtp:"=",resetInput:"=?",isSms:"=?",isPaySca:"@?"},controller:"proteoUiOTPAuthenticationPanelController",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-authentication-panel/proteo-ui-otpapp-authentication-panel-tpl.html"}}])}(),function(){"use strict";function a(a){a.isSca=a.isSca||!1,a.isSms=a.isSms||!1,a.isPaymentSca="true"===a.isPaySca,a.isOpen=a.isOpen||!1,a.showErrors=function(b){return angular.isDefined(b.OTPInput)&&b.OTPInput.$touched&&b.OTPInput.$invalid||a.displayEmptyError},a.validationRules={required:{msg:"AUTHENTICATION_PANEL_ERROR_OTP_REQUIRED",value:!0},minlength:{msg:"AUTHENTICATION_PANEL_ERROR_OTP_FORMAT",value:6},maxlength:{msg:"AUTHENTICATION_PANEL_ERROR_OTP_FORMAT",value:15},validPassword:{msg:"AUTHENTICATION_PANEL_ERROR_OTP_FORMAT",value:!1}},a.validationRulesSca={required:{msg:"AUTHENTICATION_PANEL_ERROR_OTP_REQUIRED",value:!0}}}a.$inject=["a"],a.$inject=["$scope"],angular.module("proteo.ui.authentication-panel").controller("proteoUiOTPAuthenticationPanelController",a)}(),function(){"use strict";angular.module("proteo.ui.authentication-panel").directive("proteoUiScaOtpAuthenticationPanel",[function(){return{restrict:"E",transclude:!0,replace:!0,scope:{enteredOtp:"=",resetInput:"=?",isSms:"=?",isSca:"@?",isPaySca:"@?"},controller:"proteoUiOTPAuthenticationPanelController",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-authentication-panel/proteo-ui-otp-authentication-panel-tpl.html"}}])}(),angular.module("proteo.ui.authentication-panel.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-authentication-panel/proteo-ui-authentication-panel-tpl.html",'<div class="row"><ng-form class="col-xs-12" name="passwordForm" ng-class="{\'error xs-padding-top sm-padding-bottom\' : showErrors(passwordForm), \'success\' : !showErrors(passwordForm)}"><div class="row"><div ng-if="!ownLiteral" class="col-xs-12"><label class="label-std"><proteo-ui-text class="xs-padding-right" translate="AUTHENTICATION_PANEL_ENTER_YOUR"></proteo-ui-text><proteo-ui-text translate="{{code[mechanism]}}"></proteo-ui-text>:</label><proteo-ui-text translate="AUTHENTICATION_PANEL_DFLT_TXT"></proteo-ui-text><proteo-ui-popover placement="top" title-popover="{{\'AUTHENTICATION_PANEL_INFO_TOOLTIP_TITLE\'|translate}}" content="{{\'AUTHENTICATION_PANEL_INFO_TOOLTIP_BODY\'|translate}}" helper-text="AUTHENTICATION_PANEL_INFO_TOOLTIP_LINK_TITLE"><proteo-ui-text class="text-bold">[?]</proteo-ui-text></proteo-ui-popover></div><div ng-if="ownLiteral" class="col-xs-12"><label class="label-std"><proteo-ui-text translate="{{ownLiteral}}"></proteo-ui-text></label><proteo-ui-text translate="{{ownLiteralBrackets}}"></proteo-ui-text><proteo-ui-popover placement="top" title-popover="{{\'AUTHENTICATION_PANEL_INFO_TOOLTIP_TITLE\'|translate}}" content="{{\'AUTHENTICATION_PANEL_INFO_TOOLTIP_BODY\'|translate}}" helper-text="AUTHENTICATION_PANEL_INFO_TOOLTIP_LINK_TITLE"><proteo-ui-text class="text-bold">[?]</proteo-ui-text></proteo-ui-popover></div></div><div class="row"><div class="col-xs-5 form-group" ng-class="{\'has-feedback has-error\' : showErrors(passwordForm), \'has-feedback has-succees\' : !showErrors(passwordForm)}"><proteo-ui-input class="form-control" id="{{passwordName}}" name="{{passwordName}}" ng-maxlength="validationRules[mechanism].maxlength.value" ng-minlength="validationRules[mechanism].minlength.value" ng-model="enteredPassword" ng-pattern="validationRules[mechanism].pattern.value" ng-required="{{validationRules[mechanism].required.value}}" valid-password type="password" ng-change="displayEmptyError = false"></proteo-ui-input></div><div class="col-xs-2" ng-show="showErrors(passwordForm)"><div ng-if="!oneError" ng-repeat="(key, value) in passwordForm[passwordName].$error" ng-show="validationRules[mechanism][key].value && value"><div class="errot-text icon"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon></div></div><div ng-if="oneError && !displayEmptyError"><div class="icon"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon></div></div></div><div class="col-xs-2" ng-show="!showErrors(passwordForm) &&  (passwordForm.{{passwordName}}.$touched || passwordForm.$submitted)"><div class="errot-text icon"><proteo-ui-icon icon="check"></proteo-ui-icon></div></div></div><div ng-class="{\'has-feedback has-error\' : showErrors(passwordForm), \'has-feedback has-succees\' : !showErrors(passwordForm)}" ng-show="showErrors(passwordForm)"><div ng-if="!oneError" ng-repeat="(key, value) in passwordForm[passwordName].$error" ng-show="validationRules[mechanism][key].value && value"><div class="form-error"><proteo-ui-text ng-bind="validationRules[mechanism][key].msg | translate:validationRules[mechanism][key].translateValues"></proteo-ui-text></div></div><div ng-if="oneError && !displayEmptyError"><div class="form-error"><proteo-ui-text>{{firstElem(passwordForm[passwordName].$error, mechanism)}}</proteo-ui-text></div></div></div></ng-form></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-authentication-panel/proteo-ui-otp-authentication-panel-tpl.html",'<div class="row"><ng-form name="OTPForm" class="col-xs-12" ng-class="{\'error xs-padding-top sm-padding-bottom\' : !isSca && showErrors(OTPForm), \'success\' : !showErrors(OTPForm)}"><div class="row" ng-if="!isPaymentSca"><div class="col-xs-12"><div ng-if="!isSms"><h3 class="text-bold lg-margin-bottom" translate="AUTHENTICATION_PANEL_OTP_TITLE"></h3><proteo-ui-text paragraph translate="AUTHENTICATION_PANEL_OTP_SUB_TITLE"></proteo-ui-text></div><div ng-if="isSms"><h3 class="text-bold lg-margin-bottom" translate="AUTHENTICATION_PANEL_OTP_TITLE_MOBILE"></h3><proteo-ui-text paragraph translate="AUTHENTICATION_PANEL_OTP_SUB_TITLE_MOBILE"></proteo-ui-text></div></div></div><div class="row" ng-if="isPaymentSca"><div class="col-xs-12"><div ng-if="!isSms"><h3 class="text-bold lg-margin-bottom" translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_TITLE_SCA"></h3><proteo-ui-text paragraph translate="AUTHENTICATION_PANEL_OTP_SUB_TITLE_SCA"></proteo-ui-text></div><div ng-if="isSms"><h3 class="text-bold lg-margin-bottom" translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_TITLE_SCA"></h3><proteo-ui-text paragraph translate="AUTHENTICATION_PANEL_OTP_SUB_TITLE_MOBILE_SCA"></proteo-ui-text></div></div></div><div class="row"><div class="col-xs-8 col-sm-6 col-md-4 form-group" ng-class="{\'has-feedback has-error\' : showErrors(OTPForm), \'has-feedback has-succees\' : !showErrors(OTPForm)}"><div class="input-group"><div class="input-group"><proteo-ui-input type="{{!viewOTP ? \'password\' : \'text\'}}" class="form-control" id="OTPInput" name="OTPInput" ng-model="enteredOtp" ng-required="true" ng-pattern="/^[0-9]*$/" ng-change="displayEmptyError = false"></proteo-ui-input><proteo-ui-icon ng-show="OTPForm && OTPForm.OTPInput.$viewValue" ng-click="viewOTP = !viewOTP" class="shift-icon input-group-addon" icon="eye"></proteo-ui-icon></div><proteo-ui-icon ng-show="showErrors(OTPForm)" class="input-group-addon" icon="alert"></proteo-ui-icon><proteo-ui-icon ng-show="!showErrors(OTPForm) && (OTPForm.OTPInput.$touched || OTPForm.$submitted)" class="input-group-addon" icon="check"></proteo-ui-icon></div></div></div><div class="has-error" ng-show="showErrors(OTPForm)"><div ng-show="!displayEmptyError && OTPForm.OTPInput.$error.pattern"><proteo-ui-text class="form-error" translate="AUTHENTICATION_PANEL_ERROR_OTP_FORMAT1"></proteo-ui-text></div><div ng-show="!displayEmptyError && OTPForm.OTPInput.$error.required"><proteo-ui-text class="form-error" translate="AUTHENTICATION_PANEL_ERROR_OTP_REQUIRED"></proteo-ui-text></div></div><div class="row md-margin-bottom" ng-if="!isPaymentSca"><div class="col-xs-12"><h2 translate="AUTHENTICATION_PANEL_TROUBLESHOOTING_TITLE"></h2><proteo-ui-text paragraph translate="AUTHENTICATION_PANEL_TROUBLESHOOTING_SUBTITLE"></proteo-ui-text><ul class="unordered-list"><li><proteo-ui-text translate="AUTHENTICATION_PANEL_TROUBLESHOOTING_LOGIN_TEXT1"></proteo-ui-text><li><proteo-ui-text translate="AUTHENTICATION_PANEL_TROUBLESHOOTING_LOGIN_TEXT3"></proteo-ui-text><li><proteo-ui-text translate="AUTHENTICATION_PANEL_TROUBLESHOOTING_LOGIN_TEXT4"></proteo-ui-text></ul></div></div><div class="row" ng-if="!isPaymentSca"><div class="col-xs-12"><proteo-ui-text paragraph translate="AUTHENTICATION_PANEL_OTP_ISSUES"></proteo-ui-text></div></div><div class="row md-margin-bottom" ng-if="isPaymentSca"><div class="col-xs-12 collapse-no-wrap"><proteo-ui-simple-collapse-title class="md-margin-top" is-collapsed="isOpen"><proteo-ui-text translate="AUTHENTICATION_PANEL_TROUBLESHOOTING_TITLE_SCA"></proteo-ui-text></proteo-ui-simple-collapse-title><proteo-ui-simple-collapse is-collapsed="isOpen"><ul class="unordered-list md-margin-top md-margin-bottom"><li><proteo-ui-text translate="AUTHENTICATION_PANEL_TROUBLESHOOTING_TEXT1_SCA"></proteo-ui-text><li><proteo-ui-text translate="AUTHENTICATION_PANEL_TROUBLESHOOTING_TEXT2_SCA"></proteo-ui-text><li><proteo-ui-text translate="AUTHENTICATION_PANEL_TROUBLESHOOTING_TEXT3_SCA"></proteo-ui-text></ul></proteo-ui-simple-collapse></div></div></ng-form></div>'),
a.put("/spasR50/credentialsPublic/components/proteo-ui-authentication-panel/proteo-ui-otpapp-authentication-panel-tpl.html",'<div class="row"><ng-form name="OTPAppForm" class="col-xs-12" ng-class="{\'error xs-padding-top sm-padding-bottom\' : showErrors(OTPAppForm), \'success\' : !showErrors(OTPAppForm)}"><div class="row lg-margin-bottom"><div class="col-xs-12"><h3 class="text-bold md-padding-left otpapp-title" translate="AUTHENTICATION_PANEL_OTPAPP_TITLE"></h3></div></div><div id="wizard" class="wizard clearfix vertical"><div class="steps clearfix"><ul><li><a><span class="number">1</span></a><li><a><span class="number">2</span></a><li><a><span class="number">3</span></a></ul></div><div class="content clearfix"><section><div class="purpose-radios-wrapper"><div class="purpose-radio"><div class="col-sm-7 col-lg-7 col-md-7 col-xs-12"><div class="otp-text"><proteo-ui-text paragraph class="title" translate="AUTHENTICATION_PANEL_OTPAPP_LINE3"></proteo-ui-text><proteo-ui-text paragraph class="description" translate="AUTHENTICATION_PANEL_OTPAPP_LINE4"></proteo-ui-text></div></div><div class="col-sm-5 col-lg-5 col-md-5 col-xs-12"><div class="row"><div class="otp-image"><img src="/spasR50/credentialsPublic/styles/images/0030ff1f.Illustration-1.png" width="auto" height="auto" class="img-responsive" alt="mobile-banking"></div></div></div></div><div class="purpose-radio"><div class="col-sm-7 col-lg-7 col-md-7 col-xs-12"><div class="otp-text"><proteo-ui-text paragraph class="title" translate="AUTHENTICATION_PANEL_OTPAPP_LINE5"></proteo-ui-text><proteo-ui-text paragraph class="description" translate="AUTHENTICATION_PANEL_OTPAPP_LINE6"></proteo-ui-text></div></div><div class="col-sm-5 col-lg-5 col-md-5 col-xs-12"><div class="row"><div class="otp-image"><img src="/spasR50/credentialsPublic/styles/images/33fa4f91.Illustration-2.png" width="auto" height="auto" class="img-responsive" alt="mobile-banking"></div></div></div></div><div class="purpose-radio"><div class="col-sm-7 col-lg-7 col-md-7 col-xs-12"><div class="otp-text"><proteo-ui-text paragraph class="title" translate="AUTHENTICATION_PANEL_OTPAPP_LINE7"></proteo-ui-text><proteo-ui-text paragraph class="description" translate="AUTHENTICATION_PANEL_OTPAPP_LINE8"></proteo-ui-text><div class="row lg-margin-bottom form-group"><div class="col-xs-8" ng-class="{\'has-error error label-error\' : showErrors(OTPAppForm), \'has-feedback has-succees\' : !showErrors(OTPAppForm)}"><div class="input-group"><proteo-ui-input maxlength="15" class="form-control" id="OTPInput" name="OTPInput" ng-maxlength="15" ng-minlength="6" ng-model="enteredOtp" ng-pattern="/^[A-Za-z0-9]*$/" ng-required="true" type="password" ng-change="displayEmptyError = false"></proteo-ui-input><proteo-ui-icon icon="alert" ng-show="showErrors(OTPAppForm)" class="input-group-addon"></proteo-ui-icon><proteo-ui-icon icon="check" ng-show="!showErrors(OTPAppForm) && (OTPAppForm.OTPInput.$touched || OTPAppForm.$submitted)" class="input-group-addon"></proteo-ui-icon></div></div><div class="col-xs-12" role="alert" ng-show="showErrors(OTPAppForm)"><div ng-show="!displayEmptyError" ng-repeat="(key, value) in OTPAppForm[\'OTPInput\'].$error" ng-show="validationRules[key].value && value" class="has-error error label-error"><proteo-ui-text class="form-error" ng-bind="validationRules[key].msg | translate:validationRules[key].translateValues"></proteo-ui-text></div></div></div></div></div><div class="col-sm-5 col-lg-5 col-md-5 col-xs-12"><div class="row"><div class="otp-image"><img src="/spasR50/credentialsPublic/styles/images/17d170cb.Illustration-3.png" width="auto" height="auto" class="img-responsive" alt="mobile-banking"></div></div></div></div><div class="purpose-radio help"><div class="row"><div class="col-xs-12"><proteo-ui-text paragraph translate="AUTHENTICATION_PANEL_OTPAPP_LINE_HELP_INI"></proteo-ui-text><a href="http://{{\'AUTHENTICATION_PANEL_OTPAPP_LINE_HELP_LINK\'|translate}}" target="_blank"><proteo-ui-text translate="AUTHENTICATION_PANEL_OTPAPP_LINE_HELP_LINK"></proteo-ui-text></a></div></div></div></div></section></div></div></ng-form></div>')}]),function(){"use strict";function a(){function a(a){return null!==a&&""!==a}return{require:"ngModel",link:function(b,c,d,e){e.$parsers.unshift(function(b){var c=a(b);return e.$setValidity("validPassword",c),c?b:void 0}),e.$formatters.unshift(function(b){var c=a(b);return e.$setValidity("validPassword",c),c?b:void 0})}}}angular.module("proteo.ui.authentication-panel").directive("validPassword",a)}(),!function(){"use strict";angular.module("proteo.ui.authentication-panel-telephone",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","proteo.ui.basics","proteo.ui.basics.templates","proteo.canal-invoker","proteo.ui.popover","proteo.ui.popover.templates","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.authentication-panel-telephone").controller("proteoUiAuthenticationPanelTelephoneController",["$log","$scope","$state","proteoUiAuthenticationPanelTelephoneService",function(a,b,c,d){function e(){d.getproteoUiAuthenticationPanelTelephone(b.userData,b.customHeaders,b.isLogin,b.loginGetPhoneData,b.applyCode).then(function(a){angular.isDefined(a)?(b.model=a,f(b.model)):(b.showError=!0,b.noPhonesAtrieved())},function(c){angular.isDefined(c.exception)&&a.debug(c.exception),b.showError=!0,b.noPhonesAtrieved()})}function f(a){angular.isDefined(a.mobile)||angular.isDefined(a.home)||angular.isDefined(a.work)?(b.atleastOneActive=g(),b.noShowPhones&&(b.model.mobile=b.model.home=b.model.work=!1)):(b.showError=!0,b.noPhonesAtrieved())}function g(){var a=0,c=!1;for(var d in b.model)b.model.hasOwnProperty(d)&&!d.active&&"public"!=d&&(a++,b.model[d].type=d);return 1===a?(b.phone=b.model[Object.keys(b.model)]||{},c=!0):c=a>1?!0:!1,c}b.model=null,b.atleastOneActive=!1,b.phone={},b.isCollapsed=!1,b.selected={},b.showError=!1,b.activationCode=b.activationCode||!1,b.noShowPhones=b.noShowPhones||!1,b.functionalParent=b.functionalParent||null,b.isPaymentSca="true"===b.isPaySca,b.customHeaders=b.customHeaders||{},b.isPublic=angular.isDefined(b.customHeaders["HEADER.SERVICE_SCOPE"])&&"PUBLIC"===b.customHeaders["HEADER.SERVICE_SCOPE"],b.applyCode=b.applyCode||null,b.credentialsState=b.isBiz?"credentialsBiz":"credentials",b.isLogin=b.loginGetPhoneData||!1,b.goCredentials=function(a){c.go(b.credentialsState+"."+a)},b.$watchCollection("selected.phone",function(a,c){a&&("activationCode"!==a&&"activationcredentialsPublic"!==a?b.phone=b.model[a]:"activationcredentialsPublic"===a?(b.phone={},b.phone.type="app",b.phone.number=a):b.phone=a)}),b.hasTwoOrMore=function(){return Object.keys(b.model).length>=2?!0:!1},b.checkWork=function(){return b.model.work.unavailable||""!==b.model.work.extension&&null!=b.model.work.extension?!0:!1},e()}])}(),function(){"use strict";angular.module("proteo.ui.authentication-panel-telephone").directive("proteoUiAuthenticationPanelTelephone",function(){return{restrict:"E",replace:!0,scope:{phone:"=selectedPhone",noShowPhones:"=?",userData:"=?",activationCode:"=?",functionalParent:"=?",customHeaders:"=?",isBiz:"=?",noPhonesAtrieved:"&",loginGetPhoneData:"=?",applyCode:"@",isPaySca:"@?"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-authentication-panel-telephone/proteo-ui-authentication-panel-telephone-tpl.html",controller:"proteoUiAuthenticationPanelTelephoneController"}})}(),function(){"use strict";angular.module("proteo.ui.authentication-panel-telephone").factory("proteoUiAuthenticationPanelTelephoneService",["$filter","proteocanalinvokerServices","$q",function(a,b,c){var d=a("translate"),e={};return e.getproteoUiAuthenticationPanelTelephone=function(a,e,f,g,h){function i(a){k.resolve(a)}function j(){k.reject(d("COMMON_AUTHENTICATION_PANEL_TELEPHONE_ERRORSERVICE"))}var k=c.defer(),l={userDetails:a,applyCode:h};b.error(function(){j()});var m="";return f?(m=g.getPhones,angular.extend(e,g.headers),l=g.params):m="/signaturewebadapter-v2/getPhones",b.invoke({service:m,callback:i,fail:j,data:l,headers:e}),k.promise},e}])}(),angular.module("proteo.ui.authentication-panel-telephone.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-authentication-panel-telephone/proteo-ui-authentication-panel-telephone-tpl.html",'<div class="row"><div class="col-xs-12" ng-if="model && atleastOneActive"><div class="row"><div class="col-xs-12"><h3 class="text-bold" ng-if="!isPaymentSca" paragraph translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_TITLE"></h3><h3 class="text-bold" ng-if="isPaymentSca" paragraph translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_TITLE_SCA"></h3><proteo-ui-text class="text-bold" ng-if="!isPaymentSca" paragraph translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_REASON_PUB"></proteo-ui-text><proteo-ui-text ng-if="isPaymentSca" paragraph translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_REASON_PUB_SCA"></proteo-ui-text><div class="row" ng-if="!isPaymentSca"><div class="col-xs-12"><proteo-ui-text ng-if="functionalParent == \'creditCards\'" paragraph="true" translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_SMS_NOTE_CREDIT_CARD"></proteo-ui-text><proteo-ui-text ng-if="functionalParent != \'creditCards\'" paragraph="true" translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_SMS_NOTE"></proteo-ui-text></div></div><div>{{model.home.dias}}</div><div ng-if="hasTwoOrMore()"><ng-form name="authenticationPanelTelephoneForm"><proteo-ui-text paragraph="true" ng-if="!isPaymentSca" translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_INSTRUCTIONAL_PUB"></proteo-ui-text><proteo-ui-text paragraph="true" ng-if="isPaymentSca" translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_INSTRUCTIONAL_PUB_SCA"></proteo-ui-text><div class="authentication-panel-thelephone-radio radio"><proteo-ui-radio-button radio-disabled="{{model.home.unavailable}}" ng-if="model.home" validation-required="true" class="authentication-panel-thelephone-radio" radio-id="authenticationPanelPhonesRadio1" value="home" output="selected.phone" group-name="authenticationPanelTelephoneRadio"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_HOME"></proteo-ui-text>&nbsp;<proteo-ui-text>{{model.home.number}}</proteo-ui-text></proteo-ui-radio-button><proteo-ui-popover ng-if="model.home.unavailable" content="COMMON_AUTHENTICATION_PANEL_TELEPHONE_POPOVER_UNAVAILABLE_CONTENT" placement="top">[?]</proteo-ui-popover></div><div class="authentication-panel-thelephone-radio radio"><proteo-ui-radio-button radio-disabled="{{model.mobile.unavailable}}" ng-if="model.mobile" class="authentication-panel-thelephone-radio" radio-id="authenticationPanelPhonesRadio2" value="mobile" output="selected.phone" group-name="authenticationPanelTelephoneRadio"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_MOBILE"></proteo-ui-text>&nbsp;<proteo-ui-text>{{model.mobile.number}}</proteo-ui-text></proteo-ui-radio-button><proteo-ui-popover ng-if="model.mobile.unavailable" content="COMMON_AUTHENTICATION_PANEL_TELEPHONE_POPOVER_UNAVAILABLE_CONTENT" placement="top">[?]</proteo-ui-popover></div><div class="authentication-panel-thelephone-radio radio"><proteo-ui-radio-button radio-disabled="{{checkWork()}}" ng-if="model.work" class="authentication-panel-thelephone-radio" radio-id="authenticationPanelPhonesRadio3" value="work" output="selected.phone" group-name="authenticationPanelTelephoneRadio"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_WORK"></proteo-ui-text>&nbsp;<proteo-ui-text>{{model.work.number}}</proteo-ui-text>&nbsp; <span class="sm-padding-left text-std" translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_WORK_EXT" translate-values="{ extension: model.work.extension}"></span><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_UNAVAILABLE" ng-if="!model.work.active"></proteo-ui-text></proteo-ui-radio-button><proteo-ui-popover ng-if="!model.work.unavailable && model.work.extension" helper-text="COMMON_AUTHENTICATION_PANEL_TELEPHONE_POPOVER_HELPERTEXT" title-popover="COMMON_AUTHENTICATION_PANEL_TELEPHONE_POPOVER_TITLE" content="COMMON_AUTHENTICATION_PANEL_TELEPHONE_POPOVER_CONTENT" placement="bottom">[?]</proteo-ui-popover><proteo-ui-popover ng-if="model.work.unavailable" content="COMMON_AUTHENTICATION_PANEL_TELEPHONE_POPOVER_UNAVAILABLE_CONTENT" placement="top">[?]</proteo-ui-popover></div><proteo-ui-radio-button ng-if="activationCode" radio-id="authenticationPanelPhonesRadio4" value="activationCode" output="selected.phone" group-name="authenticationPanelTelephoneRadio" layout="stacked"><proteo-ui-text class="display-contents" translate="COMMON_AUTHENTICATION_PANEL_OTP_ACTIVATIONCODE_OPTION"></proteo-ui-text></proteo-ui-radio-button><div class="row" ng-if="!isPaymentSca"><div class="col-xs-12" ng-show="phone.number"><proteo-ui-text class="bold" translate="RETAIL_CREDENTIALS_PUBLIC_PHONE_NUMBERS_ABOVE_1" paragraph></proteo-ui-text><ul class="unordered-list phoneNumberOtp"><li><proteo-ui-text translate="RETAIL_CREDENTIALS_PUBLIC_PHONE_NUMBERS_ABOVE_2"></proteo-ui-text><li><proteo-ui-text translate="RETAIL_CREDENTIALS_PUBLIC_PHONE_NUMBERS_ABOVE_3"></proteo-ui-text><li><proteo-ui-text translate="RETAIL_CREDENTIALS_PUBLIC_PHONE_NUMBERS_ABOVE_4"></proteo-ui-text><li><proteo-ui-text translate="RETAIL_CREDENTIALS_PUBLIC_PHONE_NUMBERS_ABOVE_5"></proteo-ui-text></ul><proteo-ui-text translate="RETAIL_CREDENTIALS_PUBLIC_PHONE_NUMBERS_ABOVE_6"></proteo-ui-text></div></div></ng-form></div><div ng-if="!hasTwoOrMore()"><proteo-ui-text ng-if="!isPublic" paragraph translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_CONTACT_PHONE"></proteo-ui-text>&nbsp;<proteo-ui-text ng-if="isPublic" paragraph translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_CONTACT_PHONE_PUB"></proteo-ui-text><ng-form name="authenticationPanelTelephoneForm"><div ng-if="model.home" ng-class="{\'text-bold\': model.home.active === true,\'authentication-panel-thelephone-radio-grey\':model.home.active === false}"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_HOME"></proteo-ui-text>&nbsp;<proteo-ui-text>{{model.home.number}}</proteo-ui-text></div><div ng-if="model.mobile" ng-class="{\'text-bold\': model.mobile.active === true,\'authentication-panel-thelephone-radio-grey\':model.mobile.active === false}"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_MOBILE"></proteo-ui-text>&nbsp;<proteo-ui-text>{{model.mobile.number}}</proteo-ui-text></div><div ng-if="model.work" ng-class="{\'text-bold\': model.work.active === true,\'authentication-panel-thelephone-radio-grey\':model.work.active === false}"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_WORK"></proteo-ui-text>&nbsp;<proteo-ui-text>{{model.work.number}}</proteo-ui-text><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_WORK_EXT" translate-values="{ extension: model.work.extension}"></proteo-ui-text><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_UNAVAILABLE"></proteo-ui-text><proteo-ui-popover title="COMMON_AUTHENTICATION_PANEL_TELEPHONE_POPOVER_TITLE" placement="bottom" content="COMMON_AUTHENTICATION_PANEL_TELEPHONE_POPOVER_CONTENT">[?]</proteo-ui-popover></div><div ng-if="isBiz" ng-class="{\'text-bold\': model.mobile.active === true,\'authentication-panel-thelephone-radio-grey\':model.mobile.active === false}"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_APP_ACTIVATIONCODE_OPTION"></proteo-ui-text></div></ng-form></div></div><div class="col-xs-12 collapse-no-wrap" ng-if="isPaymentSca"><proteo-ui-simple-collapse-title class="md-margin-top" is-collapsed="isOpen"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_INCORRECTS_TITLE_PUBLIC_SCA"></proteo-ui-text></proteo-ui-simple-collapse-title><proteo-ui-simple-collapse is-collapsed="isOpen"><proteo-ui-text paragraph="true" class="xs-margin-top"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_INCORRECTS_TITLE_PUBLIC_TEXT1_SCA"></proteo-ui-text></proteo-ui-text><proteo-ui-text paragraph="true" class="xs-margin-top"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_INCORRECTS_TITLE_PUBLIC_TEXT2_SCA"></proteo-ui-text></proteo-ui-text><proteo-ui-text paragraph="true" class="xs-margin-top"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_INCORRECTS_TITLE_PUBLIC_TEXT3_SCA"></proteo-ui-text></proteo-ui-text><proteo-ui-text paragraph="true" class="xs-margin-top"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_INCORRECTS_TITLE_PUBLIC_TEXT4_SCA"></proteo-ui-text></proteo-ui-text></proteo-ui-simple-collapse></div></div></div><div class="col-xs-12" ng-if="showError && !atleastOneActive"><div class="md-margin-top" ng-if="!model.public"><div class="error"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_ERRORNOPHONE"></proteo-ui-text></div><proteo-ui-link ng-if="!isLogin" ng-click="goCredentials(\'changeTelephoneNumber\')"><proteo-ui-text paragraph translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_ADD"></proteo-ui-text></proteo-ui-link></div><div class="md-margin-top" ng-if="model.public && activationCode"><proteo-ui-radio-button ng-if="activationCode" class="authentication-panel-thelephone-radio" radio-id="authenticationPanelPhonesRadioPublic1" value="activationCode" output="selected.phone" group-name="authenticationPanelTelephoneRadio" layout="stacked"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_OTP_ACTIVATIONCODE_OPTION"></proteo-ui-text></proteo-ui-radio-button></div><div class="md-margin-top" ng-if="model.public && !activationCode"><div class="error"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_ERRORNOPHONE"></proteo-ui-text></div><proteo-ui-link ng-if="!isLogin" ng-click="goCredentials(\'changeTelephoneNumber\')"><proteo-ui-text paragraph translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_ADD"></proteo-ui-text></proteo-ui-link></div></div></div>')}]),!function(){"use strict";angular.module("proteo.ui.authentication-panel-colleague",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","proteo.ui.basics","proteo.ui.basics.templates","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.authentication-panel-colleague").controller("proteoUiAuthenticationPanelColleagueController",["$scope",function(a){a.isSuccessful=!1,a.colleague={selected:null}}])}(),function(){"use strict";angular.module("proteo.ui.authentication-panel-colleague").directive("proteoUiAuthenticationPanelColleague",function(){return{restrict:"E",replace:!0,scope:{type:"@",isSuccessful:"=?",formName:"@"},templateUrl:function(a,b){var c="/spasR50/credentialsPublic/components/proteo-ui-authentication-panel-colleague/proteo-ui-authentication-panel-colleague-";return c+="telephony"===b.type?"telephony-tpl.html":"branch-tpl.html"},controller:"proteoUiAuthenticationPanelColleagueController"}})}(),angular.module("proteo.ui.authentication-panel-colleague.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-authentication-panel-colleague/proteo-ui-authentication-panel-colleague-branch-tpl.html",'<div class="row"><div ng-if="!isSuccessful" class="col-xs-12"><h3 translate="COMMON_AUTHENTICATION_PANEL_COLLEAGUE_TITLE" class="text-bold"></h3><ng-form name="{{formName}}"><proteo-ui-radio-button validation-required="true" radio-id="authenticationPanelColleagueRadio1" value="available" output="colleague.selected" group-name="authenticationPanelTelephoneRadio" layout="inline"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_BRANCH_AVAILABLE"></proteo-ui-text></proteo-ui-radio-button><proteo-ui-radio-button radio-id="authenticationPanelColleagueRadio2" value="unavailable" output="colleague.selected" group-name="authenticationPanelTelephoneRadio" layout="inline"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_BRANCH_UNAVAILABLE"></proteo-ui-text></proteo-ui-radio-button><div class="md-margin-left"><proteo-ui-text class="md-margin-top" paragraph translate="COMMON_AUTHENTICATION_PANEL_COLLEAGUE_TEXT"></proteo-ui-text><proteo-ui-button ng-if="colleague.selected == \'available\'"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_COLLEAGUE_BUTTON"></proteo-ui-text></proteo-ui-button><div class="row" ng-if="colleague.selected == \'unavailable\'"><proteo-ui-check-box label-position="right" check-box-id="cbPanelColleague" name="cbPanelColleague" validation-required="true" value="cbPanelColleague.selected" check-box-disabled="false" required layout="inline" output="cbPanelColleague"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_COLLEAGUE_CHECKBOX"></proteo-ui-text></proteo-ui-check-box></div></div></ng-form></div><ng-include ng-if="isSuccessful && colleague.selected == \'available\'" src="\'/spasR50/credentialsPublic/components/proteo-ui-authentication-panel-colleague/proteo-ui-authentication-panel-colleague-success-tpl.html\'"></ng-include></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-authentication-panel-colleague/proteo-ui-authentication-panel-colleague-success-tpl.html",'<div class="col-xs-12"><h3 class="text-bold" translate="COMMON_AUTHENTICATION_PANEL_TELEPHONE_SUCCESS"></h3></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-authentication-panel-colleague/proteo-ui-authentication-panel-colleague-telephony-tpl.html",'<div class="row"><div class="col-xs-12"><h3 translate="COMMON_AUTHENTICATION_PANEL_COLLEAGUE_TITLE" class="text-bold"></h3><div class="md-margin-left md-margin-top"><proteo-ui-text paragraph translate="COMMON_AUTHENTICATION_PANEL_COLLEAGUE_TEXT"></proteo-ui-text><div class="row"><ng-form name="{{formName}}"><proteo-ui-check-box label-position="right" check-box-id="cbPanelColleague" name="cbPanelColleague" value="cbPanelColleague.selected" validation-required="true" check-box-disabled="false" layout="inline" output="cbPanelColleague"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_COLLEAGUE_CHECKBOX"></proteo-ui-text></proteo-ui-check-box></ng-form></div></div></div></div>')}]),!function(){"use strict";angular.module("proteo.ui.sca-signature-panel",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","proteo.ui.respond-function","proteo.ui.respond-function.templates","proteo.ui.authentication-panel","proteo.ui.authentication-panel-colleague","App.globalErrorPage","App.globalErrorPage.templates","proteo.ui.authentication-panel-colleague.templates","proteo.ui.authentication-panel-telephone","proteo.ui.authentication-panel-telephone.templates","proteo.ui.authentication-panel.templates","proteo.ui.sca-signature-panel.templates","proteo.canal-invoker","proteo.consultive","angular-uuid","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.signature-panel",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","proteo.ui.respond-function","proteo.ui.respond-function.templates","proteo.ui.authentication-panel","proteo.ui.authentication-panel-colleague","App.globalErrorPage","App.globalErrorPage.templates","proteo.ui.authentication-panel-colleague.templates","proteo.ui.authentication-panel-telephone","proteo.ui.authentication-panel-telephone.templates","proteo.ui.authentication-panel.templates","proteo.ui.signature-panel.templates","proteo.canal-invoker","proteo.consultive","angular-uuid","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").controller("proteoUiScaSignatureController",["proteoUiScaSignatureDataFactory","proteoUiScaSignaturePanelService","proteoUiScaSignatureDataOtpFactory","proteoUiScaSignatureErrorFactory","$filter","proteoUiScaSignatureDlFactory","DataLayerProvider","tsbJournalService",function(a,b,c,d,e,f,g,h){function i(a){switch(a){case"call":case"colleagueBranch":case"colleagueTelephony":return!1;default:return!0}}function j(c,e,f,h,i){var j=null;angular.equals(a.getUserData(),{})&&angular.equals(a.getApplyCode(),null)||(j=b.getOperationIDHeaders(i,a)),b.checkValidationService(c,f,null,j).then(function(c){var d={};a.createOnly||c.result&&c.pendingRequiredSigners>0?(d={err:{pendingRequiredSigners:!0}},a.exceptionLiteral="isValid",e.isInvalid(d)):c.result&&0===c.pendingRequiredSigners?(b.setError(null),a.exceptionLiteral="isValid",e.isValid()):(a.restart(),c.isSca?(d={err:{isSca:c.isSca,remainingAttempts:c.remainingAttempts}},g.sendError({message:m("COMMON_SIGNATURE_PANEL_ERROR_INVALID"),code:"E-Validation",type:g.errorType.POPUP}),e.isInvalid(d)):(e.isInvalid(),g.sendError({message:m("COMMON_SIGNATURE_PANEL_ERROR_INVALID"),code:"E-Validation",type:g.errorType.WARNING}),b.setError(m("COMMON_SIGNATURE_PANEL_ERROR_INVALID"))))},function(a){d.checkValidationErrorHandler(a,e,h)})}function k(a,b){a&&(b.chars.charXPos=a[0],b.chars.charYPos=a[1],b.chars.charZPos=a[2])}function l(a,b){return a[b].$setValidity("notSelected",-1!==parseInt(a[b].$viewValue)),a[b].$valid?!0:!1}var m=e("translate");this.watchers={},this.init=function(e){e.chars={charXPos:null,charYPos:null,charZPos:null,charXValue:"-1",charYValue:"-1",charZValue:"-1"},e.charOptions=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],this.goWithActivation=e.goWithActivation,e.launchSignatureButton=function(){a.clickButton=!0},e.selectPhone=function(a){c.selectPhone(a,e.memorableInfo,e)},e.updateDatalayerIfOperation=function(){e.operation&&"RESSCA"!==e.operation&&g.updateScaDataLayer(g.steps.otp),e.templateName="otp",a.setSignatureType("otp")},e.submitMI=function(b){if(l(b,"charXPos")&&l(b,"charYPos")&&l(b,"charZPos")){e.formName.$setValidity("formName",!0),e.memorableInfo={position:{x:e.chars.charXPos.toString(),y:e.chars.charYPos.toString(),z:e.chars.charZPos.toString()},value:{x:e.chars.charXValue,y:e.chars.charYValue,z:e.chars.charZValue}};var c=[e.chars.charXValue,e.chars.charYValue,e.chars.charZValue];a.setMis(c),e.scaStep="otp",e.isBiz&&!e.isPublic&&"otp"===e.scaStep&&(e.phone.number="activationcredentialsPublic",e.phone.type="APP")}};var i=null;(e.userData||e.applyCode||e.isPublic)&&(i=b.getOperationIDHeaders(e.operation,a));var j={amount:e.amount,codeOperation:e.operation,userDetails:e.isPublicOtp?null:e.userData,businessDetails:e.businessData?e.businessData:null,data:e.mpaData?e.mpaData:null,applyCode:e.applyCode?e.applyCode:null};f.addDlDataToDataRequest(j),b.getproteoUiSignaturePanel(j,"signaturePanel",i).then(function(f){if(a.setPaymentSca(!1),e.isPaymentScaValue=a.isPaymentSca(),f.authValidate||(a.notAuthValidate=!0),f&&angular.isDefined(f.signatureType)&&null!==f.signatureType)if(a.setCreateOnly(!f.authValidate),f.authValidate)switch(f.signatureType){case"password":e.templateName="password",a.setSignatureType("password"),g.updateScaDataLayer(g.steps.password);break;case"otp":e.updateDatalayerIfOperation();break;case"otp_mi":e.templateName="otp_mi",e.scaStep="mi",a.setSignatureType("otp_mi"),b.getMIPositions().then(function(b){b&&angular.isDefined(b.positions)&&null!==b.positions&&b.positions.length>0&&k(b.positions,e),e.formName.$setValidity("formName",!1),a.setPaymentSca(!0),e.isPaymentScaValue=a.isPaymentSca(),g.scaMode=!0,g.updateScaDataLayer(g.steps.mi)},function(a){d.errorHandler(a,e)});break;case"nosign":e.templateName="nosign",a.setSignatureType("nosign"),g.updateScaDataLayer(g.steps.nosign);break;default:d.errorHandler(void 0,e)}else e.templateName="nosign",a.setSignatureType("nosign");else e.formName.$setValidity("signaturePanelError",!1),e.displayedErrorAux=!0;e.isBiz&&!e.isPublic&&"otp"===e.templateName&&(e.phone.number="activationcredentialsPublic",a.setSignatureType("otp"),e.phone.type="APP",c.selectPhone(e.phone,void 0,e))},function(a){"RESSCA"===e.operation&&h.newOperation(),d.errorHandler(a,e)})},this.initWatchers=function(b){this.watchers.watcher1=b.$watchCollection("data",function(b){a.setData(b)}),this.watchers.watcher2=b.$watchCollection(function(){return a.exceptionLiteral},function(a){"isValid"===a&&(b.isValid=!0),a&&(b.exceptionLiteral=a)},!0);var c=this;this.watchers.watcher3=b.$watchCollection(function(){return a.reset},function(d,e){a.reset?(b.resetDirective=!0,c.init(b),a.reset=!1,b.data.pass=null,b.data.otp=null,"otp_mi"===a.signatureType&&(b.selectedPhone=!1)):b.resetDirective=!1},!0),b.previousLink=function(){b.previous()}},this.initButtonsWatchers=function(c,d){this.watchers.watcher4=c.$watchCollection(function(){return a.notAuthValidate},function(a,d){if(1==a){b.setError(m("COMMON_SIGNATURE_PANEL_VALIDATION_ERROR"));var e={err:{authValidate:!1}};g.sendError({message:m("COMMON_SIGNATURE_PANEL_VALIDATION_ERROR"),code:"E-Validation",type:g.errorType.WARNING}),c.isInvalid(e)}},!0);var e=c.$watchCollection(function(){return a.signatureType},function(a,b){d=a,a&&e()},!0);this.watchers.watcher5=e,this.watchers.watcher6=c.$watchCollection(function(){return a.clickButton},function(b,d){b&&c.isValid({activationCode:a.getSelectedActivationCode()})})},this.unregisterWatchers=function(){this.watchers.watcher1(),this.watchers.watcher2(),this.watchers.watcher3(),this.watchers.watcher4(),this.watchers.watcher5(),this.watchers.watcher6()},this.initButtonPanel=function(c,d){c.checkValidation=function(){if(i(d)){var e=b.getBodyParams(a),f=b.getEndPoint(null,a),g=a.getSignatureType(),h=a.getOperation();j(e,c,f,g,h)}else c.isValid()}}}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").factory("proteoUiScaSignatureDataFactory",["proteoUiScaSignaturePanelService","APP_CONFIG",function(a,b){var c={};return c.goWithActivation=function(){},c.setUseOperationId=function(a){c.useOperationId=a},c.setIsPublicOtp=function(a){c.isPublicOtp=a},c.setIsBiz=function(a){c.isBiz=a},c.setCreateOnly=function(a){c.createOnly=a},c.getCreateOnly=function(){return c.createOnly},c.setPhone=function(a){c.phone=a},c.getPhone=function(){return c.phone},c.setAmount=function(a){c.amount=a},c.getAmount=function(){return c.amount},c.getIsBiz=function(){return c.isBiz},c.setMpaData=function(a){c.mpaData=a},c.getMpaData=function(){return c.mpaData},c.setUserData=function(a){c.userData=a},c.getUserData=function(){return c.userData},c.setBusinessData=function(a){c.businessData=a},c.getBusinessData=function(){return c.businessData},c.setOtpData=function(a){c.otpData=a},c.getOtpData=function(){return c.otpData},c.setData=function(a){c.data=a},c.getData=function(){return c.data},c.setSignatureType=function(a){c.signatureType=a},c.getSignatureType=function(){return c.signatureType},c.setSelectedActivationCode=function(a){c.selectedActivationCode=a},c.getSelectedActivationCode=function(){return c.selectedActivationCode},c.sumOtpAttempts=function(){c.otpAttempts++},c.getOtpAttempts=function(){return c.otpAttempts},c.setMis=function(a){c.data.mis=a},c.getMis=function(){return c.data.mis},c.setApplyCode=function(a){c.applyCode=a},c.getApplyCode=function(){return c.applyCode},c.restart=function(){"password"===c.signatureType?(c.signatureType="",c.reset=!0):"otp"===c.signatureType?c.reset=!0:"otp_mi"===c.signatureType&&(c.reset=!0)},c.setOperation=function(a){c.operation=a},c.getOperation=function(){return c.operation},c.setPaymentSca=function(a){c.isPaySca=a},c.isPaymentSca=function(){return c.isPaySca},c.initData=function(d,e){c.signatureType="",c.exceptionLiteral="",c.data={},c.userData={},c.reset=!1,c.publicHeaders=null,c.businessData={},c.mpaData={},c.isBiz=!1,c.createOnly=!0,c.amount=null,c.phone={},c.notAuthValidate=!1,c.operation="",c.otpAttempts=0,c.activationCodeSelected=!1,c.clickButton=!1,c.applyCode=null,d.data={},d.data.otp=null,d.activationCode=d.activationCode||!1,d.selectedActivationCode=!1,d.selectedPhone=!1,d.phone={},d.memorableInfo={},d.displayedErrorAux=!1,d.exceptionLiteral="",d.displayedError=!1,d.isValid=!1,d.resetDirective=!1,a.setError(null),d.getPhoneHeaders={},d.data.mis=null,d.isPaymentScaValue=!1,d.spMinLength=d.spMinLength||null,d.spMaxLength=d.spMaxLength||null,d.isBiz=angular.isDefined(b.Procedence)&&"WB01"===b.Procedence?!0:!1,
d.isPublic=angular.isDefined(e["public"])?!0:!1,c.setIsBiz(d.isBiz),d.getPhoneHeaders=d.userData||c.applyCode?a.getOperationIDHeaders(d.operation,c):{},d.otpValue=null,d.userData&&c.setUserData(d.userData),d.isPublicOtp&&c.setIsPublicOtp(d.isPublicOtp),d.useOperationId&&c.setUseOperationId(d.useOperationId),d.amount&&c.setAmount(d.amount),d.businessData&&c.setBusinessData(d.businessData),d.mpaData&&c.setMpaData(d.mpaData),d.otpData&&c.setOtpData(d.otpData)},c}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").directive("proteoUiScaSignature",function(){return{restrict:"A",scope:{},controller:"proteoUiScaSignatureController"}}).directive("scaSignaturePanelError",["proteoUiScaSignaturePanelService",function(a){return{restrict:"A",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/proteo-ui-sca-signature-panel-error.html",link:function(b){b.$watchCollection(function(){return a.getError()},function(a){b.error=a},!0)}}}]).directive("proteoUiScaSignaturePanel",["proteoUiScaSignatureDataFactory","proteoUiScaSignatureErrorFactory","proteoUiScaSignatureDataOtpFactory","proteoUiScaSignatureDlFactory",function(a,b,c,d){return{restrict:"E",require:"^proteoUiScaSignature",scope:{operation:"@",userData:"=?",amount:"@",formName:"=",data:"=?output",businessData:"=?",mpaData:"@",activationCode:"=?",goWithActivation:"&",spMinLength:"=?",spMaxLength:"=?",otpData:"=?",useOperationId:"@?",isPublicOtp:"@?",dlData:"=?",applyCode:"@",previous:"&",functionalParent:"=?"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/proteo-ui-sca-signature-panel-tpl.html",link:function(e,f,g,h){e.applyCode=e.applyCode||null,e.functionalParent=e.functionalParent||null,a.initData(e,g),h.initWatchers(e),c.initPhone(e),d.initDl(e),e.applyCode&&a.setApplyCode(e.applyCode),null===e.operation||""===e.operation||angular.equals({},e.operation)?b.errorHandler(void 0,e):(h.init(e),a.setOperation(e.operation))}}}]).directive("proteoUiScaSignaturePanelButton",["proteoUiScaSignaturePanelService","$log","$translate","consultiveFactory","$state","APP_CONFIG","proteoUiScaSignatureDataFactory",function(a,b,c,d,e,f,g){return{require:"^proteoUiScaSignature",restrict:"E",transclude:!0,replace:!0,scope:{isValid:"&",isInvalid:"&"},template:'<button ng-click="checkValidation()" class="btn md-btn" ng-transclude></button>',link:function(a,b,c,d){var e;d.initButtonsWatchers(a,e),d.initButtonPanel(a,e)}}}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").factory("proteoUiScaSignatureDlFactory",["$log",function(a){function b(b,c){try{angular.isDefined(b.data)&&null!==b.data&&angular.isDefined(c)?b.data=JSON.stringify(angular.extend(JSON.parse(b.data),c)):b.data=JSON.stringify(c)}catch(d){a.error("DL json error")}}var c={};return c.dlData=null,c.dlMode=!1,c.getStringFromData=function(a){return a?escape(JSON.stringify(a)):""},c.getDataFromString=function(a){return a?JSON.parse(unescape(a)):null},c.initDl=function(a){a.dlData?(c.dlData=a.dlData,c.dlMode=!0):(c.dlData=null,c.dlMode=!1)},c.addDlDataToRequest=function(a){c.addDlDataToDataRequest(a)},c.addDlDataToDataRequest=function(a){c.dlMode&&angular.isDefined(a)&&b(a,{dlData:c.dlData})},c}])}(),function(){"use strict";function a(){var a={};return a.step=1,a.scaMode=!1,a.incStep=function(){a.step++},a.decStep=function(){a.step--},a.steps={mi:1,otp:2,password:3,nosign:4},a.errorType={POPUP:"pop up",ERROR_PAGE:"error page",WARNING:"page warning"},a.updateScaDataLayer=function(b){var c="no";a.scaMode&&(c="yes"),"mi"===b?a.step=1:a.incStep();var d={sca_page:c};JSM._updateDataLayer(d),JSM.sendTLData(["sca_page"])},a.sendError=function(a){JSM._updateDataLayer({error_message:a.message,error_code:a.code,error_type:a.type}),JSM.sendTLData(["error_message","error_code","error_type"])},a}angular.module("proteo.ui.sca-signature-panel").factory("DataLayerProvider",a)}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").factory("proteoUiScaSignatureErrorFactory",["proteoUiScaSignaturePanelService","APP_CONFIG","$filter","$state","proteoUiScaSignatureDataFactory","$log","DataLayerProvider",function(a,b,c,d,e,f,g){function h(a){a.displayedErrorAux||(a.formName.$setValidity("signaturePanelError",!1),a.displayedError=!0)}var i=c("translate"),j={};return j.errorHandler=function(b,c){var d=angular.isDefined(b)&&(angular.isDefined(b.exception)&&angular.isDefined(b.exception.code)||angular.isDefined(b.exception[0])&&angular.isDefined(b.exception[0].code)),e=d&&(angular.isDefined(b.exception.description)&&""!==b.exception.description||angular.isDefined(b.exception[0].description)&&""!==b.exception[0].description);h(c),d&&e&&angular.isDefined(b.exception)&&angular.isDefined(b.exception.code)&&b.exception.code.indexOf("ERR")>-1?(a.setError(b.exception.description),f.debug(b.exception),c.exceptionLiteral=b.exception.description):d&&e&&angular.isDefined(b.exception[0])&&angular.isDefined(b.exception[0].code)&&b.exception[0].code.indexOf("ERR")>-1?(a.setError(b.exception[0].description),f.debug(b.exception[0]),c.exceptionLiteral=b.exception[0].description):(a.setErrorSystem(),f.debug(b),c.exceptionLiteral=i("COMMON_SIGNATURE_PANEL_ERROR_INVALID")),g.sendError({message:c.exceptionLiteral,code:b&&b.exception&&b.exception.code?b.exception.code:"",type:g.errorType.WARNING})},j.genericError=function(a){var c={};c="otp_mi"===a?{template:"scaCredentialsAttemptsExceed",title:"COMMON_GLOBALERROR_TITLE_LOGIN_ATTEMPTS_EXCEEDED",message:"COMMON_GLOBALERROR_TEXT_LOGIN_ATTEMPTS_EXCEEDED",backMessage:"COMMON_GLOBALERROR_BACK_TO_BANK_SP",bankName:"tsb.co.uk",messageLinkState:"credentialsPublic.enterCustomerIdData",messageLink:"COMMON_GLOBALERROR_BUTTON_RESET",hideBackLinkButton:!1,isPayments:!0}:{template:"passwordAttemptsExceed",isBiz:"B"===b.Procedence[1]?!0:!1,hideBackLinkButton:!1},d.go("globalErrorPage",c)},j.checkValidationErrorHandler=function(b,c,d){if(angular.isDefined(b.exception)){if("ERR339"===b.exception.code||"ERR340"===b.exception.code||""===b.exception.code||"ERR67"===b.exception.code)return g.sendError({message:b&&b.exception&&b.exception.description?b.exception.description:i("COMMON_SIGNATURE_PANEL_ERROR_INVALID"),code:b&&b.exception&&b.exception.code?b.exception.code:"",type:g.errorType.ERROR_PAGE}),void j.genericError(d);if("ERR1047"===b.exception.code||"ERR1020"===b.exception.code)return a.setErrorDynamicLinking(),void g.sendError({message:i("ERROR_DYNAMIC_LINKING"),code:b&&b.exception&&b.exception.code?b.exception.code:"",type:g.errorType.WARNING});if("ERR317"===b.exception.code){var b={err:{pendingRequiredSigners:!0}};e.exceptionLiteral="isValid",c.isInvalid(b)}else{c.isInvalid({err:b.exception});var h=angular.isDefined(b)&&angular.isDefined(b.exception)&&angular.isDefined(b.exception.code),k=h&&angular.isDefined(b.exception.description)&&""!==b.exception.description;h&&k&&b.exception.code.indexOf("ERR")>-1?a.setError(b.exception.description):a.setErrorSystem(),g.sendError({message:b&&b.exception&&b.exception.description&&b.exception.description,code:b&&b.exception&&b.exception.code?b.exception.code:"",type:g.errorType.WARNING})}f.debug(b.exception)}else c.isInvalid(),g.sendError({message:b&&b.exception&&b.exception.description?b.exception.description:i("COMMON_SIGNATURE_PANEL_ERROR_INVALID"),code:b&&b.exception&&b.exception.code?b.exception.code:"",type:g.errorType.WARNING}),a.setError(i("COMMON_SIGNATURE_PANEL_ERROR_INVALID")),f.debug(b);e.sumOtpAttempts(),e.getOtpAttempts()>=5&&e.goWithActivation(),e.restart()},j}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").factory("proteoUiScaSignatureDataOtpFactory",["proteoUiScaSignatureDataFactory","proteoUiScaSignaturePanelService","proteoUiScaSignatureErrorFactory","proteoUiScaSignatureDlFactory","tsbJournalService",function(a,b,c,d,e){function f(a){var b=a;return"+"!==a.charAt(0)&&(b="+"+a),b}var g={};return g.selectPhone=function(g,h,i){if("activationCode"===g)return i.selectedActivationCode=!0,a.setSelectedActivationCode(i.selectedActivationCode),void i.launchSignatureButton();if(i.phone=g,"work"!==g.type||""===g.extension||null===g.extension){var j=b.getEndPoint("informOTP",a),k={amount:i.amount,notificationTo:"activationcredentialsPublic"===g.number?" ":f(g.number),notificationType:g.type,operationType:i.isBiz?"BUSINESS":"RETAIL",signatureType:a.getSignatureType().toUpperCase(),sourceAccount:i.businessData?i.businessData.accountNumber:null};if(i.userData&&(i.isPublicOtp?angular.extend(k,{userDetails:null}):angular.extend(k,{userDetails:i.userData})),i.businessData&&angular.extend(k,{businessDetails:i.businessData}),i.otpData){var l={accountNumber:"",amount:i.amount||0,phone:""};angular.isDefined(i.otpData.accountNumber)&&i.otpData.accountNumber.length>4&&(l.accountNumber=i.otpData.accountNumber.substring(i.otpData.accountNumber.length-4,i.otpData.accountNumber.length)),angular.isDefined(i.otpData.phone)&&i.otpData.phone.length>3&&(l.phone=i.otpData.phone.substring(i.otpData.phone.length-3,i.otpData.phone.length)),angular.extend(k,{otpData:l})}angular.isDefined(h)&&h.length>0&&(i.memorableInfo=h,angular.extend(k,{memorableInfo:i.memorableInfo})),i.mpaData&&angular.extend(k,{mpaData:i.mpaData,data:i.mpaData});var m=null;(i.userData||i.applyCode||i.isPublic)&&(m=b.getOperationIDHeaders(i.operation,a)),d.addDlDataToRequest(k),b.checkValidationService(k,j,null,m).then(function(a){i.selectedPhone=!0},function(a){"RESSCA"===i.operation&&e.newOperation(),c.errorHandler(a,i)})}},g.initPhone=function(a){a.isDisabled=function(a){return angular.equals(a,{})}},g}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").factory("proteoUiScaSignaturePanelService",["$log","$filter","proteocanalinvokerServices","$q","uuid","consultiveFactory","proteoUiScaSignatureDlFactory",function(a,b,c,d,e,f,g){a.debug("proteoUiSignaturePanelServices loading");var h=b("translate"),i={},j=null;return i.setError=function(a){j=a},i.setErrorSystem=function(){j=h("ERROR_SISTEMA")},i.setErrorDynamicLinking=function(){j=h("ERROR_DYNAMIC_LINKING")},i.getError=function(){return j},i.getproteoUiSignaturePanel=function(b,e,f){function g(a){j.resolve(a)}function i(a){j.reject(a)}var j=d.defer();c.error(function(b){console.info("Exception in tab invocation"),j.reject(h("ERROR_SISTEMA")),a.debug(b)});var k={service:"/signaturewebadapter-v2/getSignatureType",callback:g,fail:i,headers:f,data:b};return angular.isDefined(e)&&null!==e&&(k=angular.extend(k,{idLoader:e,bigLoader:!0})),c.invoke(k),j.promise},i.checkValidationService=function(b,e,f,g){function h(a){j.resolve(a)}function i(a){j.reject(a)}var j=d.defer();c.error(function(b){console.info("Exception in tab invocation"),a.debug(b)});var k={service:e,callback:h,fail:i,headers:g,data:b};return angular.isDefined(f)&&null!==f&&(k=angular.extend(k,{idLoader:f,bigLoader:!0})),c.invoke(k),j.promise},i.getEndPoint=function(a,b){return"informOTP"===a||b.createOnly?"/signaturewebadapter-v2/getSignAndConfirm":"/signaturewebadapter-v2/validateSignature"},i.getMIPositions=function(){function b(a){f.resolve(a)}function e(a){f.reject(a)}var f=d.defer(),g={};c.error(function(b){console.info("Exception in getMIPositions call"),f.reject(h("ERROR_SISTEMA")),a.debug(b)});var i={service:"/signaturewebadapter-v2/getMIPositions",callback:b,fail:e,data:g};return c.invoke(i),f.promise},i.getOperationIDHeaders=function(a,b){var c;if(b.publicHeaders)c=b.publicHeaders;else if(angular.isDefined(b.useOperationId)&&"true"===b.useOperationId)b.publicHeaders=angular.copy({"HEADER.SERVICE_SCOPE":"PUBLIC"}),c=b.publicHeaders;else{var d=a+"-"+e.v4();f.setOperationID(d);var g={"HEADER.operationID":d,"HEADER.SERVICE_SCOPE":"PUBLIC"};b.publicHeaders=angular.copy(g),c=b.publicHeaders}return c},i.getBodyParams=function(a){var b={};switch(a.signatureType){case"password":b={signatureType:"PASSWORD",verifyCode:a.data.pass,operationType:a.isBiz?"BUSINESS":"RETAIL"},angular.equals({},a.mpaData)||angular.extend(b,{data:a.mpaData}),g.addDlDataToDataRequest(b),angular.extend(b,{amount:a.amount});break;case"otp":case"otp_mi":b={signatureType:a.signatureType.toUpperCase(),verifyCode:a.data.otp,operationType:a.isBiz?"BUSINESS":"RETAIL"},a.data.mis&&angular.extend(b,{mis:a.data.mis}),angular.equals({},a.userData)||angular.extend(b,{username:a.userData.user}),angular.extend(b,{notificationTo:a.phone.number,notificationType:a.phone.type});break;case"nosign":b={signatureType:"NOSIGN",operationType:a.isBiz?"BUSINESS":"RETAIL",verifyCode:""},angular.extend(b,{sourceAccount:a.businessData?a.businessData.accountNumber:null,amount:a.amount}),angular.equals({},a.mpaData)||angular.extend(b,{data:a.mpaData}),g.addDlDataToDataRequest(b)}return angular.equals({},a.businessData)||angular.extend(b,{businessDetails:a.businessData}),angular.equals({},a.userData)||(a.isPublicOtp?angular.extend(b,{userDetails:{lastName:a.userData.lastName,firstName:a.userData.firstName,dateOfBirth:null,codeCustomer:null}}):angular.extend(b,{userDetails:a.userData})),b},i}])}(),angular.module("proteo.ui.sca-signature-panel.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/proteo-ui-sca-signature-panel-error.html",'<div class="col-xs-12 sm-padding md-margin-bottom" ng-if="error"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" ng-bind="error"></proteo-ui-text></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/proteo-ui-sca-signature-panel-tpl.html",'<div id="signaturePanel"><div ng-if="templateName === \'password\' && !isValid"><div ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/password-signature-panel-tpl.html\'"></div></div><div ng-if="templatename === \'nosign\'"></div><div ng-if="templateName === \'otp\' && !isValid"><div ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/otp-signature-panel-tpl.html\'"></div></div><div ng-if="templateName === \'otp_mi\' && !isValid"><div class="md-margin-bottom"><proteo-ui-link><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_SCA_LINK" ng-click="$parent.previousLink()"></proteo-ui-text></proteo-ui-link></div><proteo-ui-text class="text-bold text-lg" translate="PAYMENT_AUTHENTICATION_TITLE"></proteo-ui-text><div ng-if="$parent.scaStep ===\'mi\'" ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/mi-signature-panel-tpl.html\'"></div><div ng-if="$parent.scaStep ===\'otp\'" ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/otp-signature-panel-tpl.html\'"></div></div><div class="col-xs-12 error sm-padding error md-margin-bottom" id="literalException" ng-if="exceptionLiteral && exceptionLiteral != \'isValid\'"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" ng-bind="exceptionLiteral"></proteo-ui-text></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/mi-signature-panel-tpl.html",'<div class="row"><div class="col-xs-12"><h3 class="md-margin-bottom" ng-if="!$parent.isPaymentScaValue"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_TITLE"></proteo-ui-text></h3><proteo-ui-text ng-if="!$parent.isPaymentScaValue" class="text-bold sm-margin-bottom sm-margin-top" translate="PAYMENT_AUTHENTICATION_TEXT1" translate-values="{charXPos : chars.charXPos, charYPos : chars.charYPos, charZPos : chars.charZPos}"></proteo-ui-text><proteo-ui-text ng-if="$parent.isPaymentScaValue" class="sm-margin-bottom sm-margin-top" translate="PAYMENT_AUTHENTICATION_TEXT1_SCA"></proteo-ui-text></div><div class="col-xs-12" ng-if="formName.$error.notSelected.length > 0 && formName.$submitted"><div class="md-margin-top"><proteo-ui-text class="text-bold text-md sm-margin-right" translate="PAYMENT_AUTHENTICATION_ERROR_NO_MEMORABLEINFORMATION_TITLE"></proteo-ui-text></div></div><div class="col-xs-12 sm-margin-top" ng-class="{\'error has-error has-feedback\' : (formName.$error.notSelected.length === 3 || formName.$error.notSelected.length > 0) && formName.$submitted}"><div class="row"><div class="input-group"><div class="col-sm-4 col-md-3 sm-margin-top"><proteo-ui-text class="text-bold" translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_CHARACTER1" translate-values="{charXPos : chars.charXPos}"></proteo-ui-text><label for="charXPos"></label><select class="form-control" id="charXPos" name="charXPos" ng-change="checkValidation(formName, \'charXPos\')" ng-model="chars.charXValue"><option disabled translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_PLEASE_ENTER" value="-1"><option ng-repeat="c in charOptions" value="{{c}}">{{c}}</select></div><div class="col-sm-4 col-md-3 sm-margin-top"><proteo-ui-text class="text-bold" translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_CHARACTER2" translate-values="{charYPos : chars.charYPos}"></proteo-ui-text><label for="charYPos"></label><select class="form-control" id="charYPos" name="charYPos" ng-change="checkValidation(formName, \'charYPos\')" ng-model="chars.charYValue"><option disabled translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_PLEASE_ENTER" value="-1"><option ng-repeat="c in charOptions" value="{{c}}">{{c}}</select></div><div class="col-sm-4 col-md-3 sm-margin-top"><proteo-ui-text class="text-bold" translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_CHARACTER3" translate-values="{charZPos : chars.charZPos}"></proteo-ui-text><label for="charZPos"></label><select class="form-control" id="charZPos" name="charZPos" ng-change="checkValidation(formName, \'charZPos\')" ng-model="chars.charZValue"><option disabled translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_PLEASE_ENTER" value="-1"><option ng-repeat="c in charOptions" value="{{c}}">{{c}}</select></div><div class="input-group-addon mt-md" ng-if="(formName.$error.notSelected.length === 3 || formName.$error.notSelected.length > 0) && formName.$submitted"><proteo-ui-icon icon="alert"></proteo-ui-icon></div><div class="input-group-addon mt-md" ng-if="!(formName.$error.notSelected.length === 3 || formName.$error.notSelected.length > 0) && formName.$submitted"><proteo-ui-icon icon="check"></proteo-ui-icon></div></div></div><div class="has-error" ng-if="(formName.$error.notSelected.length === 3 || formName.$error.notSelected.length > 0) && formName.$submitted"><proteo-ui-text class="form-error" translate="PAYMENT_AUTHENTICATION_ERROR_NO_MEMORABLEINFORMATION_DESCRIPTION"></proteo-ui-text></div></div><div class="col-xs-12 md-margin-top"><proteo-ui-link id="linkReset" ui-sref="credentials.changeMemorableInformation"><proteo-ui-icon id="reset" icon="next"></proteo-ui-icon><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_LINK"></proteo-ui-text></proteo-ui-link></div><div class="col-xs-12 md-margin-top"><proteo-ui-button class="pull-right" ng-click="$parent.submitMI(formName)" ng-disabled="buttonDisabled"><proteo-ui-text translate="RETAIL_SIGNATUREPANEL_OTP_BUTTON"></proteo-ui-text></proteo-ui-button></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/otp-signature-panel-tpl.html",'<div ng-if="!$parent.isBiz || $parent.isPublic"><div ng-if="!$parent.selectedPhone && !$parent.selectedActivationCode" class="col-xs-12"><proteo-ui-authentication-panel-telephone is-pay-sca="{{$parent.isPaymentScaValue}}" ng-if="!$parent.isPublicOtp" functional-parent="$parent.functionalParent" no-phones-atrieved="$parent.goWithActivation()" activation-code="$parent.activationCode" user-data="$parent.userData" selected-phone="$parent.phone" custom-headers="$parent.getPhoneHeaders" is-biz="isBiz" apply-code="{{$parent.applyCode}}"></proteo-ui-authentication-panel-telephone><proteo-ui-authentication-panel-telephone is-pay-sca="{{$parent.isPaymentScaValue}}" ng-if="$parent.isPublicOtp" functional-parent="$parent.functionalParent" no-phones-atrieved="$parent.goWithActivation()" activation-code="$parent.activationCode" user-data="null" selected-phone="$parent.phone" custom-headers="$parent.getPhoneHeaders" is-biz="isBiz" apply-code="{{$parent.applyCode}}"></proteo-ui-authentication-panel-telephone><proteo-ui-button ng-disabled="isDisabled(phone)" class="pull-right" ng-click="$parent.selectPhone(phone)"><proteo-ui-text translate="RETAIL_SIGNATUREPANEL_OTP_CONTINUE_BUTTON"></proteo-ui-text></proteo-ui-button></div><div ng-show="$parent.selectedPhone && !$parent.selectedActivationCode" class="col-xs-12 md-margin-top"><proteo-ui-sca-otp-authentication-panel is-pay-sca="{{$parent.isPaymentScaValue}}" is-sms="$parent.phone.type === \'mobile\'" reset-input="resetDirective" entered-otp="$parent.data.otp" is-sca="$parent.scaStep ===\'otp\'"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-sca-otp-authentication-panel></div><div ng-show="$parent.selectedActivationCode" class="col-xs-12"><div class="col-xs-12 md-padding"><div class="col-xs-2 col-sm-2 col-md-1 row"><proteo-ui-icon icon-bg="blue" icon="alert"></proteo-ui-icon></div><div class="col-xs-11"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_OTP_ACTIVATIONCODE_DFLT_WAITING"></proteo-ui-text></div></div></div><div ng-if="displayedError && $parent.phone !== \'activationCode\'" class="col-xs-12 sm-padding error md-margin-bottom"><proteo-ui-icon icon-bg="red" icon="alert" id="alertIcoSignature"></proteo-ui-icon><proteo-ui-text class="text-bold" translate="COMMON_SIGNATURE_PANEL_ERROR_MESSAGE"></proteo-ui-text></div></div><div ng-if="$parent.isBiz && !$parent.isPublic" class="col-xs-12"><proteo-ui-otp-app-authentication-panel is-sms="false" reset-input="resetDirective" entered-otp="$parent.data.otp"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-otp-app-authentication-panel></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/password-signature-panel-tpl.html",'<proteo-ui-authentication-panel-sp sp-min-length="spMinLength" sp-max-length="spMaxLength" reset-input="resetDirective" one-error="true" entered-password="$parent.data.pass" mechanism="spPassword"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-authentication-panel-sp>')}]),function(){"use strict";angular.module("proteo.ui.signature-panel").controller("proteoUiSignatureController",["uuid","consultiveFactory",function(a,b){this.signatureType="",this.exceptionLiteral="",this.data={},this.userData={},this.reset=!1,this.publicHeaders=null,this.businessData={},this.mpaData={},this.isBiz=!1,this.createOnly=!0,this.amount=null,this.phone={},this.notAuthValidate=!1,this.goWithActivation=function(){},this.otpAttempts=0,this.activationCodeSelected=!1,this.clickButton=!1,this.applyCode=null,this.setUseOperationId=function(a){this.useOperationId=a},this.setIsPublicOtp=function(a){this.isPublicOtp=a},this.setIsBiz=function(a){this.isBiz=a},this.setCreateOnly=function(a){this.createOnly=a},this.getCreateOnly=function(){return this.createOnly},this.setPhone=function(a){this.phone=a},this.getPhone=function(){return this.phone},this.setAmount=function(a){this.amount=a},this.getAmount=function(){return this.amount},this.getIsBiz=function(){return this.isBiz},this.setMpaData=function(a){this.mpaData=a},this.getMpaData=function(){return this.mpaData},this.setUserData=function(a){this.userData=a},this.getUserData=function(){return this.userData},this.setBusinessData=function(a){this.businessData=a},this.getBusinessData=function(){return this.businessData},this.setOtpData=function(a){this.otpData=a},this.getOtpData=function(){return this.otpData},this.setData=function(a){this.data=a},this.getData=function(){return this.data},this.setSignatureType=function(a){this.signatureType=a},this.getSignatureType=function(){return this.signatureType},this.setSelectedActivationCode=function(a){this.selectedActivationCode=a},this.getSelectedActivationCode=function(){return this.selectedActivationCode},this.sumOtpAttempts=function(){this.otpAttempts++},this.getOtpAttempts=function(){return this.otpAttempts},this.setApplyCode=function(a){this.applyCode=a},this.getApplyCode=function(){return this.applyCode},this.getEndPoint=function(a){return"informOTP"===a||this.createOnly?"/signaturewebadapter-v2/getSignAndConfirm":"/signaturewebadapter-v2/validateSignature"},this.restart=function(){"password"===this.signatureType?(this.signatureType="",this.reset=!0):"otp"===this.signatureType&&(this.reset=!0)},this.getOperationIDHeaders=function(c){var d;if(this.publicHeaders)d=this.publicHeaders;else if(angular.isDefined(this.useOperationId)&&"true"===this.useOperationId)this.publicHeaders=angular.copy({"HEADER.SERVICE_SCOPE":"PUBLIC"}),d=this.publicHeaders;else{var e=c+"-"+a.v4();b.setOperationID(e);var f={"HEADER.operationID":e,"HEADER.SERVICE_SCOPE":"PUBLIC"};this.publicHeaders=angular.copy(f),d=this.publicHeaders}return d},this.getBodyParams=function(a){var b={};switch(this.signatureType){case"password":b={signatureType:"PASSWORD",verifyCode:this.data.pass,operationType:this.isBiz?"BUSINESS":"RETAIL"},angular.equals({},this.mpaData)||angular.extend(b,{data:this.mpaData}),angular.extend(b,{amount:this.amount});break;case"otp":b={signatureType:"OTP",userName:a,verifyCode:this.data.otp,operationType:this.isBiz?"BUSINESS":"RETAIL"},angular.equals({},this.userData)||angular.extend(b,{username:this.userData.user}),null!=this.applyCode&&angular.extend(b,{applyCode:this.applyCode}),angular.extend(b,{notificationTo:this.phone.number,notificationType:this.phone.type});break;case"nosign":b={signatureType:"NOSIGN",operationType:this.isBiz?"BUSINESS":"RETAIL",verifyCode:""},angular.extend(b,{sourceAccount:this.businessData?this.businessData.accountNumber:null,amount:this.amount}),angular.equals({},this.mpaData)||angular.extend(b,{data:this.mpaData})}return angular.equals({},this.businessData)||angular.extend(b,{businessDetails:this.businessData}),angular.equals({},this.userData)||(this.isPublicOtp?angular.extend(b,{userDetails:{lastName:this.userData.lastName,firstName:this.userData.firstName,dateOfBirth:null,codeCustomer:null}}):angular.extend(b,{userDetails:this.userData})),b},this.launchSignatureButton=function(){this.clickButton=!0}}])}(),function(){"use strict";angular.module("proteo.ui.signature-panel").directive("proteoUiSignature",function(){return{restrict:"A",scope:{},controller:"proteoUiSignatureController"}}).directive("signaturePanelError",["proteoUiSignaturePanelService",function(a){return{restrict:"A",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-signature-panel/proteo-ui-signature-panel-error.html",link:function(b){b.$watchCollection(function(){return a.getError()},function(a){b.error=a},!0)}}}]).directive("proteoUiSignaturePanel",["tsbJournalService","proteoUiSignaturePanelService","$compile","$log","$filter","consultiveFactory","APP_CONFIG",function(a,b,c,d,e,f,g){return{restrict:"E",require:"^proteoUiSignature",scope:{operation:"@",userData:"=?",amount:"@",formName:"=",data:"=?output",businessData:"=?",mpaData:"@",activationCode:"=?",goWithActivation:"&",spMinLength:"=?",spMaxLength:"=?",otpData:"=?",useOperationId:"@?",isPublicOtp:"@?",applyCode:"@",functionalParent:"=?",noShowPhones:"=?"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-signature-panel/proteo-ui-signature-panel-tpl.html",link:function(c,f,h,i){function j(a){var b=a;return"+"!==a.charAt(0)&&(b="+"+a),b}function k(){n||(c.formName.$setValidity("signaturePanelError",!1),c.displayedError=!0)}function l(){var d=null;(c.userData||c.applyCode||c.isPublic)&&(d=i.getOperationIDHeaders(c.operation)),b.getproteoUiSignaturePanel(p,"signaturePanel",d).then(function(a){if(a.authValidate||(i.notAuthValidate=!0),a&&angular.isDefined(a.signatureType)&&null!==a.signatureType){if(i.setCreateOnly(!a.authValidate),a.authValidate)switch(a.signatureType){case"password":c.templateName="password";break;case"otp":c.templateName="otp";break;case"nosign":c.templateName="nosign";break;default:k()}else c.templateName="nosign";i.setSignatureType(c.templateName)}else c.formName.$setValidity("signaturePanelError",!1),n=!0;c.isBiz&&!c.isPublic&&"otp"===c.templateName&&(c.phone.number="activationcredentialsPublic",i.setSignatureType("otp"),c.phone.type="APP",c.selectPhone(c.phone))},function(b){"RESMII"===c.operation&&a.newOperation(),m(b)})}function m(a){var e=angular.isDefined(a)&&(angular.isDefined(a.exception)&&angular.isDefined(a.exception.code)||angular.isDefined(a.exception[0])&&angular.isDefined(a.exception[0].code)),f=e&&(angular.isDefined(a.exception.description)&&""!==a.exception.description||angular.isDefined(a.exception[0].description)&&""!==a.exception[0].description);k(),e&&f&&angular.isDefined(a.exception)&&angular.isDefined(a.exception.code)&&a.exception.code.indexOf("ERR")>-1?(b.setError(a.exception.description),d.debug(a.exception),c.exceptionLiteral=a.exception.description):e&&f&&angular.isDefined(a.exception[0])&&angular.isDefined(a.exception[0].code)&&a.exception[0].code.indexOf("ERR")>-1?(b.setError(a.exception[0].description),d.debug(a.exception[0]),c.exceptionLiteral=a.exception[0].description):(b.setErrorSystem(),d.debug(a),c.exceptionLiteral=o("COMMON_SIGNATURE_PANEL_ERROR_INVALID"))}c.data={},c.data.otp=null,c.activationCode=c.activationCode||!1,c.applyCode=c.applyCode||null,c.functionalParent=c.functionalParent||null,c.selectedActivationCode=!1,c.selectedPhone=!1,c.noShowPhones=c.noShowPhones||!1,c.phone={};var n=!1;c.exceptionLiteral="",c.displayedError=!1,c.isValid=!1,c.resetDirective=!1,b.setError(null),c.getPhoneHeaders={};var o=e("translate");i.goWithActivation=c.goWithActivation,c.spMinLength=c.spMinLength||null,c.spMaxLength=c.spMaxLength||null,c.isBiz=angular.isDefined(g.Procedence)&&"WB01"===g.Procedence?!0:!1,c.isPublic=angular.isDefined(h["public"])?!0:!1,i.setIsBiz(c.isBiz),c.getPhoneHeaders=c.userData||c.applyCode?i.getOperationIDHeaders(c.operation):{},c.otpValue=null,c.userData&&i.setUserData(c.userData),c.isPublicOtp&&i.setIsPublicOtp(c.isPublicOtp),c.useOperationId&&i.setUseOperationId(c.useOperationId),c.amount&&i.setAmount(c.amount),c.businessData&&i.setBusinessData(c.businessData),c.mpaData&&i.setMpaData(c.mpaData),c.otpData&&i.setOtpData(c.otpData),c.applyCode&&i.setApplyCode(c.applyCode);var p={amount:c.amount,codeOperation:c.operation,userDetails:c.isPublicOtp?null:c.userData,businessDetails:c.businessData?c.businessData:null,data:c.mpaData?c.mpaData:null,applyCode:c.applyCode?c.applyCode:null};c.selectPhone=function(d){if("activationCode"===d)return c.selectedActivationCode=!0,i.setSelectedActivationCode(c.selectedActivationCode),void i.launchSignatureButton();if(c.phone=d,"work"!==d.type||""===d.extension||null===d.extension){var e=i.getEndPoint("informOTP"),f={amount:c.amount,notificationTo:"activationcredentialsPublic"===d.number?" ":j(d.number),notificationType:d.type,operationType:c.isBiz?"BUSINESS":"RETAIL",signatureType:i.getSignatureType().toUpperCase(),sourceAccount:c.businessData?c.businessData.accountNumber:null,applyCode:c.applyCode?c.applyCode:null};if(c.userData&&(c.isPublicOtp?angular.extend(f,{userDetails:null}):angular.extend(f,{userDetails:c.userData})),c.businessData&&angular.extend(f,{businessDetails:c.businessData}),c.otpData){var g={accountNumber:"",amount:c.amount||0,phone:""};angular.isDefined(c.otpData.accountNumber)&&c.otpData.accountNumber.length>4&&(g.accountNumber=c.otpData.accountNumber.substring(c.otpData.accountNumber.length-4,c.otpData.accountNumber.length)),angular.isDefined(c.otpData.phone)&&c.otpData.phone.length>3&&(g.phone=c.otpData.phone.substring(c.otpData.phone.length-3,c.otpData.phone.length)),angular.extend(f,{otpData:g})}c.mpaData&&angular.extend(f,{mpaData:c.mpaData,data:c.mpaData});var h=null;(c.userData||c.applyCode||c.isPublic)&&(h=i.getOperationIDHeaders(c.operation)),b.checkValidationService(f,e,null,h).then(function(a){c.selectedPhone=!0},function(b){"RESMII"===c.operation&&a.newOperation(),m(b)})}},c.$watchCollection("data",function(a){i.setData(a)}),c.$watchCollection(function(){return i.exceptionLiteral},function(a){"isValid"===a&&(c.isValid=!0),a&&(c.exceptionLiteral=a)},!0),c.$watchCollection(function(){return i.reset},function(a,b){i.reset?(c.resetDirective=!0,l(),i.reset=!1,
c.data.pass=null,c.data.otp=null):c.resetDirective=!1},!0),c.isDisabled=function(a){return angular.equals(a,{})},null===c.operation||""===c.operation||angular.equals({},c.operation)?m():l()}}}]).directive("proteoUiSignaturePanelButton",["proteoUiSignaturePanelService","$log","$filter","consultiveFactory","$state","APP_CONFIG",function(a,b,c,d,e,f){return{require:"^proteoUiSignature",restrict:"E",transclude:!0,replace:!0,scope:{isValid:"&",isInvalid:"&"},template:'<button ng-click="checkValidation()" class="btn md-btn" ng-transclude></button>',link:function(d,g,h,i){function j(a){switch(a){case"call":case"colleagueBranch":case"colleagueTelephony":return!1;default:return!0}}function k(){var a={template:"passwordAttemptsExceed",isBiz:"B"===f.Procedence[1]?!0:!1,hideBackLinkButton:!1};JSM._updateDataLayer({error_message:n("COMMON_SIGNATURE_PANEL_ERROR_INVALID")}),e.go("globalErrorPage",a)}function l(c,e){var f=null;angular.equals(i.getUserData(),{})&&null==i.getApplyCode()||(f=i.getOperationIDHeaders()),a.checkValidationService(c,e,null,f).then(function(b){if(i.createOnly||b.result&&b.pendingRequiredSigners>0){var c={err:{pendingRequiredSigners:!0}};i.exceptionLiteral="isValid",d.isInvalid(c)}else b.result&&0===b.pendingRequiredSigners?(a.setError(null),i.exceptionLiteral="isValid",d.isValid()):(i.restart(),JSM._updateDataLayer({error_message:n("COMMON_SIGNATURE_PANEL_ERROR_INVALID")}),a.setError(n("COMMON_SIGNATURE_PANEL_ERROR_INVALID")),d.isInvalid())},function(c){if(angular.isDefined(c.exception)){if("ERR339"===c.exception.code||"ERR340"===c.exception.code||""===c.exception.code)return void k();if("ERR317"===c.exception.code){var c={err:{pendingRequiredSigners:!0}};i.exceptionLiteral="isValid",d.isInvalid(c)}else{d.isInvalid({err:c.exception});var e=angular.isDefined(c)&&angular.isDefined(c.exception)&&angular.isDefined(c.exception.code),f=e&&angular.isDefined(c.exception.description)&&""!==c.exception.description;e&&f&&c.exception.code.indexOf("ERR")>-1?a.setError(c.exception.description):a.setErrorSystem()}b.debug(c.exception)}else d.isInvalid(),JSM._updateDataLayer({error_message:n("COMMON_SIGNATURE_PANEL_ERROR_INVALID")}),a.setError(n("COMMON_SIGNATURE_PANEL_ERROR_INVALID")),b.debug(c);i.sumOtpAttempts(),i.getOtpAttempts()>=5&&i.goWithActivation(),i.restart()})}var m,n=c("translate"),o=(d.$watchCollection(function(){return i.notAuthValidate},function(b,c){if(1==b){a.setError(n("COMMON_SIGNATURE_PANEL_VALIDATION_ERROR"));var e={err:{authValidate:!1}};d.isInvalid(e)}},!0),d.$watchCollection(function(){return i.signatureType},function(a,b){m=a,a&&o()},!0));d.$watchCollection(function(){return i.clickButton},function(a,b){a&&d.isValid({activationCode:i.getSelectedActivationCode()})}),d.checkValidation=function(){if(j(m)){var a=i.getBodyParams(),b=i.getEndPoint();l(a,b)}else d.isValid()}}}}])}(),function(){"use strict";angular.module("proteo.ui.signature-panel").factory("proteoUiSignaturePanelService",["$log","$filter","proteocanalinvokerServices","$q",function(a,b,c,d){a.debug("proteoUiSignaturePanelServices loading");var e=b("translate"),f={},g=null;return f.setError=function(a){g=a},f.setErrorSystem=function(){g=e("ERROR_SISTEMA")},f.getError=function(){return g},f.getproteoUiSignaturePanel=function(a,b,e){function f(a){h.resolve(a)}function g(a){h.reject(a)}var h=d.defer();c.error(g);var i={service:"/signaturewebadapter-v2/getSignatureType",callback:f,fail:g,headers:e,data:a};return angular.isDefined(b)&&null!==b&&(i=angular.extend(i,{idLoader:b,bigLoader:!0})),c.invoke(i),h.promise},f.checkValidationService=function(a,b,e,f){function g(a){i.resolve(a)}function h(a){i.reject(a)}var i=d.defer();c.error(h);var j={service:b,callback:g,fail:h,headers:f,data:a};return null!==e&&angular.isDefined(e)&&(j=angular.extend(j,{idLoader:e,bigLoader:!0})),c.invoke(j),i.promise},f}])}(),angular.module("proteo.ui.signature-panel.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-signature-panel/proteo-ui-signature-panel-error.html",'<div class="col-xs-12 sm-padding md-margin-bottom" ng-if="error"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" ng-bind="error"></proteo-ui-text></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-signature-panel/proteo-ui-signature-panel-tpl.html",'<div id="signaturePanel"><div ng-if="templateName === \'password\' && !isValid"><proteo-ui-authentication-panel-sp sp-min-length="spMinLength" sp-max-length="spMaxLength" reset-input="resetDirective" one-error="true" entered-password="$parent.data.pass" mechanism="spPassword"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-authentication-panel-sp></div><div ng-if="templatename === \'nosign\'"></div><div ng-if="templateName === \'otp\' && !isValid"><div ng-if="!$parent.isBiz || $parent.isPublic"><div ng-if="!$parent.selectedPhone && !$parent.selectedActivationCode" class="col-xs-12"><proteo-ui-authentication-panel-telephone ng-if="!$parent.isPublicOtp" functional-parent="$parent.functionalParent" no-show-phones="$parent.noShowPhones" no-phones-atrieved="$parent.goWithActivation()" activation-code="$parent.activationCode" user-data="$parent.userData" selected-phone="$parent.phone" custom-headers="$parent.getPhoneHeaders" is-biz="isBiz" apply-code="{{$parent.applyCode}}"></proteo-ui-authentication-panel-telephone><proteo-ui-authentication-panel-telephone ng-if="$parent.isPublicOtp" functional-parent="$parent.functionalParent" no-show-phones="$parent.noShowPhones" no-phones-atrieved="$parent.goWithActivation()" activation-code="$parent.activationCode" user-data="null" selected-phone="$parent.phone" custom-headers="$parent.getPhoneHeaders" is-biz="isBiz" apply-code="{{$parent.applyCode}}"></proteo-ui-authentication-panel-telephone><proteo-ui-button ng-disabled="isDisabled(phone)" class="pull-right" ng-click="$parent.selectPhone(phone)"><proteo-ui-text translate="RETAIL_SIGNATUREPANEL_OTP_CONTINUE_BUTTON"></proteo-ui-text></proteo-ui-button></div><div ng-show="$parent.selectedPhone && !$parent.selectedActivationCode" class="col-xs-12"><proteo-ui-otp-authentication-panel is-sms="$parent.phone.type === \'mobile\'" reset-input="resetDirective" entered-otp="$parent.data.otp"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-otp-authentication-panel></div><div ng-show="$parent.selectedActivationCode" class="col-xs-12"><div class="col-xs-12 md-padding"><div class="col-xs-2 col-sm-2 col-md-1 row"><proteo-ui-icon icon-bg="blue" icon="alert"></proteo-ui-icon></div><div class="col-xs-11"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_OTP_ACTIVATIONCODE_DFLT_WAITING"></proteo-ui-text></div></div></div><div ng-if="displayedError && $parent.phone !== \'activationCode\'" class="col-xs-12 sm-padding error md-margin-bottom"><proteo-ui-icon icon-bg="red" icon="alert" id="alertIcoSignature"></proteo-ui-icon><proteo-ui-text class="text-bold" translate="COMMON_SIGNATURE_PANEL_ERROR_MESSAGE"></proteo-ui-text></div></div><div ng-if="$parent.isBiz && !$parent.isPublic" class="col-xs-12"><proteo-ui-otp-app-authentication-panel is-sms="false" reset-input="resetDirective" entered-otp="$parent.data.otp"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-otp-app-authentication-panel></div></div><div class="col-xs-12 error sm-padding error md-margin-bottom" id="literalException" ng-if="exceptionLiteral && exceptionLiteral != \'isValid\'"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" ng-bind="exceptionLiteral"></proteo-ui-text></div></div>')}]),function(a,b,c){"use strict";"undefined"!=typeof window&&"function"==typeof define&&define.amd?define(c):"undefined"!=typeof module&&module.exports?module.exports=c():b.exports?b.exports=c():b[a]=c()}("Fingerprint2",this,function(){"use strict";var a=function(a,b){a=[a[0]>>>16,65535&a[0],a[1]>>>16,65535&a[1]],b=[b[0]>>>16,65535&b[0],b[1]>>>16,65535&b[1]];var c=[0,0,0,0];return c[3]+=a[3]+b[3],c[2]+=c[3]>>>16,c[3]&=65535,c[2]+=a[2]+b[2],c[1]+=c[2]>>>16,c[2]&=65535,c[1]+=a[1]+b[1],c[0]+=c[1]>>>16,c[1]&=65535,c[0]+=a[0]+b[0],c[0]&=65535,[c[0]<<16|c[1],c[2]<<16|c[3]]},b=function(a,b){a=[a[0]>>>16,65535&a[0],a[1]>>>16,65535&a[1]],b=[b[0]>>>16,65535&b[0],b[1]>>>16,65535&b[1]];var c=[0,0,0,0];return c[3]+=a[3]*b[3],c[2]+=c[3]>>>16,c[3]&=65535,c[2]+=a[2]*b[3],c[1]+=c[2]>>>16,c[2]&=65535,c[2]+=a[3]*b[2],c[1]+=c[2]>>>16,c[2]&=65535,c[1]+=a[1]*b[3],c[0]+=c[1]>>>16,c[1]&=65535,c[1]+=a[2]*b[2],c[0]+=c[1]>>>16,c[1]&=65535,c[1]+=a[3]*b[1],c[0]+=c[1]>>>16,c[1]&=65535,c[0]+=a[0]*b[3]+a[1]*b[2]+a[2]*b[1]+a[3]*b[0],c[0]&=65535,[c[0]<<16|c[1],c[2]<<16|c[3]]},c=function(a,b){return b%=64,32===b?[a[1],a[0]]:32>b?[a[0]<<b|a[1]>>>32-b,a[1]<<b|a[0]>>>32-b]:(b-=32,[a[1]<<b|a[0]>>>32-b,a[0]<<b|a[1]>>>32-b])},d=function(a,b){return b%=64,0===b?a:32>b?[a[0]<<b|a[1]>>>32-b,a[1]<<b]:[a[1]<<b-32,0]},e=function(a,b){return[a[0]^b[0],a[1]^b[1]]},f=function(a){return a=e(a,[0,a[0]>>>1]),a=b(a,[4283543511,3981806797]),a=e(a,[0,a[0]>>>1]),a=b(a,[3301882366,444984403]),a=e(a,[0,a[0]>>>1])},g=function(g,h){g=g||"",h=h||0;for(var i=g.length%16,j=g.length-i,k=[0,h],l=[0,h],m=[0,0],n=[0,0],o=[2277735313,289559509],p=[1291169091,658871167],q=0;j>q;q+=16)m=[255&g.charCodeAt(q+4)|(255&g.charCodeAt(q+5))<<8|(255&g.charCodeAt(q+6))<<16|(255&g.charCodeAt(q+7))<<24,255&g.charCodeAt(q)|(255&g.charCodeAt(q+1))<<8|(255&g.charCodeAt(q+2))<<16|(255&g.charCodeAt(q+3))<<24],n=[255&g.charCodeAt(q+12)|(255&g.charCodeAt(q+13))<<8|(255&g.charCodeAt(q+14))<<16|(255&g.charCodeAt(q+15))<<24,255&g.charCodeAt(q+8)|(255&g.charCodeAt(q+9))<<8|(255&g.charCodeAt(q+10))<<16|(255&g.charCodeAt(q+11))<<24],m=b(m,o),m=c(m,31),m=b(m,p),k=e(k,m),k=c(k,27),k=a(k,l),k=a(b(k,[0,5]),[0,1390208809]),n=b(n,p),n=c(n,33),n=b(n,o),l=e(l,n),l=c(l,31),l=a(l,k),l=a(b(l,[0,5]),[0,944331445]);switch(m=[0,0],n=[0,0],i){case 15:n=e(n,d([0,g.charCodeAt(q+14)],48));case 14:n=e(n,d([0,g.charCodeAt(q+13)],40));case 13:n=e(n,d([0,g.charCodeAt(q+12)],32));case 12:n=e(n,d([0,g.charCodeAt(q+11)],24));case 11:n=e(n,d([0,g.charCodeAt(q+10)],16));case 10:n=e(n,d([0,g.charCodeAt(q+9)],8));case 9:n=e(n,[0,g.charCodeAt(q+8)]),n=b(n,p),n=c(n,33),n=b(n,o),l=e(l,n);case 8:m=e(m,d([0,g.charCodeAt(q+7)],56));case 7:m=e(m,d([0,g.charCodeAt(q+6)],48));case 6:m=e(m,d([0,g.charCodeAt(q+5)],40));case 5:m=e(m,d([0,g.charCodeAt(q+4)],32));case 4:m=e(m,d([0,g.charCodeAt(q+3)],24));case 3:m=e(m,d([0,g.charCodeAt(q+2)],16));case 2:m=e(m,d([0,g.charCodeAt(q+1)],8));case 1:m=e(m,[0,g.charCodeAt(q)]),m=b(m,o),m=c(m,31),m=b(m,p),k=e(k,m)}return k=e(k,[0,g.length]),l=e(l,[0,g.length]),k=a(k,l),l=a(l,k),k=f(k),l=f(l),k=a(k,l),l=a(l,k),("00000000"+(k[0]>>>0).toString(16)).slice(-8)+("00000000"+(k[1]>>>0).toString(16)).slice(-8)+("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)},h={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},i=function(a,b){if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(b);else if(a.length===+a.length)for(var c=0,d=a.length;d>c;c++)b(a[c],c,a);else for(var e in a)a.hasOwnProperty(e)&&b(a[e],e,a)},j=function(a,b){var c=[];return null==a?c:Array.prototype.map&&a.map===Array.prototype.map?a.map(b):(i(a,function(a,d,e){c.push(b(a,d,e))}),c)},k=function(a,b){if(null==b)return a;var c,d;for(d in b)c=b[d],null==c||Object.prototype.hasOwnProperty.call(a,d)||(a[d]=c);return a},l=function(a,b){return m()?void navigator.mediaDevices.enumerateDevices().then(function(b){a(b.map(function(a){return"id="+a.deviceId+";gid="+a.groupId+";"+a.kind+";"+a.label}))})["catch"](function(b){a(b)}):a(b.NOT_AVAILABLE)},m=function(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices},n=function(a,b){var c=b.audio;if(c.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return a(b.EXCLUDED);var d=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(null==d)return a(b.NOT_AVAILABLE);var e=new d(1,44100,44100),f=e.createOscillator();f.type="triangle",f.frequency.setValueAtTime(1e4,e.currentTime);var g=e.createDynamicsCompressor();i([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],function(a){void 0!==g[a[0]]&&"function"==typeof g[a[0]].setValueAtTime&&g[a[0]].setValueAtTime(a[1],e.currentTime)}),f.connect(g),g.connect(e.destination),f.start(0),e.startRendering();var h=setTimeout(function(){return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/Valve/fingerprintjs2 with your user agent: "'+navigator.userAgent+'".'),e.oncomplete=function(){},e=null,a("audioTimeout")},c.timeout);e.oncomplete=function(b){var c;try{clearTimeout(h),c=b.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce(function(a,b){return a+Math.abs(b)},0).toString(),f.disconnect(),g.disconnect()}catch(d){return void a(d)}a(c)}},o=function(a){a(navigator.userAgent)},p=function(a,b){a(null==navigator.webdriver?b.NOT_AVAILABLE:navigator.webdriver)},q=function(a,b){a(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||b.NOT_AVAILABLE)},r=function(a,b){a(window.screen.colorDepth||b.NOT_AVAILABLE)},s=function(a,b){a(navigator.deviceMemory||b.NOT_AVAILABLE)},t=function(a,b){a(window.devicePixelRatio||b.NOT_AVAILABLE)},u=function(a,b){a(v(b))},v=function(a){var b=[window.screen.width,window.screen.height];return a.screen.detectScreenOrientation&&b.sort().reverse(),b},w=function(a,b){a(x(b))},x=function(a){if(window.screen.availWidth&&window.screen.availHeight){var b=[window.screen.availHeight,window.screen.availWidth];return a.screen.detectScreenOrientation&&b.sort().reverse(),b}return a.NOT_AVAILABLE},y=function(a){a((new Date).getTimezoneOffset())},z=function(a,b){return window.Intl&&window.Intl.DateTimeFormat?void a((new window.Intl.DateTimeFormat).resolvedOptions().timeZone):void a(b.NOT_AVAILABLE)},A=function(a,b){a(Y(b))},B=function(a,b){a(Z(b))},C=function(a,b){a($(b))},D=function(a){a(!(!document.body||!document.body.addBehavior))},E=function(a){a(!!window.openDatabase)},F=function(a,b){a(aa(b))},G=function(a,b){a(ba(b))},H=function(a,b){a(ca(b))},I=function(a,b){return ma()?void a(ea(b)):void a(b.NOT_AVAILABLE)},J=function(a,b){return na()?void a(fa()):void a(b.NOT_AVAILABLE)},K=function(a){return na()?void a(ga()):void a()},L=function(a){a(ha())},M=function(a){a(ia())},N=function(a){a(ja())},O=function(a){a(ka())},P=function(a){a(la())},Q=function(a,b){return pa()?qa()?b.fonts.swfPath?void sa(function(b){a(b)},b):a("missing options.fonts.swfPath"):a("flash not installed"):a("swf object not loaded")},R=function(a,b){var c=["monospace","sans-serif","serif"],d=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];if(b.fonts.extendedJsFonts){var e=["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"];d=d.concat(e)}d=d.concat(b.fonts.userDefinedFonts),d=d.filter(function(a,b){return d.indexOf(a)===b});var f="mmmmmmmmmmlli",g="72px",h=document.getElementsByTagName("body")[0],i=document.createElement("div"),j=document.createElement("div"),k={},l={},m=function(){var a=document.createElement("span");return a.style.position="absolute",a.style.left="-9999px",a.style.fontSize=g,a.style.fontStyle="normal",a.style.fontWeight="normal",a.style.letterSpacing="normal",a.style.lineBreak="auto",a.style.lineHeight="normal",a.style.textTransform="none",a.style.textAlign="left",a.style.textDecoration="none",a.style.textShadow="none",a.style.whiteSpace="normal",a.style.wordBreak="normal",a.style.wordSpacing="normal",a.innerHTML=f,a},n=function(a,b){var c=m();return c.style.fontFamily="'"+a+"',"+b,c},o=function(){for(var a=[],b=0,d=c.length;d>b;b++){var e=m();e.style.fontFamily=c[b],i.appendChild(e),a.push(e)}return a},p=function(){for(var a={},b=0,e=d.length;e>b;b++){for(var f=[],g=0,h=c.length;h>g;g++){var i=n(d[b],c[g]);j.appendChild(i),f.push(i)}a[d[b]]=f}return a},q=function(a){for(var b=!1,d=0;d<c.length;d++)if(b=a[d].offsetWidth!==k[c[d]]||a[d].offsetHeight!==l[c[d]])return b;return b},r=o();h.appendChild(i);for(var s=0,t=c.length;t>s;s++)k[c[s]]=r[s].offsetWidth,l[c[s]]=r[s].offsetHeight;var u=p();h.appendChild(j);for(var v=[],w=0,x=d.length;x>w;w++)q(u[d[w]])&&v.push(d[w]);h.removeChild(j),h.removeChild(i),a(v)},S=function(a,b){a(oa()?b.plugins.excludeIE?b.EXCLUDED:U(b):T(b))},T=function(a){if(null==navigator.plugins)return a.NOT_AVAILABLE;for(var b=[],c=0,d=navigator.plugins.length;d>c;c++)navigator.plugins[c]&&b.push(navigator.plugins[c]);return V(a)&&(b=b.sort(function(a,b){return a.name>b.name?1:a.name<b.name?-1:0})),j(b,function(a){var b=j(a,function(a){return[a.type,a.suffixes]});return[a.name,a.description,b]})},U=function(a){var b=[];if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window){var c=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"];b=j(c,function(b){try{return new window.ActiveXObject(b),b}catch(c){return a.ERROR}})}else b.push(a.NOT_AVAILABLE);return navigator.plugins&&(b=b.concat(T(a))),b},V=function(a){for(var b=!1,c=0,d=a.plugins.sortPluginsFor.length;d>c;c++){var e=a.plugins.sortPluginsFor[c];if(navigator.userAgent.match(e)){b=!0;break}}return b},W=function(a){a(da())},X=function(a,b){a(_(b))},Y=function(a){try{return!!window.sessionStorage}catch(b){return a.ERROR}},Z=function(a){try{return!!window.localStorage}catch(b){return a.ERROR}},$=function(a){try{return!!window.indexedDB}catch(b){return a.ERROR}},_=function(a){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:a.NOT_AVAILABLE},aa=function(a){return navigator.cpuClass||a.NOT_AVAILABLE},ba=function(a){return navigator.platform?navigator.platform:a.NOT_AVAILABLE},ca=function(a){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:a.NOT_AVAILABLE},da=function(){var a,b=0;"undefined"!=typeof navigator.maxTouchPoints?b=navigator.maxTouchPoints:"undefined"!=typeof navigator.msMaxTouchPoints&&(b=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),a=!0}catch(c){a=!1}var d="ontouchstart"in window;return[b,a,d]},ea=function(a){var b=[],c=document.createElement("canvas");c.width=2e3,c.height=200,c.style.display="inline";var d=c.getContext("2d");return d.rect(0,0,10,10),d.rect(2,2,6,6),b.push("canvas winding:"+(d.isPointInPath(5,5,"evenodd")===!1?"yes":"no")),d.textBaseline="alphabetic",d.fillStyle="#f60",d.fillRect(125,1,62,20),d.fillStyle="#069",a.dontUseFakeFontInCanvas?d.font="11pt Arial":d.font="11pt no-real-font-123",d.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),d.fillStyle="rgba(102, 204, 0, 0.2)",d.font="18pt Arial",d.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),d.globalCompositeOperation="multiply",d.fillStyle="rgb(255,0,255)",d.beginPath(),d.arc(50,50,50,0,2*Math.PI,!0),d.closePath(),d.fill(),d.fillStyle="rgb(0,255,255)",d.beginPath(),d.arc(100,50,50,0,2*Math.PI,!0),d.closePath(),d.fill(),d.fillStyle="rgb(255,255,0)",d.beginPath(),d.arc(75,100,50,0,2*Math.PI,!0),d.closePath(),d.fill(),d.fillStyle="rgb(255,0,255)",d.arc(75,75,75,0,2*Math.PI,!0),d.arc(75,75,25,0,2*Math.PI,!0),d.fill("evenodd"),c.toDataURL&&b.push("canvas fp:"+c.toDataURL()),b},fa=function(){var a,b=function(b){return a.clearColor(0,0,0,1),a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),"["+b[0]+", "+b[1]+"]"},c=function(a){var b=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic");if(b){var c=a.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===c&&(c=2),c}return null};if(a=ta(),!a)return null;var d=[],e="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",f="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}",g=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,g);var h=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);a.bufferData(a.ARRAY_BUFFER,h,a.STATIC_DRAW),g.itemSize=3,g.numItems=3;var j=a.createProgram(),k=a.createShader(a.VERTEX_SHADER);a.shaderSource(k,e),a.compileShader(k);var l=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(l,f),a.compileShader(l),a.attachShader(j,k),a.attachShader(j,l),a.linkProgram(j),a.useProgram(j),j.vertexPosAttrib=a.getAttribLocation(j,"attrVertex"),j.offsetUniform=a.getUniformLocation(j,"uniformOffset"),a.enableVertexAttribArray(j.vertexPosArray),a.vertexAttribPointer(j.vertexPosAttrib,g.itemSize,a.FLOAT,!1,0,0),a.uniform2f(j.offsetUniform,1,1),a.drawArrays(a.TRIANGLE_STRIP,0,g.numItems);try{d.push(a.canvas.toDataURL())}catch(m){}d.push("extensions:"+(a.getSupportedExtensions()||[]).join(";")),d.push("webgl aliased line width range:"+b(a.getParameter(a.ALIASED_LINE_WIDTH_RANGE))),d.push("webgl aliased point size range:"+b(a.getParameter(a.ALIASED_POINT_SIZE_RANGE))),d.push("webgl alpha bits:"+a.getParameter(a.ALPHA_BITS)),d.push("webgl antialiasing:"+(a.getContextAttributes().antialias?"yes":"no")),d.push("webgl blue bits:"+a.getParameter(a.BLUE_BITS)),d.push("webgl depth bits:"+a.getParameter(a.DEPTH_BITS)),d.push("webgl green bits:"+a.getParameter(a.GREEN_BITS)),d.push("webgl max anisotropy:"+c(a)),d.push("webgl max combined texture image units:"+a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),d.push("webgl max cube map texture size:"+a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE)),d.push("webgl max fragment uniform vectors:"+a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS)),d.push("webgl max render buffer size:"+a.getParameter(a.MAX_RENDERBUFFER_SIZE)),d.push("webgl max texture image units:"+a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),d.push("webgl max texture size:"+a.getParameter(a.MAX_TEXTURE_SIZE)),d.push("webgl max varying vectors:"+a.getParameter(a.MAX_VARYING_VECTORS)),d.push("webgl max vertex attribs:"+a.getParameter(a.MAX_VERTEX_ATTRIBS)),d.push("webgl max vertex texture image units:"+a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),d.push("webgl max vertex uniform vectors:"+a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS)),d.push("webgl max viewport dims:"+b(a.getParameter(a.MAX_VIEWPORT_DIMS))),d.push("webgl red bits:"+a.getParameter(a.RED_BITS)),d.push("webgl renderer:"+a.getParameter(a.RENDERER)),d.push("webgl shading language version:"+a.getParameter(a.SHADING_LANGUAGE_VERSION)),d.push("webgl stencil bits:"+a.getParameter(a.STENCIL_BITS)),d.push("webgl vendor:"+a.getParameter(a.VENDOR)),d.push("webgl version:"+a.getParameter(a.VERSION));try{var n=a.getExtension("WEBGL_debug_renderer_info");n&&(d.push("webgl unmasked vendor:"+a.getParameter(n.UNMASKED_VENDOR_WEBGL)),d.push("webgl unmasked renderer:"+a.getParameter(n.UNMASKED_RENDERER_WEBGL)))}catch(m){}return a.getShaderPrecisionFormat?(i(["FLOAT","INT"],function(b){i(["VERTEX","FRAGMENT"],function(c){i(["HIGH","MEDIUM","LOW"],function(e){i(["precision","rangeMin","rangeMax"],function(f){var g=a.getShaderPrecisionFormat(a[c+"_SHADER"],a[e+"_"+b])[f];"precision"!==f&&(f="precision "+f);var h=["webgl ",c.toLowerCase()," shader ",e.toLowerCase()," ",b.toLowerCase()," ",f,":",g].join("");d.push(h)})})})}),d):d},ga=function(){try{var a=ta(),b=a.getExtension("WEBGL_debug_renderer_info");return a.getParameter(b.UNMASKED_VENDOR_WEBGL)+"~"+a.getParameter(b.UNMASKED_RENDERER_WEBGL)}catch(c){return null}},ha=function(){var a=document.createElement("div");a.innerHTML="&nbsp;",a.className="adsbox";var b=!1;try{document.body.appendChild(a),b=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(a)}catch(c){b=!1}return b},ia=function(){if("undefined"!=typeof navigator.languages)try{var a=navigator.languages[0].substr(0,2);if(a!==navigator.language.substr(0,2))return!0}catch(b){return!0}return!1},ja=function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},ka=function(){var a,b=navigator.userAgent.toLowerCase(),c=navigator.oscpu,d=navigator.platform.toLowerCase();a=b.indexOf("windows phone")>=0?"Windows Phone":b.indexOf("win")>=0?"Windows":b.indexOf("android")>=0?"Android":b.indexOf("linux")>=0||b.indexOf("cros")>=0?"Linux":b.indexOf("iphone")>=0||b.indexOf("ipad")>=0?"iOS":b.indexOf("mac")>=0?"Mac":"Other";
var e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;if(e&&"Windows Phone"!==a&&"Android"!==a&&"iOS"!==a&&"Other"!==a)return!0;if("undefined"!=typeof c){if(c=c.toLowerCase(),c.indexOf("win")>=0&&"Windows"!==a&&"Windows Phone"!==a)return!0;if(c.indexOf("linux")>=0&&"Linux"!==a&&"Android"!==a)return!0;if(c.indexOf("mac")>=0&&"Mac"!==a&&"iOS"!==a)return!0;if((-1===c.indexOf("win")&&-1===c.indexOf("linux")&&-1===c.indexOf("mac"))!=("Other"===a))return!0}if(d.indexOf("win")>=0&&"Windows"!==a&&"Windows Phone"!==a)return!0;if((d.indexOf("linux")>=0||d.indexOf("android")>=0||d.indexOf("pike")>=0)&&"Linux"!==a&&"Android"!==a)return!0;if((d.indexOf("mac")>=0||d.indexOf("ipad")>=0||d.indexOf("ipod")>=0||d.indexOf("iphone")>=0)&&"Mac"!==a&&"iOS"!==a)return!0;var f=d.indexOf("win")<0&&d.indexOf("linux")<0&&d.indexOf("mac")<0&&d.indexOf("iphone")<0&&d.indexOf("ipad")<0;return f!==("Other"===a)?!0:"undefined"==typeof navigator.plugins&&"Windows"!==a&&"Windows Phone"!==a},la=function(){var a,b=navigator.userAgent.toLowerCase(),c=navigator.productSub;if(a=b.indexOf("firefox")>=0?"Firefox":b.indexOf("opera")>=0||b.indexOf("opr")>=0?"Opera":b.indexOf("chrome")>=0?"Chrome":b.indexOf("safari")>=0?"Safari":b.indexOf("trident")>=0?"Internet Explorer":"Other",("Chrome"===a||"Safari"===a||"Opera"===a)&&"20030107"!==c)return!0;var d=eval.toString().length;if(37===d&&"Safari"!==a&&"Firefox"!==a&&"Other"!==a)return!0;if(39===d&&"Internet Explorer"!==a&&"Other"!==a)return!0;if(33===d&&"Chrome"!==a&&"Opera"!==a&&"Other"!==a)return!0;var e;try{throw"a"}catch(f){try{f.toSource(),e=!0}catch(g){e=!1}}return e&&"Firefox"!==a&&"Other"!==a},ma=function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},na=function(){if(!ma())return!1;var a=ta();return!!window.WebGLRenderingContext&&!!a},oa=function(){return"Microsoft Internet Explorer"===navigator.appName?!0:"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?!0:!1},pa=function(){return"undefined"!=typeof window.swfobject},qa=function(){return window.swfobject.hasFlashPlayerVersion("9.0.0")},ra=function(a){var b=document.createElement("div");b.setAttribute("id",a.fonts.swfContainerId),document.body.appendChild(b)},sa=function(a,b){var c="___fp_swf_loaded";window[c]=function(b){a(b)};var d=b.fonts.swfContainerId;ra();var e={onReady:c},f={allowScriptAccess:"always",menu:"false"};window.swfobject.embedSWF(b.fonts.swfPath,d,"1","1","9.0.0",!1,e,f,{})},ta=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(c){}return b||(b=null),b},ua=[{key:"userAgent",getData:o},{key:"webdriver",getData:p},{key:"language",getData:q},{key:"colorDepth",getData:r},{key:"deviceMemory",getData:s},{key:"pixelRatio",getData:t},{key:"hardwareConcurrency",getData:X},{key:"screenResolution",getData:u},{key:"availableScreenResolution",getData:w},{key:"timezoneOffset",getData:y},{key:"timezone",getData:z},{key:"sessionStorage",getData:A},{key:"localStorage",getData:B},{key:"indexedDb",getData:C},{key:"addBehavior",getData:D},{key:"openDatabase",getData:E},{key:"cpuClass",getData:F},{key:"platform",getData:G},{key:"doNotTrack",getData:H},{key:"plugins",getData:S},{key:"canvas",getData:I},{key:"webgl",getData:J},{key:"webglVendorAndRenderer",getData:K},{key:"adBlock",getData:L},{key:"hasLiedLanguages",getData:M},{key:"hasLiedResolution",getData:N},{key:"hasLiedOs",getData:O},{key:"hasLiedBrowser",getData:P},{key:"touchSupport",getData:W},{key:"fonts",getData:R,pauseBefore:!0},{key:"fontsFlash",getData:Q,pauseBefore:!0},{key:"audio",getData:n},{key:"enumerateDevices",getData:l}],va=function(a){throw new Error("'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200")};return va.get=function(a,b){b?a||(a={}):(b=a,a={}),k(a,h),a.components=a.extraComponents.concat(ua);var c={data:[],addPreprocessedComponent:function(b,d){"function"==typeof a.preprocessor&&(d=a.preprocessor(b,d)),c.data.push({key:b,value:d})}},d=-1,e=function(f){if(d+=1,d>=a.components.length)return void b(c.data);var g=a.components[d];if(a.excludes[g.key])return void e(!1);if(!f&&g.pauseBefore)return d-=1,void setTimeout(function(){e(!0)},1);try{g.getData(function(a){c.addPreprocessedComponent(g.key,a),e(!1)},a)}catch(h){c.addPreprocessedComponent(g.key,String(h)),e(!1)}};e(!1)},va.getPromise=function(a){return new Promise(function(b,c){va.get(a,b)})},va.getV18=function(a,b){return null==b&&(b=a,a={}),va.get(a,function(c){for(var d=[],e=0;e<c.length;e++){var f=c[e];if(f.value===(a.NOT_AVAILABLE||"not available"))d.push({key:f.key,value:"unknown"});else if("plugins"===f.key)d.push({key:"plugins",value:j(f.value,function(a){var b=j(a[2],function(a){return a.join?a.join("~"):a}).join(",");return[a[0],a[1],b].join("::")})});else if(-1!==["canvas","webgl"].indexOf(f.key))d.push({key:f.key,value:f.value.join("~")});else if(-1!==["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(f.key)){if(!f.value)continue;d.push({key:f.key,value:1})}else f.value?d.push(f.value.join?{key:f.key,value:f.value.join(";")}:f):d.push({key:f.key,value:f.value})}var h=g(j(d,function(a){return a.value}).join("~~~"),31);b(h,d)})},va.x64hash128=g,va.VERSION="2.1.0",va}),!function(){"use strict";angular.module("proteo.ui.captcha",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.captcha").controller("proteoUiCaptchaController",["$log","$scope","$rootScope","proteoUiCaptchaService","$translate",function(a,b,c,d,e){a.debug("proteoUiCaptchaController loading"),b.proteoUiCaptcha="proteoUiCaptcha",b.model={}}])}(),function(){"use strict";angular.module("proteo.ui.captcha").directive("proteoUiCaptcha",["$document","$timeout","proteoUiCaptchaService",function(a,b,c){return{restrict:"A",require:"?^^form",scope:{response:"=?ngModel",key:"=?",stoken:"=?",theme:"=?",size:"=?",type:"=?",lang:"=?",badge:"=?",tabindex:"=?",required:"=?",onCreate:"&",onSuccess:"&",onExpire:"&",onError:"&"},link:function(d,e,f,g){function h(){g&&g.$setValidity("recaptcha",null),l()}function i(){b(function(){d.response="",k(),d.onExpire({widgetId:d.widgetId})})}function j(){var a=arguments;b(function(){d.response="",k(),d.onError({widgetId:d.widgetId,arguments:a})})}function k(){g&&g.$setValidity("recaptcha",d.required===!1?null:Boolean(d.response))}function l(){c.destroy(d.widgetId),angular.element(a[0].querySelectorAll(".pls-container")).parent().remove()}d.widgetId=null,g&&angular.isDefined(f.required)&&d.$watch("required",k);var m=d.$watch("key",function(a){var g=function(a){b(function(){d.response=a,k(),d.onSuccess({response:a,widgetId:d.widgetId})})};c.create(e[0],{callback:g,key:a,stoken:d.stoken||f.stoken||null,theme:d.theme||f.theme||null,type:d.type||f.type||null,lang:d.lang||f.lang||null,tabindex:d.tabindex||f.tabindex||null,size:d.size||f.size||null,badge:d.badge||f.badge||null,"expired-callback":i,"error-callback":f.onError?j:void 0}).then(function(a){k(),d.widgetId=a,d.onCreate({widgetId:a}),d.$on("$destroy",h),d.$on("reCaptchaReset",function(b,c){(angular.isUndefined(c)||a===c)&&(d.response="",k())})}),m()})}}}])}(),function(){"use strict";angular.module("proteo.ui.captcha").filter("proteoUiCaptchaFilter",function(){return function(a){var b=a;return b}})}(),function(){"use strict";angular.module("proteo.ui.captcha").provider("proteoUiCaptchaService",["G_API",function(a){function b(){throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create')}var c=this,d={};c.onLoadFunctionName="vcRecaptchaApiLoaded",c.setDefaults=function(a){angular.copy(a,d)},c.setSiteKey=function(a){d.key=a},c.setTheme=function(a){d.theme=a},c.setStoken=function(a){d.stoken=a},c.setSize=function(a){d.size=a},c.setType=function(a){d.type=a},c.setLang=function(a){d.lang=a},c.setBadge=function(a){d.badge=a},c.setOnLoadFunctionName=function(a){c.onLoadFunctionName=a},c.$get=["$rootScope","$window","$q","$document","$interval",function(e,f,g,h,i){function j(){return m?g.when(m):o}function k(){if(!m)throw new Error("reCaptcha has not been loaded yet.")}function l(){return angular.isFunction((f.grecaptcha||{}).render)}var m,n=g.defer(),o=n.promise,p={};f.vcRecaptchaApiLoadedCallback=f.vcRecaptchaApiLoadedCallback||[];var q=function(){m=f.grecaptcha,n.resolve(m)};return f.vcRecaptchaApiLoadedCallback.push(q),f[c.onLoadFunctionName]=function(){f.vcRecaptchaApiLoadedCallback.forEach(function(a){a()})},c.init=function(){if(l())q();else if(f.document.querySelector('script[src^="'+a+'"]'))var b=i(function(){l()&&(i.cancel(b),q())},25);else{var d=f.document.createElement("script");d.async=!0,d.defer=!0,d.src=a+"?onload="+c.onLoadFunctionName+"&render=explicit",h.find("body")[0].appendChild(d)}},{create:function(a,e){return c.init(),e.sitekey=e.key||d.key,e.theme=e.theme||d.theme,e.stoken=e.stoken||d.stoken,e.size=e.size||d.size,e.type=e.type||d.type,e.hl=e.lang||d.lang,e.badge=e.badge||d.badge,e.sitekey||b(),j().then(function(b){var c=b.render(a,e);return p[c]=a,c})},reload:function(a){k(),m.reset(a),e.$broadcast("reCaptchaReset",a)},execute:function(a){k(),m.execute(a)},useLang:function(a,b){var c=p[a];if(!c)throw new Error("reCaptcha Widget ID not exists",a);var d=c.querySelector("iframe");if(!b)return d&&d.src&&/[?&]hl=\w+/.test(d.src)?d.src.replace(/.+[?&]hl=(\w+)([^\w].+)?/,"$1"):null;if(d&&d.src){var e=d.src;/[?&]hl=/.test(e)?e=e.replace(/([?&]hl=)\w+/,"$1"+b):e+=(-1===e.indexOf("?")?"?":"&")+"hl="+b,d.src=e}},getResponse:function(a){return k(),m.getResponse(a)},getInstance:function(a){return p[a]},destroy:function(a){delete p[a]}}}]}])}(),function(){"use strict";angular.module("proteo.ui.captcha").config(["$stateProvider",function(a){a.state("proteoUiCaptcha",{url:"/proteoUiCaptcha",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-captcha/proteo-ui-captcha-tpl.html",controller:"proteoUiCaptchaController"})}])}(),angular.module("proteo.ui.captcha.templates",["/spasR50/credentialsPublic/components/proteo-ui-captcha/proteo-ui-captcha-tpl.html"]),angular.module("/spasR50/credentialsPublic/components/proteo-ui-captcha/proteo-ui-captcha-tpl.html",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-captcha/proteo-ui-captcha-tpl.html",'<h1><span translate="WELCOME"></span> to proteoUiCaptcha</h1>')}]),function(){"use strict";angular.module("tsb.journal-util",["appverse.cache","angular.filter","appverse.router","appverse.translate","proteo.tracking-id"])}(),function(){"use strict";var a=angular.module("tsb.journal-util");a.factory("tsbJournalService",["serviceTrackingId","$cookies",function(a,b){function c(a,c){var d=b.get(c);angular.isDefined(d)&&null!==d&&(a[c]=d)}function d(a,c){angular.isDefined(a.data.headers[c])&&null!==a.data.headers[c]&&b.put(c,a.data.headers[c],{path:"/"})}function e(a,c,d){angular.isDefined(a.headers[c])&&null!==a.headers[c]&&b.put(d,a.headers[c],{path:"/"})}function f(){var b=a.createUuid()+"~#~"+i();return b}function g(){var a=i()+"~#~001";return a}function h(){var a=b.get("HEADER.JOURNAL.OPER_NUMBER").split("~#~"),c=a[1];(null===c||void 0===c)&&(c="0");var d=parseInt(c);d+=1,d=d.toString(),1===d.length?d="00"+d:2===d.length&&(d="0"+d),b.put("HEADER.JOURNAL.OPER_NUMBER",i()+"~#~"+d,{path:"/"})}function i(){return(new Date).getTime().toString()}var j={};return j.newSession=function(){b.put("HEADER.JOURNAL.SESSION_NUMBER",f(),{path:"/"}),b.put("HEADER.JOURNAL.OPER_NUMBER",g(),{path:"/"}),b.put("HEADER.JOURNAL.EVENT_NUMBER","000",{path:"/"}),b.put("HEADER.JOURNAL.OPERATIONID",null,{path:"/"}),b.put("HEADER.JOURNAL.SUBOPERATIONID",null,{path:"/"}),b.put("HEADER.JOURNAL.TRANSACTIONID",null,{path:"/"})},j.newOperation=function(){this.newOperationWithTriplet()},j.newOperationWithTriplet=function(a,c,d){var e=b.get("HEADER.JOURNAL.SESSION_NUMBER");angular.isDefined(e)&&null!==e?h():(b.put("HEADER.JOURNAL.SESSION_NUMBER",f(),{path:"/"}),b.put("HEADER.JOURNAL.OPER_NUMBER",g(),{path:"/"})),b.put("HEADER.JOURNAL.EVENT_NUMBER","000",{path:"/"}),angular.isDefined(a)&&null!==a?b.put("HEADER.JOURNAL.OPERATIONID",a,{path:"/"}):b.put("HEADER.JOURNAL.OPERATIONID",null,{path:"/"}),angular.isDefined(c)&&null!==c?b.put("HEADER.JOURNAL.SUBOPERATIONID",c,{path:"/"}):b.put("HEADER.JOURNAL.SUBOPERATIONID",null,{path:"/"}),angular.isDefined(d)&&null!==d?b.put("HEADER.JOURNAL.TRANSACTIONID",d,{path:"/"}):b.put("HEADER.JOURNAL.TRANSACTIONID",null,{path:"/"})},j.updateJournalHeaders=function(a){angular.isDefined(a)&&200===a.status&&angular.isDefined(a.data)&&angular.isDefined(a.data.headers)&&"0"===a.data.headers["HEADER.STATUS"]?(d(a,"HEADER.JOURNAL.SESSION_NUMBER"),d(a,"HEADER.JOURNAL.OPER_NUMBER"),d(a,"HEADER.JOURNAL.EVENT_NUMBER"),d(a,"HEADER.JOURNAL.OPERATIONID"),d(a,"HEADER.JOURNAL.SUBOPERATIONID"),d(a,"HEADER.JOURNAL.TRANSACTIONID")):angular.isDefined(a)&&angular.isDefined(a.headers)&&(e(a,"header.journal.session_number","HEADER.JOURNAL.SESSION_NUMBER"),e(a,"header.journal.oper_number","HEADER.JOURNAL.OPER_NUMBER"),e(a,"header.journal.event_number","HEADER.JOURNAL.EVENT_NUMBER"),e(a,"header.journal.operationid","HEADER.JOURNAL.OPERATIONID"),e(a,"header.journal.suboperationid","HEADER.JOURNAL.SUBOPERATIONID"),e(a,"header.journal.transactionid","HEADER.JOURNAL.TRANSACTIONID"))},j.getJournalHeaders=function(){var a={};return c(a,"HEADER.JOURNAL.SESSION_NUMBER"),c(a,"HEADER.JOURNAL.OPER_NUMBER"),c(a,"HEADER.JOURNAL.EVENT_NUMBER"),c(a,"HEADER.JOURNAL.OPERATIONID"),c(a,"HEADER.JOURNAL.SUBOPERATIONID"),c(a,"HEADER.JOURNAL.TRANSACTIONID"),a},j}])}(),function(){"use strict";angular.module("proteo.canal-invoker",["appverse.cache","proteo.invocation-service","ngCookies","angular.filter","appverse.router","proteo.consultive","appverse.translate","appverse","tsb.journal-util"])}(),function(){"use strict";var a=angular.module("proteo.canal-invoker");a.factory("journalServiceEndpoints",function(){var a,b={},c=null;return b.getJsonData=function(){var a=new XMLHttpRequest,b="/spasR50/credentialsPublic/resources/configuration/1f2d9dac.environment-conf.json";return a.open("GET",b,!1),a.send(null),a.responseText?JSON.parse(a.responseText):null},b.loadEndpoints=function(){c=c||this.getJsonData();var b=c?c.JOURNALSERVICE:null;a=b||[]},b.checkJournalEndpoint=function(b){a||this.loadEndpoints();var c=0,d="";"/"===b[0]&&(c=1,d="/");var e=d+b.split("/")[c];return a&&-1!==a.indexOf(e)},b}),a.factory("consultive",["proteocanalinvokerServices","$q","consultiveFactory","$filter","$cookies",function(a,b,c,d,e){function f(d,f){function g(a){a&&a.operationID&&c.setOperationID(a.operationID),j.resolve()}function i(a){var b=e.get("wobo"),c={description:h("COMMON_SERVICE_UNAVAILABLE"),code:0};a.exception?(b&&angular.extend(a.exception,{trackingId:a["header.tracking_id"]}),j.reject(a.exception)):(b&&angular.extend(c,{trackingId:a["header.tracking_id"]}),j.reject(c))}var j=b.defer();return a.invoke({service:"/consultiveadapter-v1"+d,callback:g,fail:i,data:f}),j.promise}var g={},h=d("translate");return g.validateOperation=function(a){var b={transactionCode:a};return f("/validateOperation",b,a)},g.validateDestinationProduct=function(a,b){var c={destinationProduct:b,transactionCode:a};return f("/validateDestinationProduct",c,a)},g.validateLimits=function(a,b){var c={amount:b,transactionCode:a};return f("/validateLimits",c,a)},g.validateSourceProduct=function(a,b){var c={sourceProduct:b,transactionCode:a};return f("/validateSourceProduct",c,a)},g.validateMultipleLimits=function(a,b){var c={transactions:b};return f("/validateMultipleLimits",c,a)},g}]),a.service("errorManager",["$log","$state","APP_CONFIG","$cookies",function(a,b,c,d){var e=null;this.set=function(b){var c=!1;return!angular.isUndefined(b)&&angular.isFunction(b)?e=b:a.error("Wrong parameters"),c},this.error=function(b){angular.isFunction(e)?e(b):a.error(b)},this.errorControl=function(b){if(!angular.isDefined(b)||null===b)return!1;var c=angular.copy(b);if(angular.isDefined(b.exception)&&b.exception.indexOf("[")>-1){var e=JSON.parse(b.exception);b.exception.length>1?angular.forEach(e,function(a){angular.isDefined(a.code)&&(a.code.indexOf("CH0")>-1||a.code.indexOf("ERR1022")>-1)&&(c.exception=a)}):c.exception=e[0]}return!angular.isDefined(c.exception)||"CH08"!==c.exception.code&&"CH09"!==c.exception.code&&"ERR1022"!==c.exception.code?!1:(JSM._updateDataLayer({error_message:c.exception.description}),d.remove("ssotoken",{path:"/"}),d.remove("BzWCQCsViVVZnq91L03",{path:"/"}),d.remove("moreThan18",{path:"/"}),a.error("Session removed"),!0)}}]),a.service("proteocanalinvokerServices",["$cookies","$document","$log","serviceInvocation","errorManager","consultiveFactory","tsbJournalService","journalServiceEndpoints","REST_CONFIG",function(a,b,c,d,e,f,g,h,i){function j(){var a=null;return JSM.getBCI(function(b,c){b&&(a={"HEADER.FD_SESSION_ID2A":b,"HEADER.FD_SESSION_ID2B":c})}),a}function k(a,b){var c=angular.copy(a);return!e.errorControl(a.data)&&angular.isFunction(b.fail)&&(a.data&&a.data.headers&&(a.data.headers.exception=a.data.headers.exception[0]||a.data.headers.exception,c=a.data.headers),b.fail(c)),c}function l(a,b){return!e.errorControl(a)&&angular.isFunction(b.fail)&&(angular.isDefined(a.exception)&&a.exception.indexOf("[")>-1&&(a.exception=JSON.parse(a.exception)[0],JSM._updateDataLayer({error_message:a.exception.description})),b.fail(a)),a}function m(b){var c=angular.copy(b);try{if(angular.isString(c.service)&&c.service.length>0){r=c.service;var i=c.notAssured?"api":null,m={"HEADER.USER_AGENT":"userAgent","HEADER.STARTDATETIME":"1234","HEADER.ALIAS":"alias","HEADER.INSCRIPTION_KEY":"inscriptionKey"};s=c.method&&angular.isString(c.method)&&c.method.length>0?c.method:null;try{JSM.getTROD(function(a){a.c&&angular.extend(m,{"HEADER.FD_SESSION_ID3":a.c})})}catch(n){}try{JSM.getTSID(function(a){a&&angular.extend(m,{"HEADER.FD_SESSION_ID1":a})})}catch(n){}if(a.get("BzWCQCsViVVZnq91L03")?(c.headers?angular.extend(c.headers,{"HEADER.SSOTOKENID":a.get("BzWCQCsViVVZnq91L03")}):c.headers={"HEADER.SSOTOKENID":a.get("BzWCQCsViVVZnq91L03")},f.getOperationID()&&angular.extend(c.headers,{"HEADER.operationID":f.getOperationID()}),angular.extend(c.headers,m),angular.extend(c.headers,j())):(c.headers?angular.extend(c.headers,j()):c.headers=j(),angular.extend(c.headers,m)),h.checkJournalEndpoint(c.service)&&g.getJournalHeaders()&&angular.extend(c.headers,g.getJournalHeaders()),c.headers&&(q={headers:angular.copy(c.headers)}),angular.isObject(c.data)){var o={body:angular.copy(c.data)};angular.extend(q,o)}angular.isDefined(c.idLoader)?(v++,1===v&&(u=!0,z(c.idLoader,c.bigLoader,c.strMessageSpinner))):x(!0),angular.isFunction(c.before)&&c.before(),d.callService(r,angular.copy(q),s,null,null,i).then(function(b){var d=w?b.data:b;a.get("wobo")&&angular.extend(d.body,{trackingId:d.headers["HEADER.TRACKING_ID"]}),angular.isFunction(c.callback)&&(h.checkJournalEndpoint(c.service)&&g.updateJournalHeaders(b),c.callback(d.body))},function(a){var b=w?k(a,c):l(a,c);h.checkJournalEndpoint(c.service)&&g.updateJournalHeaders(a),e.error(b)})["finally"](function(){u=!1,angular.isDefined(c.idLoader)?(v--,0===v&&z(c.idLoader,c.bigLoader,c.strMessageSpinner)):x(!1)})}else e.error("Undefined service")}catch(p){throw"canal invoker service invocation excepcion ("+p+")"}finally{}}var n='<div id="backdrop" class="backdrop-invoker-loader"></div>',o=angular.element(n),p=!1,q={},r="",s=null,t=null,u=!0,v=0,w=i.FullResponse,x=function(a){a&&!p?(angular.element(b[0].body).append(o),p=!0):p&&(o.detach(),p=!1)},y=function(a,b){var c=void 0!==b?'<proteo-ui-text class="text-bold text-center text-spinner">'+b+"</proteo-ui-text>":"",d='<div id="invokerLoader-'+a+'" class="loading-spinner"><span class="icon-spinner"><span class="blockG" id="rotateG_1"></span><span class="blockG" id="rotateG_2"></span><span class="blockG" id="rotateG_3"></span><span class="blockG" id="rotateG_4"></span><span class="blockG" id="rotateG_5"></span><span class="blockG" id="rotateG_6"></span><span class="blockG" id="rotateG_7"></span><span class="blockG" id="rotateG_8"></span><span class="blockG" id="rotateG_9"></span><span class="blockG" id="rotateG_10"></span><span class="blockG" id="rotateG_11"></span><span class="blockG" id="rotateG_12"></span></span>'+c+"</div>";return angular.element(d)},z=function(a,c,d){var e="";if(c&&(e="big"),angular.isDefined(a)&&u)t=y(a,d),angular.element(b[0].getElementById(a)).addClass("wrap-invoker-loader "+e).append(t);else{var f=b[0].getElementById("invokerLoader-"+a);angular.element(f).parent().removeClass("wrap-invoker-loader "+e),angular.element(f).remove()}};this.error=function(a){var b=!1;try{angular.isFunction(a)&&(e.set(a),b=!0)}catch(c){throw"errorManager.error overloading exception"}finally{return b}},this.invoke=function(a){JSM.heartBeat(function(b,d){console.log("hBStatus--",b,"message--",d),200===parseInt(b)?m(a):c.error(d)})}}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","proteo.ui.respond-function","proteo.ui.respond-function.templates","proteo.ui.authentication-panel","proteo.ui.authentication-panel-colleague","App.globalErrorPage","App.globalErrorPage.templates","proteo.ui.authentication-panel-colleague.templates","proteo.ui.authentication-panel-telephone","proteo.ui.authentication-panel-telephone.templates","proteo.ui.authentication-panel.templates","proteo.ui.sca-signature-panel.templates","proteo.canal-invoker","proteo.consultive","angular-uuid","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.signature-panel",["appverse.cache","ui.bootstrap","proteo.invocation-service","angularRipple","ui.select","ngSanitize","angular.filter","appverse.router","proteo.ui.respond-function","proteo.ui.respond-function.templates","proteo.ui.authentication-panel","proteo.ui.authentication-panel-colleague","App.globalErrorPage","App.globalErrorPage.templates","proteo.ui.authentication-panel-colleague.templates","proteo.ui.authentication-panel-telephone","proteo.ui.authentication-panel-telephone.templates","proteo.ui.authentication-panel.templates","proteo.ui.signature-panel.templates","proteo.canal-invoker","proteo.consultive","angular-uuid","appverse.translate","appverse"])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").controller("proteoUiScaSignatureController",["proteoUiScaSignatureDataFactory","proteoUiScaSignaturePanelService","proteoUiScaSignatureDataOtpFactory","proteoUiScaSignatureErrorFactory","$filter","proteoUiScaSignatureDlFactory","DataLayerProvider","tsbJournalService",function(a,b,c,d,e,f,g,h){function i(a){switch(a){case"call":case"colleagueBranch":case"colleagueTelephony":return!1;default:return!0}}function j(c,e,f,h,i){var j=null;angular.equals(a.getUserData(),{})&&angular.equals(a.getApplyCode(),null)||(j=b.getOperationIDHeaders(i,a)),b.checkValidationService(c,f,null,j).then(function(c){var d={};a.createOnly||c.result&&c.pendingRequiredSigners>0?(d={err:{pendingRequiredSigners:!0}},a.exceptionLiteral="isValid",e.isInvalid(d)):c.result&&0===c.pendingRequiredSigners?(b.setError(null),a.exceptionLiteral="isValid",e.isValid()):(a.restart(),c.isSca?(d={err:{isSca:c.isSca,remainingAttempts:c.remainingAttempts}},g.sendError({message:m("COMMON_SIGNATURE_PANEL_ERROR_INVALID"),code:"E-Validation",type:g.errorType.POPUP}),e.isInvalid(d)):(e.isInvalid(),g.sendError({message:m("COMMON_SIGNATURE_PANEL_ERROR_INVALID"),code:"E-Validation",type:g.errorType.WARNING}),b.setError(m("COMMON_SIGNATURE_PANEL_ERROR_INVALID"))))},function(a){d.checkValidationErrorHandler(a,e,h)})}function k(a,b){a&&(b.chars.charXPos=a[0],b.chars.charYPos=a[1],b.chars.charZPos=a[2])}function l(a,b){return a[b].$setValidity("notSelected",-1!==parseInt(a[b].$viewValue)),a[b].$valid?!0:!1}var m=e("translate");this.watchers={},this.init=function(e){e.chars={charXPos:null,charYPos:null,charZPos:null,charXValue:"-1",charYValue:"-1",charZValue:"-1"},e.charOptions=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],this.goWithActivation=e.goWithActivation,e.launchSignatureButton=function(){a.clickButton=!0},e.selectPhone=function(a){c.selectPhone(a,e.memorableInfo,e)},e.updateDatalayerIfOperation=function(){e.operation&&"RESSCA"!==e.operation&&g.updateScaDataLayer(g.steps.otp),e.templateName="otp",a.setSignatureType("otp")},e.submitMI=function(b){if(l(b,"charXPos")&&l(b,"charYPos")&&l(b,"charZPos")){e.formName.$setValidity("formName",!0),e.memorableInfo={position:{x:e.chars.charXPos.toString(),y:e.chars.charYPos.toString(),z:e.chars.charZPos.toString()},value:{x:e.chars.charXValue,y:e.chars.charYValue,z:e.chars.charZValue}};var c=[e.chars.charXValue,e.chars.charYValue,e.chars.charZValue];a.setMis(c),e.scaStep="otp",e.isBiz&&!e.isPublic&&"otp"===e.scaStep&&(e.phone.number="activationcredentialsPublic",e.phone.type="APP")}};var i=null;(e.userData||e.applyCode||e.isPublic)&&(i=b.getOperationIDHeaders(e.operation,a));var j={amount:e.amount,codeOperation:e.operation,userDetails:e.isPublicOtp?null:e.userData,businessDetails:e.businessData?e.businessData:null,data:e.mpaData?e.mpaData:null,applyCode:e.applyCode?e.applyCode:null};f.addDlDataToDataRequest(j),b.getproteoUiSignaturePanel(j,"signaturePanel",i).then(function(f){if(a.setPaymentSca(!1),e.isPaymentScaValue=a.isPaymentSca(),f.authValidate||(a.notAuthValidate=!0),f&&angular.isDefined(f.signatureType)&&null!==f.signatureType)if(a.setCreateOnly(!f.authValidate),f.authValidate)switch(f.signatureType){case"password":e.templateName="password",a.setSignatureType("password"),g.updateScaDataLayer(g.steps.password);break;case"otp":e.updateDatalayerIfOperation();break;case"otp_mi":e.templateName="otp_mi",e.scaStep="mi",a.setSignatureType("otp_mi"),b.getMIPositions().then(function(b){b&&angular.isDefined(b.positions)&&null!==b.positions&&b.positions.length>0&&k(b.positions,e),e.formName.$setValidity("formName",!1),a.setPaymentSca(!0),e.isPaymentScaValue=a.isPaymentSca(),g.scaMode=!0,g.updateScaDataLayer(g.steps.mi)},function(a){d.errorHandler(a,e)});break;case"nosign":e.templateName="nosign",a.setSignatureType("nosign"),g.updateScaDataLayer(g.steps.nosign);break;default:d.errorHandler(void 0,e)}else e.templateName="nosign",a.setSignatureType("nosign");else e.formName.$setValidity("signaturePanelError",!1),e.displayedErrorAux=!0;e.isBiz&&!e.isPublic&&"otp"===e.templateName&&(e.phone.number="activationcredentialsPublic",a.setSignatureType("otp"),e.phone.type="APP",c.selectPhone(e.phone,void 0,e))},function(a){"RESSCA"===e.operation&&h.newOperation(),d.errorHandler(a,e)})},this.initWatchers=function(b){this.watchers.watcher1=b.$watchCollection("data",function(b){a.setData(b)}),this.watchers.watcher2=b.$watchCollection(function(){return a.exceptionLiteral},function(a){"isValid"===a&&(b.isValid=!0),a&&(b.exceptionLiteral=a)},!0);var c=this;this.watchers.watcher3=b.$watchCollection(function(){return a.reset},function(d,e){a.reset?(b.resetDirective=!0,c.init(b),a.reset=!1,b.data.pass=null,b.data.otp=null,"otp_mi"===a.signatureType&&(b.selectedPhone=!1)):b.resetDirective=!1},!0),b.previousLink=function(){b.previous()}},this.initButtonsWatchers=function(c,d){this.watchers.watcher4=c.$watchCollection(function(){return a.notAuthValidate},function(a,d){if(1==a){b.setError(m("COMMON_SIGNATURE_PANEL_VALIDATION_ERROR"));var e={err:{authValidate:!1}};g.sendError({message:m("COMMON_SIGNATURE_PANEL_VALIDATION_ERROR"),code:"E-Validation",type:g.errorType.WARNING}),c.isInvalid(e)}},!0);var e=c.$watchCollection(function(){return a.signatureType},function(a,b){d=a,a&&e()},!0);this.watchers.watcher5=e,this.watchers.watcher6=c.$watchCollection(function(){return a.clickButton},function(b,d){b&&c.isValid({activationCode:a.getSelectedActivationCode()})})},this.unregisterWatchers=function(){this.watchers.watcher1(),this.watchers.watcher2(),this.watchers.watcher3(),this.watchers.watcher4(),this.watchers.watcher5(),this.watchers.watcher6()},this.initButtonPanel=function(c,d){c.checkValidation=function(){if(i(d)){var e=b.getBodyParams(a),f=b.getEndPoint(null,a),g=a.getSignatureType(),h=a.getOperation();j(e,c,f,g,h)}else c.isValid()}}}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").factory("proteoUiScaSignatureDataFactory",["proteoUiScaSignaturePanelService","APP_CONFIG",function(a,b){var c={};return c.goWithActivation=function(){},c.setUseOperationId=function(a){c.useOperationId=a},c.setIsPublicOtp=function(a){c.isPublicOtp=a},c.setIsBiz=function(a){c.isBiz=a},c.setCreateOnly=function(a){c.createOnly=a},c.getCreateOnly=function(){return c.createOnly},c.setPhone=function(a){c.phone=a},c.getPhone=function(){return c.phone},c.setAmount=function(a){c.amount=a},c.getAmount=function(){return c.amount},c.getIsBiz=function(){return c.isBiz},c.setMpaData=function(a){c.mpaData=a},c.getMpaData=function(){return c.mpaData},c.setUserData=function(a){c.userData=a},c.getUserData=function(){return c.userData},c.setBusinessData=function(a){c.businessData=a},c.getBusinessData=function(){return c.businessData},c.setOtpData=function(a){c.otpData=a},c.getOtpData=function(){return c.otpData},c.setData=function(a){c.data=a},c.getData=function(){return c.data},c.setSignatureType=function(a){c.signatureType=a},c.getSignatureType=function(){return c.signatureType},c.setSelectedActivationCode=function(a){c.selectedActivationCode=a},c.getSelectedActivationCode=function(){return c.selectedActivationCode},c.sumOtpAttempts=function(){c.otpAttempts++},c.getOtpAttempts=function(){return c.otpAttempts},c.setMis=function(a){c.data.mis=a},c.getMis=function(){return c.data.mis},c.setApplyCode=function(a){c.applyCode=a},c.getApplyCode=function(){return c.applyCode},c.restart=function(){"password"===c.signatureType?(c.signatureType="",c.reset=!0):"otp"===c.signatureType?c.reset=!0:"otp_mi"===c.signatureType&&(c.reset=!0)},c.setOperation=function(a){c.operation=a},c.getOperation=function(){return c.operation},c.setPaymentSca=function(a){c.isPaySca=a},c.isPaymentSca=function(){return c.isPaySca},c.initData=function(d,e){c.signatureType="",c.exceptionLiteral="",c.data={},c.userData={},c.reset=!1,c.publicHeaders=null,c.businessData={},c.mpaData={},c.isBiz=!1,c.createOnly=!0,c.amount=null,c.phone={},c.notAuthValidate=!1,c.operation="",c.otpAttempts=0,c.activationCodeSelected=!1,c.clickButton=!1,c.applyCode=null,d.data={},d.data.otp=null,d.activationCode=d.activationCode||!1,d.selectedActivationCode=!1,d.selectedPhone=!1,d.phone={},d.memorableInfo={},d.displayedErrorAux=!1,d.exceptionLiteral="",d.displayedError=!1,d.isValid=!1,d.resetDirective=!1,a.setError(null),d.getPhoneHeaders={},d.data.mis=null,d.isPaymentScaValue=!1,d.spMinLength=d.spMinLength||null,d.spMaxLength=d.spMaxLength||null,d.isBiz=angular.isDefined(b.Procedence)&&"WB01"===b.Procedence?!0:!1,d.isPublic=angular.isDefined(e["public"])?!0:!1,c.setIsBiz(d.isBiz),d.getPhoneHeaders=d.userData||c.applyCode?a.getOperationIDHeaders(d.operation,c):{},d.otpValue=null,d.userData&&c.setUserData(d.userData),d.isPublicOtp&&c.setIsPublicOtp(d.isPublicOtp),d.useOperationId&&c.setUseOperationId(d.useOperationId),d.amount&&c.setAmount(d.amount),d.businessData&&c.setBusinessData(d.businessData),d.mpaData&&c.setMpaData(d.mpaData),d.otpData&&c.setOtpData(d.otpData)},c}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").directive("proteoUiScaSignature",function(){return{restrict:"A",scope:{},controller:"proteoUiScaSignatureController"}}).directive("scaSignaturePanelError",["proteoUiScaSignaturePanelService",function(a){return{restrict:"A",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/proteo-ui-sca-signature-panel-error.html",link:function(b){b.$watchCollection(function(){return a.getError();
},function(a){b.error=a},!0)}}}]).directive("proteoUiScaSignaturePanel",["proteoUiScaSignatureDataFactory","proteoUiScaSignatureErrorFactory","proteoUiScaSignatureDataOtpFactory","proteoUiScaSignatureDlFactory",function(a,b,c,d){return{restrict:"E",require:"^proteoUiScaSignature",scope:{operation:"@",userData:"=?",amount:"@",formName:"=",data:"=?output",businessData:"=?",mpaData:"@",activationCode:"=?",goWithActivation:"&",spMinLength:"=?",spMaxLength:"=?",otpData:"=?",useOperationId:"@?",isPublicOtp:"@?",dlData:"=?",applyCode:"@",previous:"&",functionalParent:"=?"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/proteo-ui-sca-signature-panel-tpl.html",link:function(e,f,g,h){e.applyCode=e.applyCode||null,e.functionalParent=e.functionalParent||null,a.initData(e,g),h.initWatchers(e),c.initPhone(e),d.initDl(e),e.applyCode&&a.setApplyCode(e.applyCode),null===e.operation||""===e.operation||angular.equals({},e.operation)?b.errorHandler(void 0,e):(h.init(e),a.setOperation(e.operation))}}}]).directive("proteoUiScaSignaturePanelButton",["proteoUiScaSignaturePanelService","$log","$translate","consultiveFactory","$state","APP_CONFIG","proteoUiScaSignatureDataFactory",function(a,b,c,d,e,f,g){return{require:"^proteoUiScaSignature",restrict:"E",transclude:!0,replace:!0,scope:{isValid:"&",isInvalid:"&"},template:'<button ng-click="checkValidation()" class="btn md-btn" ng-transclude></button>',link:function(a,b,c,d){var e;d.initButtonsWatchers(a,e),d.initButtonPanel(a,e)}}}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").factory("proteoUiScaSignatureDlFactory",["$log",function(a){function b(b,c){try{angular.isDefined(b.data)&&null!==b.data&&angular.isDefined(c)?b.data=JSON.stringify(angular.extend(JSON.parse(b.data),c)):b.data=JSON.stringify(c)}catch(d){a.error("DL json error")}}var c={};return c.dlData=null,c.dlMode=!1,c.getStringFromData=function(a){return a?escape(JSON.stringify(a)):""},c.getDataFromString=function(a){return a?JSON.parse(unescape(a)):null},c.initDl=function(a){a.dlData?(c.dlData=a.dlData,c.dlMode=!0):(c.dlData=null,c.dlMode=!1)},c.addDlDataToRequest=function(a){c.addDlDataToDataRequest(a)},c.addDlDataToDataRequest=function(a){c.dlMode&&angular.isDefined(a)&&b(a,{dlData:c.dlData})},c}])}(),function(){"use strict";function a(){var a={};return a.step=1,a.scaMode=!1,a.incStep=function(){a.step++},a.decStep=function(){a.step--},a.steps={mi:1,otp:2,password:3,nosign:4},a.errorType={POPUP:"pop up",ERROR_PAGE:"error page",WARNING:"page warning"},a.updateScaDataLayer=function(b){var c="no";a.scaMode&&(c="yes"),"mi"===b?a.step=1:a.incStep();var d={sca_page:c};JSM._updateDataLayer(d),JSM.sendTLData(["sca_page"])},a.sendError=function(a){JSM._updateDataLayer({error_message:a.message,error_code:a.code,error_type:a.type}),JSM.sendTLData(["error_message","error_code","error_type"])},a}angular.module("proteo.ui.sca-signature-panel").factory("DataLayerProvider",a)}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").factory("proteoUiScaSignatureErrorFactory",["proteoUiScaSignaturePanelService","APP_CONFIG","$filter","$state","proteoUiScaSignatureDataFactory","$log","DataLayerProvider",function(a,b,c,d,e,f,g){function h(a){a.displayedErrorAux||(a.formName.$setValidity("signaturePanelError",!1),a.displayedError=!0)}var i=c("translate"),j={};return j.errorHandler=function(b,c){var d=angular.isDefined(b)&&(angular.isDefined(b.exception)&&angular.isDefined(b.exception.code)||angular.isDefined(b.exception[0])&&angular.isDefined(b.exception[0].code)),e=d&&(angular.isDefined(b.exception.description)&&""!==b.exception.description||angular.isDefined(b.exception[0].description)&&""!==b.exception[0].description);h(c),d&&e&&angular.isDefined(b.exception)&&angular.isDefined(b.exception.code)&&b.exception.code.indexOf("ERR")>-1?(a.setError(b.exception.description),f.debug(b.exception),c.exceptionLiteral=b.exception.description):d&&e&&angular.isDefined(b.exception[0])&&angular.isDefined(b.exception[0].code)&&b.exception[0].code.indexOf("ERR")>-1?(a.setError(b.exception[0].description),f.debug(b.exception[0]),c.exceptionLiteral=b.exception[0].description):(a.setErrorSystem(),f.debug(b),c.exceptionLiteral=i("COMMON_SIGNATURE_PANEL_ERROR_INVALID")),g.sendError({message:c.exceptionLiteral,code:b&&b.exception&&b.exception.code?b.exception.code:"",type:g.errorType.WARNING})},j.genericError=function(a){var c={};c="otp_mi"===a?{template:"scaCredentialsAttemptsExceed",title:"COMMON_GLOBALERROR_TITLE_LOGIN_ATTEMPTS_EXCEEDED",message:"COMMON_GLOBALERROR_TEXT_LOGIN_ATTEMPTS_EXCEEDED",backMessage:"COMMON_GLOBALERROR_BACK_TO_BANK_SP",bankName:"tsb.co.uk",messageLinkState:"credentialsPublic.enterCustomerIdData",messageLink:"COMMON_GLOBALERROR_BUTTON_RESET",hideBackLinkButton:!1,isPayments:!0}:{template:"passwordAttemptsExceed",isBiz:"B"===b.Procedence[1]?!0:!1,hideBackLinkButton:!1},d.go("globalErrorPage",c)},j.checkValidationErrorHandler=function(b,c,d){if(angular.isDefined(b.exception)){if("ERR339"===b.exception.code||"ERR340"===b.exception.code||""===b.exception.code||"ERR67"===b.exception.code)return g.sendError({message:b&&b.exception&&b.exception.description?b.exception.description:i("COMMON_SIGNATURE_PANEL_ERROR_INVALID"),code:b&&b.exception&&b.exception.code?b.exception.code:"",type:g.errorType.ERROR_PAGE}),void j.genericError(d);if("ERR1047"===b.exception.code||"ERR1020"===b.exception.code)return a.setErrorDynamicLinking(),void g.sendError({message:i("ERROR_DYNAMIC_LINKING"),code:b&&b.exception&&b.exception.code?b.exception.code:"",type:g.errorType.WARNING});if("ERR317"===b.exception.code){var b={err:{pendingRequiredSigners:!0}};e.exceptionLiteral="isValid",c.isInvalid(b)}else{c.isInvalid({err:b.exception});var h=angular.isDefined(b)&&angular.isDefined(b.exception)&&angular.isDefined(b.exception.code),k=h&&angular.isDefined(b.exception.description)&&""!==b.exception.description;h&&k&&b.exception.code.indexOf("ERR")>-1?a.setError(b.exception.description):a.setErrorSystem(),g.sendError({message:b&&b.exception&&b.exception.description&&b.exception.description,code:b&&b.exception&&b.exception.code?b.exception.code:"",type:g.errorType.WARNING})}f.debug(b.exception)}else c.isInvalid(),g.sendError({message:b&&b.exception&&b.exception.description?b.exception.description:i("COMMON_SIGNATURE_PANEL_ERROR_INVALID"),code:b&&b.exception&&b.exception.code?b.exception.code:"",type:g.errorType.WARNING}),a.setError(i("COMMON_SIGNATURE_PANEL_ERROR_INVALID")),f.debug(b);e.sumOtpAttempts(),e.getOtpAttempts()>=5&&e.goWithActivation(),e.restart()},j}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").factory("proteoUiScaSignatureDataOtpFactory",["proteoUiScaSignatureDataFactory","proteoUiScaSignaturePanelService","proteoUiScaSignatureErrorFactory","proteoUiScaSignatureDlFactory","tsbJournalService",function(a,b,c,d,e){function f(a){var b=a;return"+"!==a.charAt(0)&&(b="+"+a),b}var g={};return g.selectPhone=function(g,h,i){if("activationCode"===g)return i.selectedActivationCode=!0,a.setSelectedActivationCode(i.selectedActivationCode),void i.launchSignatureButton();if(i.phone=g,"work"!==g.type||""===g.extension||null===g.extension){var j=b.getEndPoint("informOTP",a),k={amount:i.amount,notificationTo:"activationcredentialsPublic"===g.number?" ":f(g.number),notificationType:g.type,operationType:i.isBiz?"BUSINESS":"RETAIL",signatureType:a.getSignatureType().toUpperCase(),sourceAccount:i.businessData?i.businessData.accountNumber:null};if(i.userData&&(i.isPublicOtp?angular.extend(k,{userDetails:null}):angular.extend(k,{userDetails:i.userData})),i.businessData&&angular.extend(k,{businessDetails:i.businessData}),i.otpData){var l={accountNumber:"",amount:i.amount||0,phone:""};angular.isDefined(i.otpData.accountNumber)&&i.otpData.accountNumber.length>4&&(l.accountNumber=i.otpData.accountNumber.substring(i.otpData.accountNumber.length-4,i.otpData.accountNumber.length)),angular.isDefined(i.otpData.phone)&&i.otpData.phone.length>3&&(l.phone=i.otpData.phone.substring(i.otpData.phone.length-3,i.otpData.phone.length)),angular.extend(k,{otpData:l})}angular.isDefined(h)&&h.length>0&&(i.memorableInfo=h,angular.extend(k,{memorableInfo:i.memorableInfo})),i.mpaData&&angular.extend(k,{mpaData:i.mpaData,data:i.mpaData});var m=null;(i.userData||i.applyCode||i.isPublic)&&(m=b.getOperationIDHeaders(i.operation,a)),d.addDlDataToRequest(k),b.checkValidationService(k,j,null,m).then(function(a){i.selectedPhone=!0},function(a){"RESSCA"===i.operation&&e.newOperation(),c.errorHandler(a,i)})}},g.initPhone=function(a){a.isDisabled=function(a){return angular.equals(a,{})}},g}])}(),function(){"use strict";angular.module("proteo.ui.sca-signature-panel").factory("proteoUiScaSignaturePanelService",["$log","$filter","proteocanalinvokerServices","$q","uuid","consultiveFactory","proteoUiScaSignatureDlFactory",function(a,b,c,d,e,f,g){a.debug("proteoUiSignaturePanelServices loading");var h=b("translate"),i={},j=null;return i.setError=function(a){j=a},i.setErrorSystem=function(){j=h("ERROR_SISTEMA")},i.setErrorDynamicLinking=function(){j=h("ERROR_DYNAMIC_LINKING")},i.getError=function(){return j},i.getproteoUiSignaturePanel=function(b,e,f){function g(a){j.resolve(a)}function i(a){j.reject(a)}var j=d.defer();c.error(function(b){console.info("Exception in tab invocation"),j.reject(h("ERROR_SISTEMA")),a.debug(b)});var k={service:"/signaturewebadapter-v2/getSignatureType",callback:g,fail:i,headers:f,data:b};return angular.isDefined(e)&&null!==e&&(k=angular.extend(k,{idLoader:e,bigLoader:!0})),c.invoke(k),j.promise},i.checkValidationService=function(b,e,f,g){function h(a){j.resolve(a)}function i(a){j.reject(a)}var j=d.defer();c.error(function(b){console.info("Exception in tab invocation"),a.debug(b)});var k={service:e,callback:h,fail:i,headers:g,data:b};return angular.isDefined(f)&&null!==f&&(k=angular.extend(k,{idLoader:f,bigLoader:!0})),c.invoke(k),j.promise},i.getEndPoint=function(a,b){return"informOTP"===a||b.createOnly?"/signaturewebadapter-v2/getSignAndConfirm":"/signaturewebadapter-v2/validateSignature"},i.getMIPositions=function(){function b(a){f.resolve(a)}function e(a){f.reject(a)}var f=d.defer(),g={};c.error(function(b){console.info("Exception in getMIPositions call"),f.reject(h("ERROR_SISTEMA")),a.debug(b)});var i={service:"/signaturewebadapter-v2/getMIPositions",callback:b,fail:e,data:g};return c.invoke(i),f.promise},i.getOperationIDHeaders=function(a,b){var c;if(b.publicHeaders)c=b.publicHeaders;else if(angular.isDefined(b.useOperationId)&&"true"===b.useOperationId)b.publicHeaders=angular.copy({"HEADER.SERVICE_SCOPE":"PUBLIC"}),c=b.publicHeaders;else{var d=a+"-"+e.v4();f.setOperationID(d);var g={"HEADER.operationID":d,"HEADER.SERVICE_SCOPE":"PUBLIC"};b.publicHeaders=angular.copy(g),c=b.publicHeaders}return c},i.getBodyParams=function(a){var b={};switch(a.signatureType){case"password":b={signatureType:"PASSWORD",verifyCode:a.data.pass,operationType:a.isBiz?"BUSINESS":"RETAIL"},angular.equals({},a.mpaData)||angular.extend(b,{data:a.mpaData}),g.addDlDataToDataRequest(b),angular.extend(b,{amount:a.amount});break;case"otp":case"otp_mi":b={signatureType:a.signatureType.toUpperCase(),verifyCode:a.data.otp,operationType:a.isBiz?"BUSINESS":"RETAIL"},a.data.mis&&angular.extend(b,{mis:a.data.mis}),angular.equals({},a.userData)||angular.extend(b,{username:a.userData.user}),angular.extend(b,{notificationTo:a.phone.number,notificationType:a.phone.type});break;case"nosign":b={signatureType:"NOSIGN",operationType:a.isBiz?"BUSINESS":"RETAIL",verifyCode:""},angular.extend(b,{sourceAccount:a.businessData?a.businessData.accountNumber:null,amount:a.amount}),angular.equals({},a.mpaData)||angular.extend(b,{data:a.mpaData}),g.addDlDataToDataRequest(b)}return angular.equals({},a.businessData)||angular.extend(b,{businessDetails:a.businessData}),angular.equals({},a.userData)||(a.isPublicOtp?angular.extend(b,{userDetails:{lastName:a.userData.lastName,firstName:a.userData.firstName,dateOfBirth:null,codeCustomer:null}}):angular.extend(b,{userDetails:a.userData})),b},i}])}(),angular.module("proteo.ui.sca-signature-panel.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/proteo-ui-sca-signature-panel-error.html",'<div class="col-xs-12 sm-padding md-margin-bottom" ng-if="error"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" ng-bind="error"></proteo-ui-text></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/proteo-ui-sca-signature-panel-tpl.html",'<div id="signaturePanel"><div ng-if="templateName === \'password\' && !isValid"><div ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/password-signature-panel-tpl.html\'"></div></div><div ng-if="templatename === \'nosign\'"></div><div ng-if="templateName === \'otp\' && !isValid"><div ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/otp-signature-panel-tpl.html\'"></div></div><div ng-if="templateName === \'otp_mi\' && !isValid"><div class="md-margin-bottom"><proteo-ui-link><proteo-ui-icon icon="next"></proteo-ui-icon><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_SCA_LINK" ng-click="$parent.previousLink()"></proteo-ui-text></proteo-ui-link></div><proteo-ui-text class="text-bold text-lg" translate="PAYMENT_AUTHENTICATION_TITLE"></proteo-ui-text><div ng-if="$parent.scaStep ===\'mi\'" ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/mi-signature-panel-tpl.html\'"></div><div ng-if="$parent.scaStep ===\'otp\'" ng-include="\'/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/otp-signature-panel-tpl.html\'"></div></div><div class="col-xs-12 error sm-padding error md-margin-bottom" id="literalException" ng-if="exceptionLiteral && exceptionLiteral != \'isValid\'"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" ng-bind="exceptionLiteral"></proteo-ui-text></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/mi-signature-panel-tpl.html",'<div class="row"><div class="col-xs-12"><h3 class="md-margin-bottom" ng-if="!$parent.isPaymentScaValue"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_TITLE"></proteo-ui-text></h3><proteo-ui-text ng-if="!$parent.isPaymentScaValue" class="text-bold sm-margin-bottom sm-margin-top" translate="PAYMENT_AUTHENTICATION_TEXT1" translate-values="{charXPos : chars.charXPos, charYPos : chars.charYPos, charZPos : chars.charZPos}"></proteo-ui-text><proteo-ui-text ng-if="$parent.isPaymentScaValue" class="sm-margin-bottom sm-margin-top" translate="PAYMENT_AUTHENTICATION_TEXT1_SCA"></proteo-ui-text></div><div class="col-xs-12" ng-if="formName.$error.notSelected.length > 0 && formName.$submitted"><div class="md-margin-top"><proteo-ui-text class="text-bold text-md sm-margin-right" translate="PAYMENT_AUTHENTICATION_ERROR_NO_MEMORABLEINFORMATION_TITLE"></proteo-ui-text></div></div><div class="col-xs-12 sm-margin-top" ng-class="{\'error has-error has-feedback\' : (formName.$error.notSelected.length === 3 || formName.$error.notSelected.length > 0) && formName.$submitted}"><div class="row"><div class="input-group"><div class="col-sm-4 col-md-3 sm-margin-top"><proteo-ui-text class="text-bold" translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_CHARACTER1" translate-values="{charXPos : chars.charXPos}"></proteo-ui-text><label for="charXPos"></label><select class="form-control" id="charXPos" name="charXPos" ng-change="checkValidation(formName, \'charXPos\')" ng-model="chars.charXValue"><option disabled translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_PLEASE_ENTER" value="-1"><option ng-repeat="c in charOptions" value="{{c}}">{{c}}</select></div><div class="col-sm-4 col-md-3 sm-margin-top"><proteo-ui-text class="text-bold" translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_CHARACTER2" translate-values="{charYPos : chars.charYPos}"></proteo-ui-text><label for="charYPos"></label><select class="form-control" id="charYPos" name="charYPos" ng-change="checkValidation(formName, \'charYPos\')" ng-model="chars.charYValue"><option disabled translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_PLEASE_ENTER" value="-1"><option ng-repeat="c in charOptions" value="{{c}}">{{c}}</select></div><div class="col-sm-4 col-md-3 sm-margin-top"><proteo-ui-text class="text-bold" translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_CHARACTER3" translate-values="{charZPos : chars.charZPos}"></proteo-ui-text><label for="charZPos"></label><select class="form-control" id="charZPos" name="charZPos" ng-change="checkValidation(formName, \'charZPos\')" ng-model="chars.charZValue"><option disabled translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_PLEASE_ENTER" value="-1"><option ng-repeat="c in charOptions" value="{{c}}">{{c}}</select></div><div class="input-group-addon mt-md" ng-if="(formName.$error.notSelected.length === 3 || formName.$error.notSelected.length > 0) && formName.$submitted"><proteo-ui-icon icon="alert"></proteo-ui-icon></div><div class="input-group-addon mt-md" ng-if="!(formName.$error.notSelected.length === 3 || formName.$error.notSelected.length > 0) && formName.$submitted"><proteo-ui-icon icon="check"></proteo-ui-icon></div></div></div><div class="has-error" ng-if="(formName.$error.notSelected.length === 3 || formName.$error.notSelected.length > 0) && formName.$submitted"><proteo-ui-text class="form-error" translate="PAYMENT_AUTHENTICATION_ERROR_NO_MEMORABLEINFORMATION_DESCRIPTION"></proteo-ui-text></div></div><div class="col-xs-12 md-margin-top"><proteo-ui-link id="linkReset" ui-sref="credentials.changeMemorableInformation"><proteo-ui-icon id="reset" icon="next"></proteo-ui-icon><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_MEMORABLEINFORMATION_LINK"></proteo-ui-text></proteo-ui-link></div><div class="col-xs-12 md-margin-top"><proteo-ui-button class="pull-right" ng-click="$parent.submitMI(formName)" ng-disabled="buttonDisabled"><proteo-ui-text translate="RETAIL_SIGNATUREPANEL_OTP_BUTTON"></proteo-ui-text></proteo-ui-button></div></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/otp-signature-panel-tpl.html",'<div ng-if="!$parent.isBiz || $parent.isPublic"><div ng-if="!$parent.selectedPhone && !$parent.selectedActivationCode" class="col-xs-12"><proteo-ui-authentication-panel-telephone is-pay-sca="{{$parent.isPaymentScaValue}}" ng-if="!$parent.isPublicOtp" functional-parent="$parent.functionalParent" no-phones-atrieved="$parent.goWithActivation()" activation-code="$parent.activationCode" user-data="$parent.userData" selected-phone="$parent.phone" custom-headers="$parent.getPhoneHeaders" is-biz="isBiz" apply-code="{{$parent.applyCode}}"></proteo-ui-authentication-panel-telephone><proteo-ui-authentication-panel-telephone is-pay-sca="{{$parent.isPaymentScaValue}}" ng-if="$parent.isPublicOtp" functional-parent="$parent.functionalParent" no-phones-atrieved="$parent.goWithActivation()" activation-code="$parent.activationCode" user-data="null" selected-phone="$parent.phone" custom-headers="$parent.getPhoneHeaders" is-biz="isBiz" apply-code="{{$parent.applyCode}}"></proteo-ui-authentication-panel-telephone><proteo-ui-button ng-disabled="isDisabled(phone)" class="pull-right" ng-click="$parent.selectPhone(phone)"><proteo-ui-text translate="RETAIL_SIGNATUREPANEL_OTP_CONTINUE_BUTTON"></proteo-ui-text></proteo-ui-button></div><div ng-show="$parent.selectedPhone && !$parent.selectedActivationCode" class="col-xs-12 md-margin-top"><proteo-ui-sca-otp-authentication-panel is-pay-sca="{{$parent.isPaymentScaValue}}" is-sms="$parent.phone.type === \'mobile\'" reset-input="resetDirective" entered-otp="$parent.data.otp" is-sca="$parent.scaStep ===\'otp\'"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-sca-otp-authentication-panel></div><div ng-show="$parent.selectedActivationCode" class="col-xs-12"><div class="col-xs-12 md-padding"><div class="col-xs-2 col-sm-2 col-md-1 row"><proteo-ui-icon icon-bg="blue" icon="alert"></proteo-ui-icon></div><div class="col-xs-11"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_OTP_ACTIVATIONCODE_DFLT_WAITING"></proteo-ui-text></div></div></div><div ng-if="displayedError && $parent.phone !== \'activationCode\'" class="col-xs-12 sm-padding error md-margin-bottom"><proteo-ui-icon icon-bg="red" icon="alert" id="alertIcoSignature"></proteo-ui-icon><proteo-ui-text class="text-bold" translate="COMMON_SIGNATURE_PANEL_ERROR_MESSAGE"></proteo-ui-text></div></div><div ng-if="$parent.isBiz && !$parent.isPublic" class="col-xs-12"><proteo-ui-otp-app-authentication-panel is-sms="false" reset-input="resetDirective" entered-otp="$parent.data.otp"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-otp-app-authentication-panel></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-sca-signature-panel/templates/password-signature-panel-tpl.html",'<proteo-ui-authentication-panel-sp sp-min-length="spMinLength" sp-max-length="spMaxLength" reset-input="resetDirective" one-error="true" entered-password="$parent.data.pass" mechanism="spPassword"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-authentication-panel-sp>')}]),function(){"use strict";angular.module("proteo.ui.signature-panel").controller("proteoUiSignatureController",["uuid","consultiveFactory",function(a,b){this.signatureType="",this.exceptionLiteral="",this.data={},this.userData={},this.reset=!1,this.publicHeaders=null,this.businessData={},this.mpaData={},this.isBiz=!1,this.createOnly=!0,this.amount=null,this.phone={},this.notAuthValidate=!1,this.goWithActivation=function(){},this.otpAttempts=0,this.activationCodeSelected=!1,this.clickButton=!1,this.applyCode=null,this.setUseOperationId=function(a){this.useOperationId=a},this.setIsPublicOtp=function(a){this.isPublicOtp=a},this.setIsBiz=function(a){this.isBiz=a},this.setCreateOnly=function(a){this.createOnly=a},this.getCreateOnly=function(){return this.createOnly},this.setPhone=function(a){this.phone=a},this.getPhone=function(){return this.phone},this.setAmount=function(a){this.amount=a},this.getAmount=function(){return this.amount},this.getIsBiz=function(){return this.isBiz},this.setMpaData=function(a){this.mpaData=a},this.getMpaData=function(){return this.mpaData},this.setUserData=function(a){this.userData=a},this.getUserData=function(){return this.userData},this.setBusinessData=function(a){this.businessData=a},this.getBusinessData=function(){return this.businessData},this.setOtpData=function(a){this.otpData=a},this.getOtpData=function(){return this.otpData},this.setData=function(a){this.data=a},this.getData=function(){return this.data},this.setSignatureType=function(a){this.signatureType=a},this.getSignatureType=function(){return this.signatureType},this.setSelectedActivationCode=function(a){this.selectedActivationCode=a},this.getSelectedActivationCode=function(){return this.selectedActivationCode},this.sumOtpAttempts=function(){this.otpAttempts++},this.getOtpAttempts=function(){return this.otpAttempts},this.setApplyCode=function(a){this.applyCode=a},this.getApplyCode=function(){return this.applyCode},this.getEndPoint=function(a){return"informOTP"===a||this.createOnly?"/signaturewebadapter-v2/getSignAndConfirm":"/signaturewebadapter-v2/validateSignature"},this.restart=function(){"password"===this.signatureType?(this.signatureType="",this.reset=!0):"otp"===this.signatureType&&(this.reset=!0)},this.getOperationIDHeaders=function(c){var d;if(this.publicHeaders)d=this.publicHeaders;else if(angular.isDefined(this.useOperationId)&&"true"===this.useOperationId)this.publicHeaders=angular.copy({"HEADER.SERVICE_SCOPE":"PUBLIC"}),d=this.publicHeaders;else{var e=c+"-"+a.v4();b.setOperationID(e);var f={"HEADER.operationID":e,"HEADER.SERVICE_SCOPE":"PUBLIC"};this.publicHeaders=angular.copy(f),d=this.publicHeaders}return d},this.getBodyParams=function(a){var b={};switch(this.signatureType){case"password":b={signatureType:"PASSWORD",verifyCode:this.data.pass,operationType:this.isBiz?"BUSINESS":"RETAIL"},angular.equals({},this.mpaData)||angular.extend(b,{data:this.mpaData}),angular.extend(b,{amount:this.amount});break;case"otp":b={signatureType:"OTP",userName:a,verifyCode:this.data.otp,operationType:this.isBiz?"BUSINESS":"RETAIL"},angular.equals({},this.userData)||angular.extend(b,{username:this.userData.user}),null!=this.applyCode&&angular.extend(b,{applyCode:this.applyCode}),angular.extend(b,{notificationTo:this.phone.number,notificationType:this.phone.type});break;case"nosign":b={signatureType:"NOSIGN",operationType:this.isBiz?"BUSINESS":"RETAIL",verifyCode:""},angular.extend(b,{sourceAccount:this.businessData?this.businessData.accountNumber:null,amount:this.amount}),angular.equals({},this.mpaData)||angular.extend(b,{data:this.mpaData})}return angular.equals({},this.businessData)||angular.extend(b,{businessDetails:this.businessData}),angular.equals({},this.userData)||(this.isPublicOtp?angular.extend(b,{userDetails:{lastName:this.userData.lastName,firstName:this.userData.firstName,dateOfBirth:null,codeCustomer:null}}):angular.extend(b,{userDetails:this.userData})),b},this.launchSignatureButton=function(){this.clickButton=!0}}])}(),function(){"use strict";angular.module("proteo.ui.signature-panel").directive("proteoUiSignature",function(){return{restrict:"A",scope:{},controller:"proteoUiSignatureController"}}).directive("signaturePanelError",["proteoUiSignaturePanelService",function(a){return{restrict:"A",templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-signature-panel/proteo-ui-signature-panel-error.html",link:function(b){b.$watchCollection(function(){return a.getError()},function(a){b.error=a},!0)}}}]).directive("proteoUiSignaturePanel",["tsbJournalService","proteoUiSignaturePanelService","$compile","$log","$filter","consultiveFactory","APP_CONFIG",function(a,b,c,d,e,f,g){return{restrict:"E",require:"^proteoUiSignature",scope:{operation:"@",userData:"=?",amount:"@",formName:"=",data:"=?output",businessData:"=?",mpaData:"@",activationCode:"=?",goWithActivation:"&",spMinLength:"=?",spMaxLength:"=?",otpData:"=?",useOperationId:"@?",isPublicOtp:"@?",applyCode:"@",functionalParent:"=?",noShowPhones:"=?"},templateUrl:"/spasR50/credentialsPublic/components/proteo-ui-signature-panel/proteo-ui-signature-panel-tpl.html",link:function(c,f,h,i){function j(a){var b=a;return"+"!==a.charAt(0)&&(b="+"+a),b}function k(){n||(c.formName.$setValidity("signaturePanelError",!1),c.displayedError=!0)}function l(){var d=null;(c.userData||c.applyCode||c.isPublic)&&(d=i.getOperationIDHeaders(c.operation)),b.getproteoUiSignaturePanel(p,"signaturePanel",d).then(function(a){if(a.authValidate||(i.notAuthValidate=!0),a&&angular.isDefined(a.signatureType)&&null!==a.signatureType){if(i.setCreateOnly(!a.authValidate),a.authValidate)switch(a.signatureType){case"password":c.templateName="password";break;case"otp":c.templateName="otp";break;case"nosign":c.templateName="nosign";break;default:k()}else c.templateName="nosign";i.setSignatureType(c.templateName)}else c.formName.$setValidity("signaturePanelError",!1),n=!0;c.isBiz&&!c.isPublic&&"otp"===c.templateName&&(c.phone.number="activationcredentialsPublic",i.setSignatureType("otp"),c.phone.type="APP",c.selectPhone(c.phone))},function(b){"RESMII"===c.operation&&a.newOperation(),m(b)})}function m(a){var e=angular.isDefined(a)&&(angular.isDefined(a.exception)&&angular.isDefined(a.exception.code)||angular.isDefined(a.exception[0])&&angular.isDefined(a.exception[0].code)),f=e&&(angular.isDefined(a.exception.description)&&""!==a.exception.description||angular.isDefined(a.exception[0].description)&&""!==a.exception[0].description);k(),e&&f&&angular.isDefined(a.exception)&&angular.isDefined(a.exception.code)&&a.exception.code.indexOf("ERR")>-1?(b.setError(a.exception.description),d.debug(a.exception),c.exceptionLiteral=a.exception.description):e&&f&&angular.isDefined(a.exception[0])&&angular.isDefined(a.exception[0].code)&&a.exception[0].code.indexOf("ERR")>-1?(b.setError(a.exception[0].description),d.debug(a.exception[0]),c.exceptionLiteral=a.exception[0].description):(b.setErrorSystem(),d.debug(a),c.exceptionLiteral=o("COMMON_SIGNATURE_PANEL_ERROR_INVALID"))}c.data={},c.data.otp=null,c.activationCode=c.activationCode||!1,c.applyCode=c.applyCode||null,c.functionalParent=c.functionalParent||null,c.selectedActivationCode=!1,c.selectedPhone=!1,c.noShowPhones=c.noShowPhones||!1,c.phone={};var n=!1;c.exceptionLiteral="",c.displayedError=!1,c.isValid=!1,c.resetDirective=!1,b.setError(null),c.getPhoneHeaders={};var o=e("translate");i.goWithActivation=c.goWithActivation,c.spMinLength=c.spMinLength||null,c.spMaxLength=c.spMaxLength||null,c.isBiz=angular.isDefined(g.Procedence)&&"WB01"===g.Procedence?!0:!1,c.isPublic=angular.isDefined(h["public"])?!0:!1,i.setIsBiz(c.isBiz),c.getPhoneHeaders=c.userData||c.applyCode?i.getOperationIDHeaders(c.operation):{},c.otpValue=null,c.userData&&i.setUserData(c.userData),c.isPublicOtp&&i.setIsPublicOtp(c.isPublicOtp),c.useOperationId&&i.setUseOperationId(c.useOperationId),c.amount&&i.setAmount(c.amount),c.businessData&&i.setBusinessData(c.businessData),c.mpaData&&i.setMpaData(c.mpaData),c.otpData&&i.setOtpData(c.otpData),c.applyCode&&i.setApplyCode(c.applyCode);var p={amount:c.amount,codeOperation:c.operation,userDetails:c.isPublicOtp?null:c.userData,businessDetails:c.businessData?c.businessData:null,data:c.mpaData?c.mpaData:null,applyCode:c.applyCode?c.applyCode:null};c.selectPhone=function(d){if("activationCode"===d)return c.selectedActivationCode=!0,i.setSelectedActivationCode(c.selectedActivationCode),void i.launchSignatureButton();if(c.phone=d,"work"!==d.type||""===d.extension||null===d.extension){var e=i.getEndPoint("informOTP"),f={amount:c.amount,notificationTo:"activationcredentialsPublic"===d.number?" ":j(d.number),notificationType:d.type,operationType:c.isBiz?"BUSINESS":"RETAIL",signatureType:i.getSignatureType().toUpperCase(),sourceAccount:c.businessData?c.businessData.accountNumber:null,applyCode:c.applyCode?c.applyCode:null};if(c.userData&&(c.isPublicOtp?angular.extend(f,{userDetails:null}):angular.extend(f,{userDetails:c.userData})),c.businessData&&angular.extend(f,{businessDetails:c.businessData}),c.otpData){var g={accountNumber:"",amount:c.amount||0,phone:""};angular.isDefined(c.otpData.accountNumber)&&c.otpData.accountNumber.length>4&&(g.accountNumber=c.otpData.accountNumber.substring(c.otpData.accountNumber.length-4,c.otpData.accountNumber.length)),angular.isDefined(c.otpData.phone)&&c.otpData.phone.length>3&&(g.phone=c.otpData.phone.substring(c.otpData.phone.length-3,c.otpData.phone.length)),angular.extend(f,{otpData:g})}c.mpaData&&angular.extend(f,{mpaData:c.mpaData,data:c.mpaData});var h=null;(c.userData||c.applyCode||c.isPublic)&&(h=i.getOperationIDHeaders(c.operation)),b.checkValidationService(f,e,null,h).then(function(a){c.selectedPhone=!0},function(b){"RESMII"===c.operation&&a.newOperation(),m(b)})}},c.$watchCollection("data",function(a){i.setData(a)});c.$watchCollection(function(){return i.exceptionLiteral},function(a){"isValid"===a&&(c.isValid=!0),a&&(c.exceptionLiteral=a)},!0),c.$watchCollection(function(){return i.reset},function(a,b){i.reset?(c.resetDirective=!0,l(),i.reset=!1,c.data.pass=null,c.data.otp=null):c.resetDirective=!1},!0);c.isDisabled=function(a){return angular.equals(a,{})},null===c.operation||""===c.operation||angular.equals({},c.operation)?m():l()}}}]).directive("proteoUiSignaturePanelButton",["proteoUiSignaturePanelService","$log","$filter","consultiveFactory","$state","APP_CONFIG",function(a,b,c,d,e,f){return{require:"^proteoUiSignature",restrict:"E",transclude:!0,replace:!0,scope:{isValid:"&",isInvalid:"&"},template:'<button ng-click="checkValidation()" class="btn md-btn" ng-transclude></button>',link:function(d,g,h,i){function j(a){switch(a){case"call":case"colleagueBranch":case"colleagueTelephony":return!1;default:return!0}}function k(){var a={template:"passwordAttemptsExceed",isBiz:"B"===f.Procedence[1]?!0:!1,hideBackLinkButton:!1};JSM._updateDataLayer({error_message:n("COMMON_SIGNATURE_PANEL_ERROR_INVALID")}),e.go("globalErrorPage",a)}function l(c,e){var f=null;
angular.equals(i.getUserData(),{})&&null==i.getApplyCode()||(f=i.getOperationIDHeaders()),a.checkValidationService(c,e,null,f).then(function(b){if(i.createOnly||b.result&&b.pendingRequiredSigners>0){var c={err:{pendingRequiredSigners:!0}};i.exceptionLiteral="isValid",d.isInvalid(c)}else b.result&&0===b.pendingRequiredSigners?(a.setError(null),i.exceptionLiteral="isValid",d.isValid()):(i.restart(),JSM._updateDataLayer({error_message:n("COMMON_SIGNATURE_PANEL_ERROR_INVALID")}),a.setError(n("COMMON_SIGNATURE_PANEL_ERROR_INVALID")),d.isInvalid())},function(c){if(angular.isDefined(c.exception)){if("ERR339"===c.exception.code||"ERR340"===c.exception.code||""===c.exception.code)return void k();if("ERR317"===c.exception.code){var c={err:{pendingRequiredSigners:!0}};i.exceptionLiteral="isValid",d.isInvalid(c)}else{d.isInvalid({err:c.exception});var e=angular.isDefined(c)&&angular.isDefined(c.exception)&&angular.isDefined(c.exception.code),f=e&&angular.isDefined(c.exception.description)&&""!==c.exception.description;e&&f&&c.exception.code.indexOf("ERR")>-1?a.setError(c.exception.description):a.setErrorSystem()}b.debug(c.exception)}else d.isInvalid(),JSM._updateDataLayer({error_message:n("COMMON_SIGNATURE_PANEL_ERROR_INVALID")}),a.setError(n("COMMON_SIGNATURE_PANEL_ERROR_INVALID")),b.debug(c);i.sumOtpAttempts(),i.getOtpAttempts()>=5&&i.goWithActivation(),i.restart()})}var m,n=c("translate"),o=(d.$watchCollection(function(){return i.notAuthValidate},function(b,c){if(1==b){a.setError(n("COMMON_SIGNATURE_PANEL_VALIDATION_ERROR"));var e={err:{authValidate:!1}};d.isInvalid(e)}},!0),d.$watchCollection(function(){return i.signatureType},function(a,b){m=a,a&&o()},!0));d.$watchCollection(function(){return i.clickButton},function(a,b){a&&d.isValid({activationCode:i.getSelectedActivationCode()})});d.checkValidation=function(){if(j(m)){var a=i.getBodyParams(),b=i.getEndPoint();l(a,b)}else d.isValid()}}}}])}(),function(){"use strict";angular.module("proteo.ui.signature-panel").factory("proteoUiSignaturePanelService",["$log","$filter","proteocanalinvokerServices","$q",function(a,b,c,d){a.debug("proteoUiSignaturePanelServices loading");var e=b("translate"),f={},g=null;return f.setError=function(a){g=a},f.setErrorSystem=function(){g=e("ERROR_SISTEMA")},f.getError=function(){return g},f.getproteoUiSignaturePanel=function(a,b,e){function f(a){h.resolve(a)}function g(a){h.reject(a)}var h=d.defer();c.error(g);var i={service:"/signaturewebadapter-v2/getSignatureType",callback:f,fail:g,headers:e,data:a};return angular.isDefined(b)&&null!==b&&(i=angular.extend(i,{idLoader:b,bigLoader:!0})),c.invoke(i),h.promise},f.checkValidationService=function(a,b,e,f){function g(a){i.resolve(a)}function h(a){i.reject(a)}var i=d.defer();c.error(h);var j={service:b,callback:g,fail:h,headers:f,data:a};return null!==e&&angular.isDefined(e)&&(j=angular.extend(j,{idLoader:e,bigLoader:!0})),c.invoke(j),i.promise},f}])}(),angular.module("proteo.ui.signature-panel.templates",[]).run(["$templateCache",function(a){"use strict";a.put("/spasR50/credentialsPublic/components/proteo-ui-signature-panel/proteo-ui-signature-panel-error.html",'<div class="col-xs-12 sm-padding md-margin-bottom" ng-if="error"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" ng-bind="error"></proteo-ui-text></div>'),a.put("/spasR50/credentialsPublic/components/proteo-ui-signature-panel/proteo-ui-signature-panel-tpl.html",'<div id="signaturePanel"><div ng-if="templateName === \'password\' && !isValid"><proteo-ui-authentication-panel-sp sp-min-length="spMinLength" sp-max-length="spMaxLength" reset-input="resetDirective" one-error="true" entered-password="$parent.data.pass" mechanism="spPassword"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-authentication-panel-sp></div><div ng-if="templatename === \'nosign\'"></div><div ng-if="templateName === \'otp\' && !isValid"><div ng-if="!$parent.isBiz || $parent.isPublic"><div ng-if="!$parent.selectedPhone && !$parent.selectedActivationCode" class="col-xs-12"><proteo-ui-authentication-panel-telephone ng-if="!$parent.isPublicOtp" functional-parent="$parent.functionalParent" no-show-phones="$parent.noShowPhones" no-phones-atrieved="$parent.goWithActivation()" activation-code="$parent.activationCode" user-data="$parent.userData" selected-phone="$parent.phone" custom-headers="$parent.getPhoneHeaders" is-biz="isBiz" apply-code="{{$parent.applyCode}}"></proteo-ui-authentication-panel-telephone><proteo-ui-authentication-panel-telephone ng-if="$parent.isPublicOtp" functional-parent="$parent.functionalParent" no-show-phones="$parent.noShowPhones" no-phones-atrieved="$parent.goWithActivation()" activation-code="$parent.activationCode" user-data="null" selected-phone="$parent.phone" custom-headers="$parent.getPhoneHeaders" is-biz="isBiz" apply-code="{{$parent.applyCode}}"></proteo-ui-authentication-panel-telephone><proteo-ui-button ng-disabled="isDisabled(phone)" class="pull-right" ng-click="$parent.selectPhone(phone)"><proteo-ui-text translate="RETAIL_SIGNATUREPANEL_OTP_CONTINUE_BUTTON"></proteo-ui-text></proteo-ui-button></div><div ng-show="$parent.selectedPhone && !$parent.selectedActivationCode" class="col-xs-12"><proteo-ui-otp-authentication-panel is-sms="$parent.phone.type === \'mobile\'" reset-input="resetDirective" entered-otp="$parent.data.otp"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-otp-authentication-panel></div><div ng-show="$parent.selectedActivationCode" class="col-xs-12"><div class="col-xs-12 md-padding"><div class="col-xs-2 col-sm-2 col-md-1 row"><proteo-ui-icon icon-bg="blue" icon="alert"></proteo-ui-icon></div><div class="col-xs-11"><proteo-ui-text translate="COMMON_AUTHENTICATION_PANEL_OTP_ACTIVATIONCODE_DFLT_WAITING"></proteo-ui-text></div></div></div><div ng-if="displayedError && $parent.phone !== \'activationCode\'" class="col-xs-12 sm-padding error md-margin-bottom"><proteo-ui-icon icon-bg="red" icon="alert" id="alertIcoSignature"></proteo-ui-icon><proteo-ui-text class="text-bold" translate="COMMON_SIGNATURE_PANEL_ERROR_MESSAGE"></proteo-ui-text></div></div><div ng-if="$parent.isBiz && !$parent.isPublic" class="col-xs-12"><proteo-ui-otp-app-authentication-panel is-sms="false" reset-input="resetDirective" entered-otp="$parent.data.otp"><span translate="AUTHENTICATION_DFLT_TXT"></span></proteo-ui-otp-app-authentication-panel></div></div><div class="col-xs-12 error sm-padding error md-margin-bottom" id="literalException" ng-if="exceptionLiteral && exceptionLiteral != \'isValid\'"><proteo-ui-icon icon-bg="red" icon="alert"></proteo-ui-icon><proteo-ui-text class="text-bold" ng-bind="exceptionLiteral"></proteo-ui-text></div></div>')}]);