"use strict";function _typeof(a){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){return"undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"]?Array.from(a):void 0}function _arrayWithoutHoles(a){return Array.isArray(a)?_arrayLikeToArray(a):void 0}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);b>c;c++)d[c]=a[c];return d}!function(a){var b=function(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=function(){var a={speed:600,delay:5e3,enableDrag:!0,autoplay:!1,loop:!0,slidesPerView:{},"class":{wrapper:"slider-wrapper",slide:"slider-slide",buttons:"slider-btn",pagination:"slider-pagination",paginationItem:"pagination-bullet"},onInit:function(){},onChange:function(){}};c.options=h(a,d),console.log(c.options)},f=function(){var a=c.options,d=a.slidesPerView,e=a["class"],f=e.wrapper,h=e.slide,i=e.buttons,j=e.pagination;c.container=document.querySelector(b),c.wrapper=c.container.querySelector(".".concat(f)),c.slides=c.container.querySelectorAll(".".concat(h)),c.buttons=c.container.querySelectorAll(".".concat(i)),c.pagination=c.container.querySelector(".".concat(j)),c.disableEvents=!1,c.slidesWithClones=c.slides,c.maxSlidesPerView=Math.max.apply(Math,_toConsumableArray(Object.keys(d).map(function(a){return d[a]})).concat([1])),c.index=0,c.wrapperWidth=0,c.transitionDuration=g("transitionDuration"),c.transform=g("transform"),c.timer,c.drag={startX:0,endX:0,dragDiff:0,focused:!1,isLink:!1}};this.init=function(){e(),f();var a=c.options.onInit;c.calculateSlidesPerView(),c.createClones(),c.setWidth(),c.moveWrapper(),c.createPagination(),c.showHideArrow(),c.autoplay(),c.attachEvents(),a()},this.attachEvents=function(){var b=(c.options.enableDrag,c.container);["touchstartHandler","touchmoveHandler","touchendHandler","clickHandler","mousedownHandler","mousemoveHandler","mouseupHandler","mouseleaveHandler","resizeHandler","visibilitychangeHandler","paginationBulletsHandler","prevSlide","nextSlide"].map(function(a){c[a]=c[a].bind(c)}),console.log(b),$(".pagination-bullet").on("click",function(a){console.log("pagination"),c.paginationBulletsHandler(a)}),2===c.buttons.length&&($(".slider-btn-next").on("click",function(){console.log("next"),c.nextSlide()}),$(".slider-btn-prev").on("click",function(){console.log("prev"),c.prevSlide()})),a.addEventListener("resize",c.resizeHandler),a.addEventListener("visibilitychange",c.visibilitychangeHandler)},this.detachEvents=function(){var b=c.container;b.removeEventListener("touchstart",c.touchstartHandler),b.removeEventListener("touchmove",c.touchmoveHandler),b.removeEventListener("touchend",c.touchendHandler),b.removeEventListener("click",c.clickHandler),b.removeEventListener("mousedown",c.mousedownHandler),b.removeEventListener("mousemove",c.mousemoveHandler),b.removeEventListener("mouseup",c.mouseupHandler),b.removeEventListener("mouseleave",c.mouseleaveHandler),b.removeEventListener("click",c.paginationBulletsHandler),c.buttons[0].removeEventListener("click",c.prevSlide),c.buttons[1].removeEventListener("click",c.nextSlide),a.removeEventListener("resize",c.resizeHandler),a.removeEventListener("visibilitychange",c.visibilitychangeHandler)},this.calculateSlidesPerView=function(){var a=c.options,b=a.loop,d=a.slidesPerView;c.slidesPerView=1,Object.keys(d).forEach(function(a){document.body.offsetWidth>=a&&(c.slidesPerView=d[a])}),c.maxIndex=b?c.slides.length:c.slides.length-c.slidesPerView+1},this.createClones=function(){if(c.options.loop){for(var a,b=c.options["class"].slide,d=c.wrapper,e=c.slides.length-1,f=document.createDocumentFragment(),g=document.createDocumentFragment(),h=0;h<c.maxSlidesPerView&&!(0>e-h||h>e);h++)a=d.children[e-h].cloneNode(!0),g.insertBefore(a,g.childNodes[0]),a=d.children[h].cloneNode(!0),f.appendChild(a);d.appendChild(f),d.insertBefore(g,c.slides[0]),c.slidesWithClones=c.container.querySelectorAll(".".concat(b))}},this.setWidth=function(){console.log(c.container.offsetWidth),console.log(c.slidesPerView);var a=Math.round(c.container.offsetWidth/c.slidesPerView)+"px";console.log(a),c.wrapperWidth=0,Object.keys(c.slidesWithClones).map(function(b){var d=c.slidesWithClones[b];d.style.width=a,c.wrapperWidth+=d.offsetWidth}),console.log(c.wrapperWidth),c.wrapper.style.width=c.wrapperWidth+"px"},this.moveWrapper=function(){var a=c.options.loop,b=c.maxSlidesPerView+1-c.slidesPerView+Math.floor(c.slidesPerView/2)+c.index;c.wrapperPosition=0,a||(b=c.index>=c.maxIndex-Math.floor(c.slidesPerView/2)?c.maxIndex-1:c.index);for(var d=0;b>d;d++)c.wrapperPosition+=c.slidesWithClones[d].offsetWidth;c.wrapper.style[c.transform]="translate3d(-".concat(c.wrapperPosition,"px, 0, 0)")},this.changeSlide=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1,b=c.options,d=b.speed,e=b.loop,f=b.onChange;c.disableEvents||(a||(c.resetAutoplay(),c.autoplay()),e?c.disableEvents=!0:(c.index>=0&&c.index<c.maxIndex&&(c.disableEvents=!0),c.index=c.updateIndex(c.index)),c.highlightPaginationBullet(),c.wrapper.style[c.transitionDuration]=d+"ms",c.moveWrapper(),f(),setTimeout(function(){e&&(c.index<0||c.index>=c.slides.length)&&(c.index=c.updateIndex(c.index),c.wrapper.style[c.transitionDuration]="0ms",c.moveWrapper()),c.disableEvents=!1},d))},this.showHideArrow=function(){if(c.pagination){var a=c.options,b=a.loop;a["class"].paginationItem,document.createDocumentFragment(),b?0:Math.min(c.index,c.maxIndex-1);c.maxIndex>1||(console.log(c.buttons),c.buttons[0].classList.add("is-hide"),c.buttons[1].classList.add("is-hide"))}},this.createPagination=function(){if(c.pagination){var a,b=c.options,d=b.loop,e=b["class"].paginationItem,f=document.createDocumentFragment(),g=d?0:Math.min(c.index,c.maxIndex-1);if(c.maxIndex>1)for(var h=0;h<c.maxIndex;h++)a=document.createElement("span"),a.classList.add(e),h==g&&a.classList.add("is-active"),f.appendChild(a);c.pagination.appendChild(f),c.paginationBullets=c.pagination.querySelectorAll(".".concat(e))}},this.destroyPagination=function(){c.pagination&&(c.pagination.innerHTML="")},this.paginationBulletsHandler=function(a){var b=c.options["class"].paginationItem,d=[];if(a.target.classList.contains(b)){for(var e=0;e<c.paginationBullets.length;e++)d.push(c.paginationBullets[e]);var f=d.indexOf(a.target);c.disableEvents||(c.index=f-1,c.nextSlide())}},this.highlightPaginationBullet=function(){if(c.pagination){var a=c.options["class"].paginationItem,b=c.pagination.querySelector(".is-active");b.classList.remove("is-active");var d=c.pagination.querySelectorAll(".".concat(a)),e=c.updateIndex(c.index);d[e].classList.add("is-active")}},this.prevSlide=function(){c.decreaseIndex(),c.changeSlide()},this.nextSlide=function(){c.increaseIndex(),c.changeSlide()},this.increaseIndex=function(){c.disableEvents||c.index++},this.decreaseIndex=function(){c.disableEvents||c.index--},this.updateIndex=function(a){var b=c.options.loop;return b?a>=c.slides.length?0:0>a?c.slides.length-1:a:a>=c.maxIndex?c.maxIndex-1:0>=a?0:a},this.autoplay=function(){var a=c.options,b=a.autoplay,d=a.delay,e=a.speed;b&&(c.timer=setTimeout(function(){c.increaseIndex(),c.changeSlide(!0),c.autoplay()},d+e))},this.resetAutoplay=function(){return clearTimeout(c.timer)},this.updateSliderAfterDrag=function(){var a=c.options.speed;c.drag.focused=!1,c.drag.dragDiff&&(c.autoplay(),Math.abs(c.drag.dragDiff)>100&&(c.drag.dragDiff<0?c.nextSlide():c.prevSlide()),c.wrapper.style[c.transitionDuration]=a+"ms",c.moveWrapper(),c.drag.dragDiff=0,c.drag.isLink=!1)},this.updateSliderDuringDrag=function(){c.resetAutoplay();var a=c.options.loop,b=c.slides[c.index].offsetWidth,d=c.wrapperPosition-c.drag.dragDiff,e=100+b;c.drag.dragDiff=c.drag.endX-c.drag.startX,a||(c.index<=0&&c.drag.dragDiff>0&&(e=100),c.index>=c.maxIndex-1&&c.drag.dragDiff<0&&(e=100)),c.drag.dragDiff<e&&c.drag.dragDiff>-1*e?c.wrapper.style[c.transform]="translate3d(".concat(-1*d,"px, 0, 0)"):c.updateSliderAfterDrag()},this.mousedownHandler=function(a){a.stopPropagation(),a.preventDefault(),c.wrapper.style[c.transitionDuration]="0ms",c.drag.focused=!0,c.drag.startX=a.pageX},this.mousemoveHandler=function(a){a.stopPropagation(),!c.disableEvents&&c.drag.focused&&("A"===a.target.nodeName&&(c.drag.isLink=!0),c.drag.endX=a.pageX,c.updateSliderDuringDrag())},this.mouseupHandler=function(a){a.stopPropagation(),c.updateSliderAfterDrag()},this.mouseleaveHandler=function(a){a.stopPropagation(),c.updateSliderAfterDrag()},this.clickHandler=function(a){a.stopPropagation(),c.drag.isLink&&a.preventDefault(),c.drag.isLink=!1},this.touchstartHandler=function(a){a.stopPropagation(),c.wrapper.style[c.transitionDuration]="0ms",c.drag.focused=!0,c.drag.startX=a.touches[0].pageX},this.touchmoveHandler=function(a){a.stopPropagation(),!c.disableEvents&&c.drag.focused&&(c.drag.endX=a.touches[0].pageX,c.updateSliderDuringDrag())},this.touchendHandler=function(a){a.stopPropagation(),c.updateSliderAfterDrag()},this.visibilitychangeHandler=function(){c.resetAutoplay(),document.hidden||c.autoplay()},this.resizeHandler=function(){var a=c.options.loop,b=c.slidesPerView;c.wrapper.style[c.transitionDuration]="0ms",c.calculateSlidesPerView(),c.setWidth(),c.moveWrapper(),a||b===c.slidesPerView||(c.destroyPagination(),c.createPagination(),c.showHideArrow())};var g=function(a){return"string"==typeof document.documentElement.style[a]?a:(a=a.charAt(0).toUpperCase()+a.slice(1),"webkit".concat(a))},h=function(a,b){return void 0!=b&&"undefined"!=b&&Object.keys(b).forEach(function(c){var d=b[c];"object"===_typeof(d)?Object.keys(d).forEach(function(b){a[c][b]=d[b]}):a[c]=d}),a};this.init()};"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=b:a.SimpleSlider=b}(window,jQuery);